function Fg(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Kf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xf={exports:{}},Dl={},Qf={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=Symbol.for("react.element"),Dg=Symbol.for("react.portal"),Bg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),Ug=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),Hg=Symbol.for("react.forward_ref"),qg=Symbol.for("react.suspense"),Kg=Symbol.for("react.memo"),Xg=Symbol.for("react.lazy"),ih=Symbol.iterator;function Qg(t){return t===null||typeof t!="object"?null:(t=ih&&t[ih]||t["@@iterator"],typeof t=="function"?t:null)}var Jf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gf=Object.assign,Yf={};function Ws(t,e,n){this.props=t,this.context=e,this.refs=Yf,this.updater=n||Jf}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zf(){}Zf.prototype=Ws.prototype;function Fu(t,e,n){this.props=t,this.context=e,this.refs=Yf,this.updater=n||Jf}var Du=Fu.prototype=new Zf;Du.constructor=Fu;Gf(Du,Ws.prototype);Du.isPureReactComponent=!0;var rh=Array.isArray,ep=Object.prototype.hasOwnProperty,Bu={current:null},tp={key:!0,ref:!0,__self:!0,__source:!0};function np(t,e,n){var s,i={},r=null,l=null;if(e!=null)for(s in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)ep.call(e,s)&&!tp.hasOwnProperty(s)&&(i[s]=e[s]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(s in o=t.defaultProps,o)i[s]===void 0&&(i[s]=o[s]);return{$$typeof:Zi,type:t,key:r,ref:l,props:i,_owner:Bu.current}}function Jg(t,e){return{$$typeof:Zi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zi}function Gg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lh=/\/+/g;function bo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gg(""+t.key):e.toString(36)}function Ur(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Zi:case Dg:l=!0}}if(l)return l=t,i=i(l),t=s===""?"."+bo(l,0):s,rh(i)?(n="",t!=null&&(n=t.replace(lh,"$&/")+"/"),Ur(i,e,n,"",function(c){return c})):i!=null&&(Iu(i)&&(i=Jg(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(lh,"$&/")+"/")+t)),e.push(i)),1;if(l=0,s=s===""?".":s+":",rh(t))for(var o=0;o<t.length;o++){r=t[o];var a=s+bo(r,o);l+=Ur(r,e,n,a,i)}else if(a=Qg(t),typeof a=="function")for(t=a.call(t),o=0;!(r=t.next()).done;)r=r.value,a=s+bo(r,o++),l+=Ur(r,e,n,a,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function dr(t,e,n){if(t==null)return t;var s=[],i=0;return Ur(t,s,"","",function(r){return e.call(n,r,i++)}),s}function Yg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},Wr={transition:null},Zg={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:Wr,ReactCurrentOwner:Bu};function sp(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:dr,forEach:function(t,e,n){dr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dr(t,function(){e++}),e},toArray:function(t){return dr(t,function(e){return e})||[]},only:function(t){if(!Iu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=Ws;H.Fragment=Bg;H.Profiler=Vg;H.PureComponent=Fu;H.StrictMode=Ig;H.Suspense=qg;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zg;H.act=sp;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Gf({},t.props),i=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Bu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)ep.call(e,a)&&!tp.hasOwnProperty(a)&&(s[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){o=Array(a);for(var c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:Zi,type:t.type,key:i,ref:r,props:s,_owner:l}};H.createContext=function(t){return t={$$typeof:Wg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ug,_context:t},t.Consumer=t};H.createElement=np;H.createFactory=function(t){var e=np.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Hg,render:t}};H.isValidElement=Iu;H.lazy=function(t){return{$$typeof:Xg,_payload:{_status:-1,_result:t},_init:Yg}};H.memo=function(t,e){return{$$typeof:Kg,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Wr.transition;Wr.transition={};try{t()}finally{Wr.transition=e}};H.unstable_act=sp;H.useCallback=function(t,e){return Ie.current.useCallback(t,e)};H.useContext=function(t){return Ie.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};H.useEffect=function(t,e){return Ie.current.useEffect(t,e)};H.useId=function(){return Ie.current.useId()};H.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Ie.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};H.useRef=function(t){return Ie.current.useRef(t)};H.useState=function(t){return Ie.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Ie.current.useTransition()};H.version="18.3.1";Qf.exports=H;var b=Qf.exports;const Vu=Kf(b),ev=Fg({__proto__:null,default:Vu},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv=b,nv=Symbol.for("react.element"),sv=Symbol.for("react.fragment"),iv=Object.prototype.hasOwnProperty,rv=tv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lv={key:!0,ref:!0,__self:!0,__source:!0};function ip(t,e,n){var s,i={},r=null,l=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(s in e)iv.call(e,s)&&!lv.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:nv,type:t,key:r,ref:l,props:i,_owner:rv.current}}Dl.Fragment=sv;Dl.jsx=ip;Dl.jsxs=ip;Xf.exports=Dl;var u=Xf.exports,ba={},rp={exports:{}},it={},lp={exports:{}},op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,k){var P=N.length;N.push(k);e:for(;0<P;){var $=P-1>>>1,I=N[$];if(0<i(I,k))N[$]=k,N[P]=I,P=$;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var k=N[0],P=N.pop();if(P!==k){N[0]=P;e:for(var $=0,I=N.length,ne=I>>>1;$<ne;){var W=2*($+1)-1,ge=N[W],vt=W+1,z=N[vt];if(0>i(ge,P))vt<I&&0>i(z,ge)?(N[$]=z,N[vt]=P,$=vt):(N[$]=ge,N[W]=P,$=W);else if(vt<I&&0>i(z,P))N[$]=z,N[vt]=P,$=vt;else break e}}return k}function i(N,k){var P=N.sortIndex-k.sortIndex;return P!==0?P:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var a=[],c=[],h=1,d=null,f=3,v=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var k=n(c);k!==null;){if(k.callback===null)s(c);else if(k.startTime<=N)s(c),k.sortIndex=k.expirationTime,e(a,k);else break;k=n(c)}}function S(N){if(g=!1,w(N),!p)if(n(a)!==null)p=!0,O(C);else{var k=n(c);k!==null&&G(S,k.startTime-N)}}function C(N,k){p=!1,g&&(g=!1,m(j),j=-1),v=!0;var P=f;try{for(w(k),d=n(a);d!==null&&(!(d.expirationTime>k)||N&&!V());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var I=$(d.expirationTime<=k);k=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(a)&&s(a),w(k)}else s(a);d=n(a)}if(d!==null)var ne=!0;else{var W=n(c);W!==null&&G(S,W.startTime-k),ne=!1}return ne}finally{d=null,f=P,v=!1}}var T=!1,M=null,j=-1,D=5,A=-1;function V(){return!(t.unstable_now()-A<D)}function Z(){if(M!==null){var N=t.unstable_now();A=N;var k=!0;try{k=M(!0,N)}finally{k?ee():(T=!1,M=null)}}else T=!1}var ee;if(typeof x=="function")ee=function(){x(Z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,B=K.port2;K.port1.onmessage=Z,ee=function(){B.postMessage(null)}}else ee=function(){y(Z,0)};function O(N){M=N,T||(T=!0,ee())}function G(N,k){j=y(function(){N(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,O(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var P=f;f=k;try{return N()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=f;f=N;try{return k()}finally{f=P}},t.unstable_scheduleCallback=function(N,k,P){var $=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?$+P:$):P=$,N){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=P+I,N={id:h++,callback:k,priorityLevel:N,startTime:P,expirationTime:I,sortIndex:-1},P>$?(N.sortIndex=P,e(c,N),n(a)===null&&N===n(c)&&(g?(m(j),j=-1):g=!0,G(S,P-$))):(N.sortIndex=I,e(a,N),p||v||(p=!0,O(C))),N},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(N){var k=f;return function(){var P=f;f=k;try{return N.apply(this,arguments)}finally{f=P}}}})(op);lp.exports=op;var ov=lp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=b,st=ov;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ap=new Set,Ti={};function rs(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(Ti[t]=e,t=0;t<e.length;t++)ap.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=Object.prototype.hasOwnProperty,uv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oh={},ah={};function cv(t){return Sa.call(ah,t)?!0:Sa.call(oh,t)?!1:uv.test(t)?ah[t]=!0:(oh[t]=!0,!1)}function hv(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dv(t,e,n,s){if(e===null||typeof e>"u"||hv(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ve(t,e,n,s,i,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new Ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new Ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new Ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new Ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new Ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new Ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new Ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new Ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new Ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uu=/[\-:]([a-z])/g;function Wu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uu,Wu);Te[e]=new Ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uu,Wu);Te[e]=new Ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uu,Wu);Te[e]=new Ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new Ve(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new Ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hu(t,e,n,s){var i=Te.hasOwnProperty(e)?Te[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dv(e,n,i,s)&&(n=null),s||i===null?cv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var rn=av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fr=Symbol.for("react.element"),hs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),qu=Symbol.for("react.strict_mode"),Na=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),cp=Symbol.for("react.context"),Ku=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),ka=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),hp=Symbol.for("react.offscreen"),uh=Symbol.iterator;function Zs(t){return t===null||typeof t!="object"?null:(t=uh&&t[uh]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,So;function hi(t){if(So===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);So=e&&e[1]||""}return`
`+So+t}var No=!1;function _o(t,e){if(!t||No)return"";No=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),l=i.length-1,o=r.length-1;1<=l&&0<=o&&i[l]!==r[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==r[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==r[o]){var a=`
`+i[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=o);break}}}finally{No=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hi(t):""}function fv(t){switch(t.tag){case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 2:case 15:return t=_o(t.type,!1),t;case 11:return t=_o(t.type.render,!1),t;case 1:return t=_o(t.type,!0),t;default:return""}}function Ea(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case hs:return"Portal";case Na:return"Profiler";case qu:return"StrictMode";case _a:return"Suspense";case ka:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cp:return(t.displayName||"Context")+".Consumer";case up:return(t._context.displayName||"Context")+".Provider";case Ku:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xu:return e=t.displayName||null,e!==null?e:Ea(t.type)||"Memo";case hn:e=t._payload,t=t._init;try{return Ea(t(e))}catch{}}return null}function pv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ea(e);case 8:return e===qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mv(t){var e=dp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){s=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pr(t){t._valueTracker||(t._valueTracker=mv(t))}function fp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=dp(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function ul(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ca(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ch(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pp(t,e){e=e.checked,e!=null&&Hu(t,"checked",e,!1)}function ja(t,e){pp(t,e);var n=jn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ta(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ta(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ta(t,e,n){(e!=="number"||ul(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var di=Array.isArray;function ks(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ma(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(di(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function mp(t,e){var n=jn(e.value),s=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function fh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ra(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mr,vp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gv=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){gv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gi[e]=gi[t]})});function xp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gi.hasOwnProperty(t)&&gi[t]?(""+e).trim():e+"px"}function yp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=xp(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var vv=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(t,e){if(e){if(vv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function La(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function Qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oa=null,Es=null,Cs=null;function ph(t){if(t=nr(t)){if(typeof Oa!="function")throw Error(L(280));var e=t.stateNode;e&&(e=Wl(e),Oa(t.stateNode,t.type,e))}}function wp(t){Es?Cs?Cs.push(t):Cs=[t]:Es=t}function bp(){if(Es){var t=Es,e=Cs;if(Cs=Es=null,ph(t),e)for(t=0;t<e.length;t++)ph(e[t])}}function Sp(t,e){return t(e)}function Np(){}var ko=!1;function _p(t,e,n){if(ko)return t(e,n);ko=!0;try{return Sp(t,e,n)}finally{ko=!1,(Es!==null||Cs!==null)&&(Np(),bp())}}function Ri(t,e){var n=t.stateNode;if(n===null)return null;var s=Wl(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var $a=!1;if(en)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){$a=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{$a=!1}function xv(t,e,n,s,i,r,l,o,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var vi=!1,cl=null,hl=!1,Aa=null,yv={onError:function(t){vi=!0,cl=t}};function wv(t,e,n,s,i,r,l,o,a){vi=!1,cl=null,xv.apply(yv,arguments)}function bv(t,e,n,s,i,r,l,o,a){if(wv.apply(this,arguments),vi){if(vi){var c=cl;vi=!1,cl=null}else throw Error(L(198));hl||(hl=!0,Aa=c)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mh(t){if(ls(t)!==t)throw Error(L(188))}function Sv(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return mh(i),t;if(r===s)return mh(i),e;r=r.sibling}throw Error(L(188))}if(n.return!==s.return)n=i,s=r;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,s=r;break}if(o===s){l=!0,s=i,n=r;break}o=o.sibling}if(!l){for(o=r.child;o;){if(o===n){l=!0,n=r,s=i;break}if(o===s){l=!0,s=r,n=i;break}o=o.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==s)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function Ep(t){return t=Sv(t),t!==null?Cp(t):null}function Cp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cp(t);if(e!==null)return e;t=t.sibling}return null}var jp=st.unstable_scheduleCallback,gh=st.unstable_cancelCallback,Nv=st.unstable_shouldYield,_v=st.unstable_requestPaint,ve=st.unstable_now,kv=st.unstable_getCurrentPriorityLevel,Ju=st.unstable_ImmediatePriority,Tp=st.unstable_UserBlockingPriority,dl=st.unstable_NormalPriority,Ev=st.unstable_LowPriority,Mp=st.unstable_IdlePriority,Bl=null,It=null;function Cv(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Bl,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Mv,jv=Math.log,Tv=Math.LN2;function Mv(t){return t>>>=0,t===0?32:31-(jv(t)/Tv|0)|0}var gr=64,vr=4194304;function fi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fl(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~i;o!==0?s=fi(o):(r&=l,r!==0&&(s=fi(r)))}else l=n&~i,l!==0?s=fi(l):r!==0&&(s=fi(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-_t(e),i=1<<n,s|=t[n],e&=~i;return s}function Rv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pv(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-_t(r),o=1<<l,a=i[l];a===-1?(!(o&n)||o&s)&&(i[l]=Rv(o,e)):a<=e&&(t.expiredLanes|=o),r&=~o}}function Fa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rp(){var t=gr;return gr<<=1,!(gr&4194240)&&(gr=64),t}function Eo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function er(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=n}function Lv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_t(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Gu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-_t(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var te=0;function Pp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lp,Yu,zp,Op,$p,Da=!1,xr=[],xn=null,yn=null,wn=null,Pi=new Map,Li=new Map,fn=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(e.pointerId)}}function ti(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=nr(e),e!==null&&Yu(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ov(t,e,n,s,i){switch(e){case"focusin":return xn=ti(xn,t,e,n,s,i),!0;case"dragenter":return yn=ti(yn,t,e,n,s,i),!0;case"mouseover":return wn=ti(wn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Pi.set(r,ti(Pi.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Li.set(r,ti(Li.get(r)||null,t,e,n,s,i)),!0}return!1}function Ap(t){var e=Bn(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=kp(n),e!==null){t.blockedOn=e,$p(t.priority,function(){zp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ba(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);za=s,n.target.dispatchEvent(s),za=null}else return e=nr(n),e!==null&&Yu(e),t.blockedOn=n,!1;e.shift()}return!0}function xh(t,e,n){Hr(t)&&n.delete(e)}function $v(){Da=!1,xn!==null&&Hr(xn)&&(xn=null),yn!==null&&Hr(yn)&&(yn=null),wn!==null&&Hr(wn)&&(wn=null),Pi.forEach(xh),Li.forEach(xh)}function ni(t,e){t.blockedOn===e&&(t.blockedOn=null,Da||(Da=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,$v)))}function zi(t){function e(i){return ni(i,t)}if(0<xr.length){ni(xr[0],t);for(var n=1;n<xr.length;n++){var s=xr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(xn!==null&&ni(xn,t),yn!==null&&ni(yn,t),wn!==null&&ni(wn,t),Pi.forEach(e),Li.forEach(e),n=0;n<fn.length;n++)s=fn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Ap(n),n.blockedOn===null&&fn.shift()}var js=rn.ReactCurrentBatchConfig,pl=!0;function Av(t,e,n,s){var i=te,r=js.transition;js.transition=null;try{te=1,Zu(t,e,n,s)}finally{te=i,js.transition=r}}function Fv(t,e,n,s){var i=te,r=js.transition;js.transition=null;try{te=4,Zu(t,e,n,s)}finally{te=i,js.transition=r}}function Zu(t,e,n,s){if(pl){var i=Ba(t,e,n,s);if(i===null)$o(t,e,s,ml,n),vh(t,s);else if(Ov(i,t,e,n,s))s.stopPropagation();else if(vh(t,s),e&4&&-1<zv.indexOf(t)){for(;i!==null;){var r=nr(i);if(r!==null&&Lp(r),r=Ba(t,e,n,s),r===null&&$o(t,e,s,ml,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else $o(t,e,s,null,n)}}var ml=null;function Ba(t,e,n,s){if(ml=null,t=Qu(s),t=Bn(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ml=t,null}function Fp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kv()){case Ju:return 1;case Tp:return 4;case dl:case Ev:return 16;case Mp:return 536870912;default:return 16}default:return 16}}var mn=null,ec=null,qr=null;function Dp(){if(qr)return qr;var t,e=ec,n=e.length,s,i="value"in mn?mn.value:mn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(s=1;s<=l&&e[n-s]===i[r-s];s++);return qr=i.slice(t,1<s?1-s:void 0)}function Kr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yr(){return!0}function yh(){return!1}function rt(t){function e(n,s,i,r,l){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?yr:yh,this.isPropagationStopped=yh,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=rt(Hs),tr=de({},Hs,{view:0,detail:0}),Dv=rt(tr),Co,jo,si,Il=de({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Co=t.screenX-si.screenX,jo=t.screenY-si.screenY):jo=Co=0,si=t),Co)},movementY:function(t){return"movementY"in t?t.movementY:jo}}),wh=rt(Il),Bv=de({},Il,{dataTransfer:0}),Iv=rt(Bv),Vv=de({},tr,{relatedTarget:0}),To=rt(Vv),Uv=de({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Wv=rt(Uv),Hv=de({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qv=rt(Hv),Kv=de({},Hs,{data:0}),bh=rt(Kv),Xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jv[t])?!!e[t]:!1}function nc(){return Gv}var Yv=de({},tr,{key:function(t){if(t.key){var e=Xv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?Kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zv=rt(Yv),ex=de({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=rt(ex),tx=de({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),nx=rt(tx),sx=de({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=rt(sx),rx=de({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=rt(rx),ox=[9,13,27,32],sc=en&&"CompositionEvent"in window,xi=null;en&&"documentMode"in document&&(xi=document.documentMode);var ax=en&&"TextEvent"in window&&!xi,Bp=en&&(!sc||xi&&8<xi&&11>=xi),Nh=" ",_h=!1;function Ip(t,e){switch(t){case"keyup":return ox.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fs=!1;function ux(t,e){switch(t){case"compositionend":return Vp(e);case"keypress":return e.which!==32?null:(_h=!0,Nh);case"textInput":return t=e.data,t===Nh&&_h?null:t;default:return null}}function cx(t,e){if(fs)return t==="compositionend"||!sc&&Ip(t,e)?(t=Dp(),qr=ec=mn=null,fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bp&&e.locale!=="ko"?null:e.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hx[t.type]:e==="textarea"}function Up(t,e,n,s){wp(s),e=gl(e,"onChange"),0<e.length&&(n=new tc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var yi=null,Oi=null;function dx(t){em(t,0)}function Vl(t){var e=gs(t);if(fp(e))return t}function fx(t,e){if(t==="change")return e}var Wp=!1;if(en){var Mo;if(en){var Ro="oninput"in document;if(!Ro){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),Ro=typeof Eh.oninput=="function"}Mo=Ro}else Mo=!1;Wp=Mo&&(!document.documentMode||9<document.documentMode)}function Ch(){yi&&(yi.detachEvent("onpropertychange",Hp),Oi=yi=null)}function Hp(t){if(t.propertyName==="value"&&Vl(Oi)){var e=[];Up(e,Oi,t,Qu(t)),_p(dx,e)}}function px(t,e,n){t==="focusin"?(Ch(),yi=e,Oi=n,yi.attachEvent("onpropertychange",Hp)):t==="focusout"&&Ch()}function mx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vl(Oi)}function gx(t,e){if(t==="click")return Vl(e)}function vx(t,e){if(t==="input"||t==="change")return Vl(e)}function xx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:xx;function $i(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Sa.call(e,i)||!Ct(t[i],e[i]))return!1}return!0}function jh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Th(t,e){var n=jh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jh(n)}}function qp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kp(){for(var t=window,e=ul();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ul(t.document)}return e}function ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yx(t){var e=Kp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qp(n.ownerDocument.documentElement,n)){if(s!==null&&ic(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=Th(n,r);var l=Th(n,s);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wx=en&&"documentMode"in document&&11>=document.documentMode,ps=null,Ia=null,wi=null,Va=!1;function Mh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Va||ps==null||ps!==ul(s)||(s=ps,"selectionStart"in s&&ic(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wi&&$i(wi,s)||(wi=s,s=gl(Ia,"onSelect"),0<s.length&&(e=new tc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ps)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ms={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Po={},Xp={};en&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ul(t){if(Po[t])return Po[t];if(!ms[t])return t;var e=ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xp)return Po[t]=e[n];return t}var Qp=Ul("animationend"),Jp=Ul("animationiteration"),Gp=Ul("animationstart"),Yp=Ul("transitionend"),Zp=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,e){Zp.set(t,e),rs(e,[t])}for(var Lo=0;Lo<Rh.length;Lo++){var zo=Rh[Lo],bx=zo.toLowerCase(),Sx=zo[0].toUpperCase()+zo.slice(1);Rn(bx,"on"+Sx)}Rn(Qp,"onAnimationEnd");Rn(Jp,"onAnimationIteration");Rn(Gp,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Yp,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Ph(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,bv(s,e,void 0,t),t.currentTarget=null}function em(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var l=s.length-1;0<=l;l--){var o=s[l],a=o.instance,c=o.currentTarget;if(o=o.listener,a!==r&&i.isPropagationStopped())break e;Ph(i,o,c),r=a}else for(l=0;l<s.length;l++){if(o=s[l],a=o.instance,c=o.currentTarget,o=o.listener,a!==r&&i.isPropagationStopped())break e;Ph(i,o,c),r=a}}}if(hl)throw t=Aa,hl=!1,Aa=null,t}function re(t,e){var n=e[Ka];n===void 0&&(n=e[Ka]=new Set);var s=t+"__bubble";n.has(s)||(tm(e,t,2,!1),n.add(s))}function Oo(t,e,n){var s=0;e&&(s|=4),tm(n,t,s,e)}var br="_reactListening"+Math.random().toString(36).slice(2);function Ai(t){if(!t[br]){t[br]=!0,ap.forEach(function(n){n!=="selectionchange"&&(Nx.has(n)||Oo(n,!1,t),Oo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[br]||(e[br]=!0,Oo("selectionchange",!1,e))}}function tm(t,e,n,s){switch(Fp(e)){case 1:var i=Av;break;case 4:i=Fv;break;default:i=Zu}n=i.bind(null,e,n,t),i=void 0,!$a||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $o(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=s.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Bn(o),l===null)return;if(a=l.tag,a===5||a===6){s=r=l;continue e}o=o.parentNode}}s=s.return}_p(function(){var c=r,h=Qu(n),d=[];e:{var f=Zp.get(t);if(f!==void 0){var v=tc,p=t;switch(t){case"keypress":if(Kr(n)===0)break e;case"keydown":case"keyup":v=Zv;break;case"focusin":p="focus",v=To;break;case"focusout":p="blur",v=To;break;case"beforeblur":case"afterblur":v=To;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=nx;break;case Qp:case Jp:case Gp:v=Wv;break;case Yp:v=ix;break;case"scroll":v=Dv;break;case"wheel":v=lx;break;case"copy":case"cut":case"paste":v=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sh}var g=(e&4)!==0,y=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=Ri(x,m),S!=null&&g.push(Fi(x,S,w)))),y)break;x=x.return}0<g.length&&(f=new v(f,p,null,n,h),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==za&&(p=n.relatedTarget||n.fromElement)&&(Bn(p)||p[tn]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(p=n.relatedTarget||n.toElement,v=c,p=p?Bn(p):null,p!==null&&(y=ls(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=c),v!==p)){if(g=wh,S="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=Sh,S="onPointerLeave",m="onPointerEnter",x="pointer"),y=v==null?f:gs(v),w=p==null?f:gs(p),f=new g(S,x+"leave",v,n,h),f.target=y,f.relatedTarget=w,S=null,Bn(h)===c&&(g=new g(m,x+"enter",p,n,h),g.target=w,g.relatedTarget=y,S=g),y=S,v&&p)t:{for(g=v,m=p,x=0,w=g;w;w=as(w))x++;for(w=0,S=m;S;S=as(S))w++;for(;0<x-w;)g=as(g),x--;for(;0<w-x;)m=as(m),w--;for(;x--;){if(g===m||m!==null&&g===m.alternate)break t;g=as(g),m=as(m)}g=null}else g=null;v!==null&&Lh(d,f,v,g,!1),p!==null&&y!==null&&Lh(d,y,p,g,!0)}}e:{if(f=c?gs(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var C=fx;else if(kh(f))if(Wp)C=vx;else{C=mx;var T=px}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=gx);if(C&&(C=C(t,c))){Up(d,C,n,h);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Ta(f,"number",f.value)}switch(T=c?gs(c):window,t){case"focusin":(kh(T)||T.contentEditable==="true")&&(ps=T,Ia=c,wi=null);break;case"focusout":wi=Ia=ps=null;break;case"mousedown":Va=!0;break;case"contextmenu":case"mouseup":case"dragend":Va=!1,Mh(d,n,h);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":Mh(d,n,h)}var M;if(sc)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else fs?Ip(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Bp&&n.locale!=="ko"&&(fs||j!=="onCompositionStart"?j==="onCompositionEnd"&&fs&&(M=Dp()):(mn=h,ec="value"in mn?mn.value:mn.textContent,fs=!0)),T=gl(c,j),0<T.length&&(j=new bh(j,t,null,n,h),d.push({event:j,listeners:T}),M?j.data=M:(M=Vp(n),M!==null&&(j.data=M)))),(M=ax?ux(t,n):cx(t,n))&&(c=gl(c,"onBeforeInput"),0<c.length&&(h=new bh("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=M))}em(d,e)})}function Fi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gl(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ri(t,n),r!=null&&s.unshift(Fi(t,r,i)),r=Ri(t,e),r!=null&&s.push(Fi(t,r,i))),t=t.return}return s}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lh(t,e,n,s,i){for(var r=e._reactName,l=[];n!==null&&n!==s;){var o=n,a=o.alternate,c=o.stateNode;if(a!==null&&a===s)break;o.tag===5&&c!==null&&(o=c,i?(a=Ri(n,r),a!=null&&l.unshift(Fi(n,a,o))):i||(a=Ri(n,r),a!=null&&l.push(Fi(n,a,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var _x=/\r\n?/g,kx=/\u0000|\uFFFD/g;function zh(t){return(typeof t=="string"?t:""+t).replace(_x,`
`).replace(kx,"")}function Sr(t,e,n){if(e=zh(e),zh(t)!==e&&n)throw Error(L(425))}function vl(){}var Ua=null,Wa=null;function Ha(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,Oh=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Oh<"u"?function(t){return Oh.resolve(null).then(t).catch(jx)}:qa;function jx(t){setTimeout(function(){throw t})}function Ao(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),zi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);zi(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $h(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Dt="__reactFiber$"+qs,Di="__reactProps$"+qs,tn="__reactContainer$"+qs,Ka="__reactEvents$"+qs,Tx="__reactListeners$"+qs,Mx="__reactHandles$"+qs;function Bn(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tn]||n[Dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$h(t);t!==null;){if(n=t[Dt])return n;t=$h(t)}return e}t=n,n=t.parentNode}return null}function nr(t){return t=t[Dt]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function Wl(t){return t[Di]||null}var Xa=[],vs=-1;function Pn(t){return{current:t}}function oe(t){0>vs||(t.current=Xa[vs],Xa[vs]=null,vs--)}function ie(t,e){vs++,Xa[vs]=t.current,t.current=e}var Tn={},Oe=Pn(Tn),Ke=Pn(!1),Qn=Tn;function Ls(t,e){var n=t.type.contextTypes;if(!n)return Tn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(t){return t=t.childContextTypes,t!=null}function xl(){oe(Ke),oe(Oe)}function Ah(t,e,n){if(Oe.current!==Tn)throw Error(L(168));ie(Oe,e),ie(Ke,n)}function nm(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(L(108,pv(t)||"Unknown",i));return de({},n,s)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tn,Qn=Oe.current,ie(Oe,t),ie(Ke,Ke.current),!0}function Fh(t,e,n){var s=t.stateNode;if(!s)throw Error(L(169));n?(t=nm(t,e,Qn),s.__reactInternalMemoizedMergedChildContext=t,oe(Ke),oe(Oe),ie(Oe,t)):oe(Ke),ie(Ke,n)}var Xt=null,Hl=!1,Fo=!1;function sm(t){Xt===null?Xt=[t]:Xt.push(t)}function Rx(t){Hl=!0,sm(t)}function Ln(){if(!Fo&&Xt!==null){Fo=!0;var t=0,e=te;try{var n=Xt;for(te=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Xt=null,Hl=!1}catch(i){throw Xt!==null&&(Xt=Xt.slice(t+1)),jp(Ju,Ln),i}finally{te=e,Fo=!1}}return null}var xs=[],ys=0,wl=null,bl=0,ct=[],ht=0,Jn=null,Qt=1,Jt="";function Fn(t,e){xs[ys++]=bl,xs[ys++]=wl,wl=t,bl=e}function im(t,e,n){ct[ht++]=Qt,ct[ht++]=Jt,ct[ht++]=Jn,Jn=t;var s=Qt;t=Jt;var i=32-_t(s)-1;s&=~(1<<i),n+=1;var r=32-_t(e)+i;if(30<r){var l=i-i%5;r=(s&(1<<l)-1).toString(32),s>>=l,i-=l,Qt=1<<32-_t(e)+i|n<<i|s,Jt=r+t}else Qt=1<<r|n<<i|s,Jt=t}function rc(t){t.return!==null&&(Fn(t,1),im(t,1,0))}function lc(t){for(;t===wl;)wl=xs[--ys],xs[ys]=null,bl=xs[--ys],xs[ys]=null;for(;t===Jn;)Jn=ct[--ht],ct[ht]=null,Jt=ct[--ht],ct[ht]=null,Qt=ct[--ht],ct[ht]=null}var nt=null,tt=null,ae=!1,Nt=null;function rm(t,e){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:Qt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Qa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ja(t){if(ae){var e=tt;if(e){var n=e;if(!Dh(t,e)){if(Qa(t))throw Error(L(418));e=bn(n.nextSibling);var s=nt;e&&Dh(t,e)?rm(s,n):(t.flags=t.flags&-4097|2,ae=!1,nt=t)}}else{if(Qa(t))throw Error(L(418));t.flags=t.flags&-4097|2,ae=!1,nt=t}}}function Bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Nr(t){if(t!==nt)return!1;if(!ae)return Bh(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ha(t.type,t.memoizedProps)),e&&(e=tt)){if(Qa(t))throw lm(),Error(L(418));for(;e;)rm(t,e),e=bn(e.nextSibling)}if(Bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?bn(t.stateNode.nextSibling):null;return!0}function lm(){for(var t=tt;t;)t=bn(t.nextSibling)}function zs(){tt=nt=null,ae=!1}function oc(t){Nt===null?Nt=[t]:Nt.push(t)}var Px=rn.ReactCurrentBatchConfig;function ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var s=n.stateNode}if(!s)throw Error(L(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var o=i.refs;l===null?delete o[r]:o[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function _r(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ih(t){var e=t._init;return e(t._payload)}function om(t){function e(m,x){if(t){var w=m.deletions;w===null?(m.deletions=[x],m.flags|=16):w.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function s(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=kn(m,x),m.index=0,m.sibling=null,m}function r(m,x,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<x?(m.flags|=2,x):w):(m.flags|=2,x)):(m.flags|=1048576,x)}function l(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,x,w,S){return x===null||x.tag!==6?(x=Ho(w,m.mode,S),x.return=m,x):(x=i(x,w),x.return=m,x)}function a(m,x,w,S){var C=w.type;return C===ds?h(m,x,w.props.children,S,w.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&Ih(C)===x.type)?(S=i(x,w.props),S.ref=ii(m,x,w),S.return=m,S):(S=el(w.type,w.key,w.props,null,m.mode,S),S.ref=ii(m,x,w),S.return=m,S)}function c(m,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=qo(w,m.mode,S),x.return=m,x):(x=i(x,w.children||[]),x.return=m,x)}function h(m,x,w,S,C){return x===null||x.tag!==7?(x=Hn(w,m.mode,S,C),x.return=m,x):(x=i(x,w),x.return=m,x)}function d(m,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ho(""+x,m.mode,w),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fr:return w=el(x.type,x.key,x.props,null,m.mode,w),w.ref=ii(m,null,x),w.return=m,w;case hs:return x=qo(x,m.mode,w),x.return=m,x;case hn:var S=x._init;return d(m,S(x._payload),w)}if(di(x)||Zs(x))return x=Hn(x,m.mode,w,null),x.return=m,x;_r(m,x)}return null}function f(m,x,w,S){var C=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(m,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fr:return w.key===C?a(m,x,w,S):null;case hs:return w.key===C?c(m,x,w,S):null;case hn:return C=w._init,f(m,x,C(w._payload),S)}if(di(w)||Zs(w))return C!==null?null:h(m,x,w,S,null);_r(m,w)}return null}function v(m,x,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(w)||null,o(x,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case fr:return m=m.get(S.key===null?w:S.key)||null,a(x,m,S,C);case hs:return m=m.get(S.key===null?w:S.key)||null,c(x,m,S,C);case hn:var T=S._init;return v(m,x,w,T(S._payload),C)}if(di(S)||Zs(S))return m=m.get(w)||null,h(x,m,S,C,null);_r(x,S)}return null}function p(m,x,w,S){for(var C=null,T=null,M=x,j=x=0,D=null;M!==null&&j<w.length;j++){M.index>j?(D=M,M=null):D=M.sibling;var A=f(m,M,w[j],S);if(A===null){M===null&&(M=D);break}t&&M&&A.alternate===null&&e(m,M),x=r(A,x,j),T===null?C=A:T.sibling=A,T=A,M=D}if(j===w.length)return n(m,M),ae&&Fn(m,j),C;if(M===null){for(;j<w.length;j++)M=d(m,w[j],S),M!==null&&(x=r(M,x,j),T===null?C=M:T.sibling=M,T=M);return ae&&Fn(m,j),C}for(M=s(m,M);j<w.length;j++)D=v(M,m,j,w[j],S),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?j:D.key),x=r(D,x,j),T===null?C=D:T.sibling=D,T=D);return t&&M.forEach(function(V){return e(m,V)}),ae&&Fn(m,j),C}function g(m,x,w,S){var C=Zs(w);if(typeof C!="function")throw Error(L(150));if(w=C.call(w),w==null)throw Error(L(151));for(var T=C=null,M=x,j=x=0,D=null,A=w.next();M!==null&&!A.done;j++,A=w.next()){M.index>j?(D=M,M=null):D=M.sibling;var V=f(m,M,A.value,S);if(V===null){M===null&&(M=D);break}t&&M&&V.alternate===null&&e(m,M),x=r(V,x,j),T===null?C=V:T.sibling=V,T=V,M=D}if(A.done)return n(m,M),ae&&Fn(m,j),C;if(M===null){for(;!A.done;j++,A=w.next())A=d(m,A.value,S),A!==null&&(x=r(A,x,j),T===null?C=A:T.sibling=A,T=A);return ae&&Fn(m,j),C}for(M=s(m,M);!A.done;j++,A=w.next())A=v(M,m,j,A.value,S),A!==null&&(t&&A.alternate!==null&&M.delete(A.key===null?j:A.key),x=r(A,x,j),T===null?C=A:T.sibling=A,T=A);return t&&M.forEach(function(Z){return e(m,Z)}),ae&&Fn(m,j),C}function y(m,x,w,S){if(typeof w=="object"&&w!==null&&w.type===ds&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fr:e:{for(var C=w.key,T=x;T!==null;){if(T.key===C){if(C=w.type,C===ds){if(T.tag===7){n(m,T.sibling),x=i(T,w.props.children),x.return=m,m=x;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===hn&&Ih(C)===T.type){n(m,T.sibling),x=i(T,w.props),x.ref=ii(m,T,w),x.return=m,m=x;break e}n(m,T);break}else e(m,T);T=T.sibling}w.type===ds?(x=Hn(w.props.children,m.mode,S,w.key),x.return=m,m=x):(S=el(w.type,w.key,w.props,null,m.mode,S),S.ref=ii(m,x,w),S.return=m,m=S)}return l(m);case hs:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(m,x.sibling),x=i(x,w.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=qo(w,m.mode,S),x.return=m,m=x}return l(m);case hn:return T=w._init,y(m,x,T(w._payload),S)}if(di(w))return p(m,x,w,S);if(Zs(w))return g(m,x,w,S);_r(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(m,x.sibling),x=i(x,w),x.return=m,m=x):(n(m,x),x=Ho(w,m.mode,S),x.return=m,m=x),l(m)):n(m,x)}return y}var Os=om(!0),am=om(!1),Sl=Pn(null),Nl=null,ws=null,ac=null;function uc(){ac=ws=Nl=null}function cc(t){var e=Sl.current;oe(Sl),t._currentValue=e}function Ga(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ts(t,e){Nl=t,ac=ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:e,next:null},ws===null){if(Nl===null)throw Error(L(308));ws=t,Nl.dependencies={lanes:0,firstContext:t}}else ws=ws.next=t;return e}var In=null;function hc(t){In===null?In=[t]:In.push(t)}function um(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,hc(e)):(n.next=i.next,i.next=n),e.interleaved=n,nn(t,s)}function nn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function dc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Q&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,nn(t,n)}return i=s.interleaved,i===null?(e.next=e,hc(s)):(e.next=i.next,i.next=e),s.interleaved=e,nn(t,n)}function Xr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Gu(t,n)}}function Vh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=l:r=r.next=l,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _l(t,e,n,s){var i=t.updateQueue;dn=!1;var r=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var a=o,c=a.next;a.next=null,l===null?r=c:l.next=c,l=a;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=a))}if(r!==null){var d=i.baseState;l=0,h=c=a=null,o=r;do{var f=o.lane,v=o.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,g=o;switch(f=e,v=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(v,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(v,d,f):p,f==null)break e;d=de({},d,f);break e;case 2:dn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=v,a=d):h=h.next=v,l|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Yn|=l,t.lanes=l,t.memoizedState=d}}function Uh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(L(191,i));i.call(s)}}}var sr={},Vt=Pn(sr),Bi=Pn(sr),Ii=Pn(sr);function Vn(t){if(t===sr)throw Error(L(174));return t}function fc(t,e){switch(ie(Ii,e),ie(Bi,t),ie(Vt,sr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ra(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ra(e,t)}oe(Vt),ie(Vt,e)}function $s(){oe(Vt),oe(Bi),oe(Ii)}function hm(t){Vn(Ii.current);var e=Vn(Vt.current),n=Ra(e,t.type);e!==n&&(ie(Bi,t),ie(Vt,n))}function pc(t){Bi.current===t&&(oe(Vt),oe(Bi))}var ue=Pn(0);function kl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Do=[];function mc(){for(var t=0;t<Do.length;t++)Do[t]._workInProgressVersionPrimary=null;Do.length=0}var Qr=rn.ReactCurrentDispatcher,Bo=rn.ReactCurrentBatchConfig,Gn=0,ce=null,Se=null,_e=null,El=!1,bi=!1,Vi=0,Lx=0;function Re(){throw Error(L(321))}function gc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function vc(t,e,n,s,i,r){if(Gn=r,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qr.current=t===null||t.memoizedState===null?Ax:Fx,t=n(s,i),bi){r=0;do{if(bi=!1,Vi=0,25<=r)throw Error(L(301));r+=1,_e=Se=null,e.updateQueue=null,Qr.current=Dx,t=n(s,i)}while(bi)}if(Qr.current=Cl,e=Se!==null&&Se.next!==null,Gn=0,_e=Se=ce=null,El=!1,e)throw Error(L(300));return t}function xc(){var t=Vi!==0;return Vi=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ce.memoizedState=_e=t:_e=_e.next=t,_e}function gt(){if(Se===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=_e===null?ce.memoizedState:_e.next;if(e!==null)_e=e,Se=t;else{if(t===null)throw Error(L(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},_e===null?ce.memoizedState=_e=t:_e=_e.next=t}return _e}function Ui(t,e){return typeof e=="function"?e(t):e}function Io(t){var e=gt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var s=Se,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var l=i.next;i.next=r.next,r.next=l}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var o=l=null,a=null,c=r;do{var h=c.lane;if((Gn&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(o=a=d,l=s):a=a.next=d,ce.lanes|=h,Yn|=h}c=c.next}while(c!==null&&c!==r);a===null?l=s:a.next=o,Ct(s,e.memoizedState)||(qe=!0),e.memoizedState=s,e.baseState=l,e.baseQueue=a,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,ce.lanes|=r,Yn|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vo(t){var e=gt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do r=t(r,l.action),l=l.next;while(l!==i);Ct(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function dm(){}function fm(t,e){var n=ce,s=gt(),i=e(),r=!Ct(s.memoizedState,i);if(r&&(s.memoizedState=i,qe=!0),s=s.queue,yc(gm.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Wi(9,mm.bind(null,n,s,i,e),void 0,null),ke===null)throw Error(L(349));Gn&30||pm(n,e,i)}return i}function pm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mm(t,e,n,s){e.value=n,e.getSnapshot=s,vm(e)&&xm(t)}function gm(t,e,n){return n(function(){vm(e)&&xm(t)})}function vm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ct(t,n)}catch{return!0}}function xm(t){var e=nn(t,1);e!==null&&kt(e,t,1,-1)}function Wh(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},e.queue=t,t=t.dispatch=$x.bind(null,ce,t),[e.memoizedState,t]}function Wi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function ym(){return gt().memoizedState}function Jr(t,e,n,s){var i=Ft();ce.flags|=t,i.memoizedState=Wi(1|e,n,void 0,s===void 0?null:s)}function ql(t,e,n,s){var i=gt();s=s===void 0?null:s;var r=void 0;if(Se!==null){var l=Se.memoizedState;if(r=l.destroy,s!==null&&gc(s,l.deps)){i.memoizedState=Wi(e,n,r,s);return}}ce.flags|=t,i.memoizedState=Wi(1|e,n,r,s)}function Hh(t,e){return Jr(8390656,8,t,e)}function yc(t,e){return ql(2048,8,t,e)}function wm(t,e){return ql(4,2,t,e)}function bm(t,e){return ql(4,4,t,e)}function Sm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nm(t,e,n){return n=n!=null?n.concat([t]):null,ql(4,4,Sm.bind(null,e,t),n)}function wc(){}function _m(t,e){var n=gt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&gc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function km(t,e){var n=gt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&gc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Em(t,e,n){return Gn&21?(Ct(n,e)||(n=Rp(),ce.lanes|=n,Yn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function zx(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var s=Bo.transition;Bo.transition={};try{t(!1),e()}finally{te=n,Bo.transition=s}}function Cm(){return gt().memoizedState}function Ox(t,e,n){var s=_n(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jm(t))Tm(e,n);else if(n=um(t,e,n,s),n!==null){var i=De();kt(n,t,s,i),Mm(n,e,s)}}function $x(t,e,n){var s=_n(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jm(t))Tm(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,o=r(l,n);if(i.hasEagerState=!0,i.eagerState=o,Ct(o,l)){var a=e.interleaved;a===null?(i.next=i,hc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=um(t,e,i,s),n!==null&&(i=De(),kt(n,t,s,i),Mm(n,e,s))}}function jm(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Tm(t,e){bi=El=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Mm(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Gu(t,n)}}var Cl={readContext:mt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Ax={readContext:mt,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:Hh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jr(4194308,4,Sm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jr(4,2,t,e)},useMemo:function(t,e){var n=Ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ft();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Ox.bind(null,ce,t),[s.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:Wh,useDebugValue:wc,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=Wh(!1),e=t[0];return t=zx.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ce,i=Ft();if(ae){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ke===null)throw Error(L(349));Gn&30||pm(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Hh(gm.bind(null,s,r,t),[t]),s.flags|=2048,Wi(9,mm.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Ft(),e=ke.identifierPrefix;if(ae){var n=Jt,s=Qt;n=(s&~(1<<32-_t(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fx={readContext:mt,useCallback:_m,useContext:mt,useEffect:yc,useImperativeHandle:Nm,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:km,useReducer:Io,useRef:ym,useState:function(){return Io(Ui)},useDebugValue:wc,useDeferredValue:function(t){var e=gt();return Em(e,Se.memoizedState,t)},useTransition:function(){var t=Io(Ui)[0],e=gt().memoizedState;return[t,e]},useMutableSource:dm,useSyncExternalStore:fm,useId:Cm,unstable_isNewReconciler:!1},Dx={readContext:mt,useCallback:_m,useContext:mt,useEffect:yc,useImperativeHandle:Nm,useInsertionEffect:wm,useLayoutEffect:bm,useMemo:km,useReducer:Vo,useRef:ym,useState:function(){return Vo(Ui)},useDebugValue:wc,useDeferredValue:function(t){var e=gt();return Se===null?e.memoizedState=t:Em(e,Se.memoizedState,t)},useTransition:function(){var t=Vo(Ui)[0],e=gt().memoizedState;return[t,e]},useMutableSource:dm,useSyncExternalStore:fm,useId:Cm,unstable_isNewReconciler:!1};function wt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ya(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kl={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=De(),i=_n(t),r=Zt(s,i);r.payload=e,n!=null&&(r.callback=n),e=Sn(t,r,i),e!==null&&(kt(e,t,i,s),Xr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=De(),i=_n(t),r=Zt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Sn(t,r,i),e!==null&&(kt(e,t,i,s),Xr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),s=_n(t),i=Zt(n,s);i.tag=2,e!=null&&(i.callback=e),e=Sn(t,i,s),e!==null&&(kt(e,t,s,n),Xr(e,t,s))}};function qh(t,e,n,s,i,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,l):e.prototype&&e.prototype.isPureReactComponent?!$i(n,s)||!$i(i,r):!0}function Rm(t,e,n){var s=!1,i=Tn,r=e.contextType;return typeof r=="object"&&r!==null?r=mt(r):(i=Xe(e)?Qn:Oe.current,s=e.contextTypes,r=(s=s!=null)?Ls(t,i):Tn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kl,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Kh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Kl.enqueueReplaceState(e,e.state,null)}function Za(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dc(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=mt(r):(r=Xe(e)?Qn:Oe.current,i.context=Ls(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ya(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kl.enqueueReplaceState(i,i.state,null),_l(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function As(t,e){try{var n="",s=e;do n+=fv(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Uo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bx=typeof WeakMap=="function"?WeakMap:Map;function Pm(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Tl||(Tl=!0,cu=s),eu(t,e)},n}function Lm(t,e,n){n=Zt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){eu(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){eu(t,e),typeof s!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Xh(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Bx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=ey.bind(null,t,e,n),e.then(t,t))}function Qh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jh(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),t)}var Ix=rn.ReactCurrentOwner,qe=!1;function Fe(t,e,n,s){e.child=t===null?am(e,null,n,s):Os(e,t.child,n,s)}function Gh(t,e,n,s,i){n=n.render;var r=e.ref;return Ts(e,i),s=vc(t,e,n,s,r,i),n=xc(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(ae&&n&&rc(e),e.flags|=1,Fe(t,e,s,i),e.child)}function Yh(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!jc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,zm(t,e,r,s,i)):(t=el(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var l=r.memoizedProps;if(n=n.compare,n=n!==null?n:$i,n(l,s)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=kn(r,s),t.ref=e.ref,t.return=e,e.child=t}function zm(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if($i(r,s)&&t.ref===e.ref)if(qe=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,sn(t,e,i)}return tu(t,e,n,s,i)}function Om(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Ss,et),et|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Ss,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ie(Ss,et),et|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ie(Ss,et),et|=s;return Fe(t,e,i,n),e.child}function $m(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tu(t,e,n,s,i){var r=Xe(n)?Qn:Oe.current;return r=Ls(e,r),Ts(e,i),n=vc(t,e,n,s,r,i),s=xc(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(ae&&s&&rc(e),e.flags|=1,Fe(t,e,n,i),e.child)}function Zh(t,e,n,s,i){if(Xe(n)){var r=!0;yl(e)}else r=!1;if(Ts(e,i),e.stateNode===null)Gr(t,e),Rm(e,n,s),Za(e,n,s,i),s=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var a=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=mt(c):(c=Xe(n)?Qn:Oe.current,c=Ls(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||a!==c)&&Kh(e,l,s,c),dn=!1;var f=e.memoizedState;l.state=f,_l(e,s,l,i),a=e.memoizedState,o!==s||f!==a||Ke.current||dn?(typeof h=="function"&&(Ya(e,n,h,s),a=e.memoizedState),(o=dn||qh(e,n,o,s,f,a,c))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=a),l.props=s,l.state=a,l.context=c,s=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{l=e.stateNode,cm(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:wt(e.type,o),l.props=c,d=e.pendingProps,f=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=mt(a):(a=Xe(n)?Qn:Oe.current,a=Ls(e,a));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||f!==a)&&Kh(e,l,s,a),dn=!1,f=e.memoizedState,l.state=f,_l(e,s,l,i);var p=e.memoizedState;o!==d||f!==p||Ke.current||dn?(typeof v=="function"&&(Ya(e,n,v,s),p=e.memoizedState),(c=dn||qh(e,n,c,s,f,p,a)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,p,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,p,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),l.props=s,l.state=p,l.context=a,s=c):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return nu(t,e,n,s,r,i)}function nu(t,e,n,s,i,r){$m(t,e);var l=(e.flags&128)!==0;if(!s&&!l)return i&&Fh(e,n,!1),sn(t,e,r);s=e.stateNode,Ix.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&l?(e.child=Os(e,t.child,null,r),e.child=Os(e,null,o,r)):Fe(t,e,o,r),e.memoizedState=s.state,i&&Fh(e,n,!0),e.child}function Am(t){var e=t.stateNode;e.pendingContext?Ah(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ah(t,e.context,!1),fc(t,e.containerInfo)}function ed(t,e,n,s,i){return zs(),oc(i),e.flags|=256,Fe(t,e,n,s),e.child}var su={dehydrated:null,treeContext:null,retryLane:0};function iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fm(t,e,n){var s=e.pendingProps,i=ue.current,r=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(ue,i&1),t===null)return Ja(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=s.children,t=s.fallback,r?(s=e.mode,r=e.child,l={mode:"hidden",children:l},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Jl(l,s,0,null),t=Hn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=iu(n),e.memoizedState=su,t):bc(e,l));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Vx(t,e,l,s,o,i,n);if(r){r=s.fallback,l=e.mode,i=t.child,o=i.sibling;var a={mode:"hidden",children:s.children};return!(l&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=a,e.deletions=null):(s=kn(i,a),s.subtreeFlags=i.subtreeFlags&14680064),o!==null?r=kn(o,r):(r=Hn(r,l,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,l=t.child.memoizedState,l=l===null?iu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~n,e.memoizedState=su,s}return r=t.child,t=r.sibling,s=kn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function bc(t,e){return e=Jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kr(t,e,n,s){return s!==null&&oc(s),Os(e,t.child,null,n),t=bc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vx(t,e,n,s,i,r,l){if(n)return e.flags&256?(e.flags&=-257,s=Uo(Error(L(422))),kr(t,e,l,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Jl({mode:"visible",children:s.children},i,0,null),r=Hn(r,i,l,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Os(e,t.child,null,l),e.child.memoizedState=iu(l),e.memoizedState=su,r);if(!(e.mode&1))return kr(t,e,l,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var o=s.dgst;return s=o,r=Error(L(419)),s=Uo(r,s,void 0),kr(t,e,l,s)}if(o=(l&t.childLanes)!==0,qe||o){if(s=ke,s!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|l)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,nn(t,i),kt(s,t,i,-1))}return Cc(),s=Uo(Error(L(421))),kr(t,e,l,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ty.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,tt=bn(i.nextSibling),nt=e,ae=!0,Nt=null,t!==null&&(ct[ht++]=Qt,ct[ht++]=Jt,ct[ht++]=Jn,Qt=t.id,Jt=t.overflow,Jn=e),e=bc(e,s.children),e.flags|=4096,e)}function td(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Ga(t.return,e,n)}function Wo(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Dm(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Fe(t,e,s.children,n),s=ue.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&td(t,n,e);else if(t.tag===19)td(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ie(ue,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wo(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wo(e,!0,n,null,r);break;case"together":Wo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ux(t,e,n){switch(e.tag){case 3:Am(e),zs();break;case 5:hm(e);break;case 1:Xe(e.type)&&yl(e);break;case 4:fc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ie(Sl,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ie(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?Fm(t,e,n):(ie(ue,ue.current&1),t=sn(t,e,n),t!==null?t.sibling:null);ie(ue,ue.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Dm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(ue,ue.current),s)break;return null;case 22:case 23:return e.lanes=0,Om(t,e,n)}return sn(t,e,n)}var Bm,ru,Im,Vm;Bm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ru=function(){};Im=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Vn(Vt.current);var r=null;switch(n){case"input":i=Ca(t,i),s=Ca(t,s),r=[];break;case"select":i=de({},i,{value:void 0}),s=de({},s,{value:void 0}),r=[];break;case"textarea":i=Ma(t,i),s=Ma(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=vl)}Pa(n,s);var l;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ti.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var a=s[c];if(o=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&a!==o&&(a!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(r||(r=[]),r.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(r=r||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&re("scroll",t),r||o===a||(r=[])):(r=r||[]).push(c,a))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Vm=function(t,e,n,s){n!==s&&(e.flags|=4)};function ri(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Wx(t,e,n){var s=e.pendingProps;switch(lc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Xe(e.type)&&xl(),Pe(e),null;case 3:return s=e.stateNode,$s(),oe(Ke),oe(Oe),mc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Nr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nt!==null&&(fu(Nt),Nt=null))),ru(t,e),Pe(e),null;case 5:pc(e);var i=Vn(Ii.current);if(n=e.type,t!==null&&e.stateNode!=null)Im(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(L(166));return Pe(e),null}if(t=Vn(Vt.current),Nr(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[Dt]=e,s[Di]=r,t=(e.mode&1)!==0,n){case"dialog":re("cancel",s),re("close",s);break;case"iframe":case"object":case"embed":re("load",s);break;case"video":case"audio":for(i=0;i<pi.length;i++)re(pi[i],s);break;case"source":re("error",s);break;case"img":case"image":case"link":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"input":ch(s,r),re("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},re("invalid",s);break;case"textarea":dh(s,r),re("invalid",s)}Pa(n,r),i=null;for(var l in r)if(r.hasOwnProperty(l)){var o=r[l];l==="children"?typeof o=="string"?s.textContent!==o&&(r.suppressHydrationWarning!==!0&&Sr(s.textContent,o,t),i=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Sr(s.textContent,o,t),i=["children",""+o]):Ti.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&re("scroll",s)}switch(n){case"input":pr(s),hh(s,r,!0);break;case"textarea":pr(s),fh(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=vl)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=l.createElement(n,{is:s.is}):(t=l.createElement(n),n==="select"&&(l=t,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):t=l.createElementNS(t,n),t[Dt]=e,t[Di]=s,Bm(t,e,!1,!1),e.stateNode=t;e:{switch(l=La(n,s),n){case"dialog":re("cancel",t),re("close",t),i=s;break;case"iframe":case"object":case"embed":re("load",t),i=s;break;case"video":case"audio":for(i=0;i<pi.length;i++)re(pi[i],t);i=s;break;case"source":re("error",t),i=s;break;case"img":case"image":case"link":re("error",t),re("load",t),i=s;break;case"details":re("toggle",t),i=s;break;case"input":ch(t,s),i=Ca(t,s),re("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=de({},s,{value:void 0}),re("invalid",t);break;case"textarea":dh(t,s),i=Ma(t,s),re("invalid",t);break;default:i=s}Pa(n,i),o=i;for(r in o)if(o.hasOwnProperty(r)){var a=o[r];r==="style"?yp(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vp(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Mi(t,a):typeof a=="number"&&Mi(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Ti.hasOwnProperty(r)?a!=null&&r==="onScroll"&&re("scroll",t):a!=null&&Hu(t,r,a,l))}switch(n){case"input":pr(t),hh(t,s,!1);break;case"textarea":pr(t),fh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+jn(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?ks(t,!!s.multiple,r,!1):s.defaultValue!=null&&ks(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)Vm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(L(166));if(n=Vn(Ii.current),Vn(Vt.current),Nr(e)){if(s=e.stateNode,n=e.memoizedProps,s[Dt]=e,(r=s.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:Sr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Dt]=e,e.stateNode=s}return Pe(e),null;case 13:if(oe(ue),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&tt!==null&&e.mode&1&&!(e.flags&128))lm(),zs(),e.flags|=98560,r=!1;else if(r=Nr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[Dt]=e}else zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),r=!1}else Nt!==null&&(fu(Nt),Nt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Ne===0&&(Ne=3):Cc())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return $s(),ru(t,e),t===null&&Ai(e.stateNode.containerInfo),Pe(e),null;case 10:return cc(e.type._context),Pe(e),null;case 17:return Xe(e.type)&&xl(),Pe(e),null;case 19:if(oe(ue),r=e.memoizedState,r===null)return Pe(e),null;if(s=(e.flags&128)!==0,l=r.rendering,l===null)if(s)ri(r,!1);else{if(Ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=kl(t),l!==null){for(e.flags|=128,ri(r,!1),s=l.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(ue,ue.current&1|2),e.child}t=t.sibling}r.tail!==null&&ve()>Fs&&(e.flags|=128,s=!0,ri(r,!1),e.lanes=4194304)}else{if(!s)if(t=kl(l),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ri(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!ae)return Pe(e),null}else 2*ve()-r.renderingStartTime>Fs&&n!==1073741824&&(e.flags|=128,s=!0,ri(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(n=r.last,n!==null?n.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ve(),e.sibling=null,n=ue.current,ie(ue,s?n&1|2:n&1),e):(Pe(e),null);case 22:case 23:return Ec(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?et&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function Hx(t,e){switch(lc(e),e.tag){case 1:return Xe(e.type)&&xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $s(),oe(Ke),oe(Oe),mc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pc(e),null;case 13:if(oe(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(ue),null;case 4:return $s(),null;case 10:return cc(e.type._context),null;case 22:case 23:return Ec(),null;case 24:return null;default:return null}}var Er=!1,Le=!1,qx=typeof WeakSet=="function"?WeakSet:Set,F=null;function bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){me(t,e,s)}else n.current=null}function lu(t,e,n){try{n()}catch(s){me(t,e,s)}}var nd=!1;function Kx(t,e){if(Ua=pl,t=Kp(),ic(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(o=l+i),d!==r||s!==0&&d.nodeType!==3||(a=l+s),d.nodeType===3&&(l+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===n&&++c===i&&(o=l),f===r&&++h===s&&(a=l),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wa={focusedElem:t,selectionRange:n},pl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:wt(e.type,g),y);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){me(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return p=nd,nd=!1,p}function Si(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&lu(e,n,r)}i=i.next}while(i!==s)}}function Xl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ou(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Um(t){var e=t.alternate;e!==null&&(t.alternate=null,Um(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dt],delete e[Di],delete e[Ka],delete e[Tx],delete e[Mx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wm(t){return t.tag===5||t.tag===3||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function au(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vl));else if(s!==4&&(t=t.child,t!==null))for(au(t,e,n),t=t.sibling;t!==null;)au(t,e,n),t=t.sibling}function uu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(uu(t,e,n),t=t.sibling;t!==null;)uu(t,e,n),t=t.sibling}var Ee=null,bt=!1;function un(t,e,n){for(n=n.child;n!==null;)Hm(t,e,n),n=n.sibling}function Hm(t,e,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Bl,n)}catch{}switch(n.tag){case 5:Le||bs(n,e);case 6:var s=Ee,i=bt;Ee=null,un(t,e,n),Ee=s,bt=i,Ee!==null&&(bt?(t=Ee,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(bt?(t=Ee,n=n.stateNode,t.nodeType===8?Ao(t.parentNode,n):t.nodeType===1&&Ao(t,n),zi(t)):Ao(Ee,n.stateNode));break;case 4:s=Ee,i=bt,Ee=n.stateNode.containerInfo,bt=!0,un(t,e,n),Ee=s,bt=i;break;case 0:case 11:case 14:case 15:if(!Le&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&lu(n,e,l),i=i.next}while(i!==s)}un(t,e,n);break;case 1:if(!Le&&(bs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){me(n,e,o)}un(t,e,n);break;case 21:un(t,e,n);break;case 22:n.mode&1?(Le=(s=Le)||n.memoizedState!==null,un(t,e,n),Le=s):un(t,e,n);break;default:un(t,e,n)}}function id(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qx),e.forEach(function(s){var i=ny.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function yt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ee=o.stateNode,bt=!1;break e;case 3:Ee=o.stateNode.containerInfo,bt=!0;break e;case 4:Ee=o.stateNode.containerInfo,bt=!0;break e}o=o.return}if(Ee===null)throw Error(L(160));Hm(r,l,i),Ee=null,bt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){me(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qm(e,t),e=e.sibling}function qm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yt(e,t),zt(t),s&4){try{Si(3,t,t.return),Xl(3,t)}catch(g){me(t,t.return,g)}try{Si(5,t,t.return)}catch(g){me(t,t.return,g)}}break;case 1:yt(e,t),zt(t),s&512&&n!==null&&bs(n,n.return);break;case 5:if(yt(e,t),zt(t),s&512&&n!==null&&bs(n,n.return),t.flags&32){var i=t.stateNode;try{Mi(i,"")}catch(g){me(t,t.return,g)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,l=n!==null?n.memoizedProps:r,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&pp(i,r),La(o,l);var c=La(o,r);for(l=0;l<a.length;l+=2){var h=a[l],d=a[l+1];h==="style"?yp(i,d):h==="dangerouslySetInnerHTML"?vp(i,d):h==="children"?Mi(i,d):Hu(i,h,d,c)}switch(o){case"input":ja(i,r);break;case"textarea":mp(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?ks(i,!!r.multiple,v,!1):f!==!!r.multiple&&(r.defaultValue!=null?ks(i,!!r.multiple,r.defaultValue,!0):ks(i,!!r.multiple,r.multiple?[]:"",!1))}i[Di]=r}catch(g){me(t,t.return,g)}}break;case 6:if(yt(e,t),zt(t),s&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(g){me(t,t.return,g)}}break;case 3:if(yt(e,t),zt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{zi(e.containerInfo)}catch(g){me(t,t.return,g)}break;case 4:yt(e,t),zt(t);break;case 13:yt(e,t),zt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(_c=ve())),s&4&&id(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(c=Le)||h,yt(e,t),Le=c):yt(e,t),zt(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(F=t,h=t.child;h!==null;){for(d=F=h;F!==null;){switch(f=F,v=f.child,f.tag){case 0:case 11:case 14:case 15:Si(4,f,f.return);break;case 1:bs(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){me(s,n,g)}}break;case 5:bs(f,f.return);break;case 22:if(f.memoizedState!==null){ld(d);continue}}v!==null?(v.return=f,F=v):ld(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=xp("display",l))}catch(g){me(t,t.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){me(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yt(e,t),zt(t),s&4&&id(t);break;case 21:break;default:yt(e,t),zt(t)}}function zt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wm(n)){var s=n;break e}n=n.return}throw Error(L(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Mi(i,""),s.flags&=-33);var r=sd(t);uu(t,r,i);break;case 3:case 4:var l=s.stateNode.containerInfo,o=sd(t);au(t,o,l);break;default:throw Error(L(161))}}catch(a){me(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xx(t,e,n){F=t,Km(t)}function Km(t,e,n){for(var s=(t.mode&1)!==0;F!==null;){var i=F,r=i.child;if(i.tag===22&&s){var l=i.memoizedState!==null||Er;if(!l){var o=i.alternate,a=o!==null&&o.memoizedState!==null||Le;o=Er;var c=Le;if(Er=l,(Le=a)&&!c)for(F=i;F!==null;)l=F,a=l.child,l.tag===22&&l.memoizedState!==null?od(i):a!==null?(a.return=l,F=a):od(i);for(;r!==null;)F=r,Km(r),r=r.sibling;F=i,Er=o,Le=c}rd(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,F=r):rd(t)}}function rd(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||Xl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Le)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Uh(e,r,s);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uh(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&zi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Le||e.flags&512&&ou(e)}catch(f){me(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function ld(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function od(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xl(4,e)}catch(a){me(e,n,a)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(a){me(e,i,a)}}var r=e.return;try{ou(e)}catch(a){me(e,r,a)}break;case 5:var l=e.return;try{ou(e)}catch(a){me(e,l,a)}}}catch(a){me(e,e.return,a)}if(e===t){F=null;break}var o=e.sibling;if(o!==null){o.return=e.return,F=o;break}F=e.return}}var Qx=Math.ceil,jl=rn.ReactCurrentDispatcher,Sc=rn.ReactCurrentOwner,pt=rn.ReactCurrentBatchConfig,Q=0,ke=null,we=null,je=0,et=0,Ss=Pn(0),Ne=0,Hi=null,Yn=0,Ql=0,Nc=0,Ni=null,He=null,_c=0,Fs=1/0,Kt=null,Tl=!1,cu=null,Nn=null,Cr=!1,gn=null,Ml=0,_i=0,hu=null,Yr=-1,Zr=0;function De(){return Q&6?ve():Yr!==-1?Yr:Yr=ve()}function _n(t){return t.mode&1?Q&2&&je!==0?je&-je:Px.transition!==null?(Zr===0&&(Zr=Rp()),Zr):(t=te,t!==0||(t=window.event,t=t===void 0?16:Fp(t.type)),t):1}function kt(t,e,n,s){if(50<_i)throw _i=0,hu=null,Error(L(185));er(t,n,s),(!(Q&2)||t!==ke)&&(t===ke&&(!(Q&2)&&(Ql|=n),Ne===4&&pn(t,je)),Qe(t,s),n===1&&Q===0&&!(e.mode&1)&&(Fs=ve()+500,Hl&&Ln()))}function Qe(t,e){var n=t.callbackNode;Pv(t,e);var s=fl(t,t===ke?je:0);if(s===0)n!==null&&gh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&gh(n),e===1)t.tag===0?Rx(ad.bind(null,t)):sm(ad.bind(null,t)),Cx(function(){!(Q&6)&&Ln()}),n=null;else{switch(Pp(s)){case 1:n=Ju;break;case 4:n=Tp;break;case 16:n=dl;break;case 536870912:n=Mp;break;default:n=dl}n=t0(n,Xm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xm(t,e){if(Yr=-1,Zr=0,Q&6)throw Error(L(327));var n=t.callbackNode;if(Ms()&&t.callbackNode!==n)return null;var s=fl(t,t===ke?je:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Rl(t,s);else{e=s;var i=Q;Q|=2;var r=Jm();(ke!==t||je!==e)&&(Kt=null,Fs=ve()+500,Wn(t,e));do try{Yx();break}catch(o){Qm(t,o)}while(!0);uc(),jl.current=r,Q=i,we!==null?e=0:(ke=null,je=0,e=Ne)}if(e!==0){if(e===2&&(i=Fa(t),i!==0&&(s=i,e=du(t,i))),e===1)throw n=Hi,Wn(t,0),pn(t,s),Qe(t,ve()),n;if(e===6)pn(t,s);else{if(i=t.current.alternate,!(s&30)&&!Jx(i)&&(e=Rl(t,s),e===2&&(r=Fa(t),r!==0&&(s=r,e=du(t,r))),e===1))throw n=Hi,Wn(t,0),pn(t,s),Qe(t,ve()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(L(345));case 2:Dn(t,He,Kt);break;case 3:if(pn(t,s),(s&130023424)===s&&(e=_c+500-ve(),10<e)){if(fl(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){De(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qa(Dn.bind(null,t,He,Kt),e);break}Dn(t,He,Kt);break;case 4:if(pn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var l=31-_t(s);r=1<<l,l=e[l],l>i&&(i=l),s&=~r}if(s=i,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qx(s/1960))-s,10<s){t.timeoutHandle=qa(Dn.bind(null,t,He,Kt),s);break}Dn(t,He,Kt);break;case 5:Dn(t,He,Kt);break;default:throw Error(L(329))}}}return Qe(t,ve()),t.callbackNode===n?Xm.bind(null,t):null}function du(t,e){var n=Ni;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=Rl(t,e),t!==2&&(e=He,He=n,e!==null&&fu(e)),t}function fu(t){He===null?He=t:He.push.apply(He,t)}function Jx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Ct(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pn(t,e){for(e&=~Nc,e&=~Ql,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_t(e),s=1<<n;t[n]=-1,e&=~s}}function ad(t){if(Q&6)throw Error(L(327));Ms();var e=fl(t,0);if(!(e&1))return Qe(t,ve()),null;var n=Rl(t,e);if(t.tag!==0&&n===2){var s=Fa(t);s!==0&&(e=s,n=du(t,s))}if(n===1)throw n=Hi,Wn(t,0),pn(t,e),Qe(t,ve()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dn(t,He,Kt),Qe(t,ve()),null}function kc(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(Fs=ve()+500,Hl&&Ln())}}function Zn(t){gn!==null&&gn.tag===0&&!(Q&6)&&Ms();var e=Q;Q|=1;var n=pt.transition,s=te;try{if(pt.transition=null,te=1,t)return t()}finally{te=s,pt.transition=n,Q=e,!(Q&6)&&Ln()}}function Ec(){et=Ss.current,oe(Ss)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ex(n)),we!==null)for(n=we.return;n!==null;){var s=n;switch(lc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&xl();break;case 3:$s(),oe(Ke),oe(Oe),mc();break;case 5:pc(s);break;case 4:$s();break;case 13:oe(ue);break;case 19:oe(ue);break;case 10:cc(s.type._context);break;case 22:case 23:Ec()}n=n.return}if(ke=t,we=t=kn(t.current,null),je=et=e,Ne=0,Hi=null,Nc=Ql=Yn=0,He=Ni=null,In!==null){for(e=0;e<In.length;e++)if(n=In[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var l=r.next;r.next=i,s.next=l}n.pending=s}In=null}return t}function Qm(t,e){do{var n=we;try{if(uc(),Qr.current=Cl,El){for(var s=ce.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}El=!1}if(Gn=0,_e=Se=ce=null,bi=!1,Vi=0,Sc.current=null,n===null||n.return===null){Ne=1,Hi=e,we=null;break}e:{var r=t,l=n.return,o=n,a=e;if(e=je,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Qh(l);if(v!==null){v.flags&=-257,Jh(v,l,o,r,e),v.mode&1&&Xh(r,c,e),e=v,a=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(a),e.updateQueue=g}else p.add(a);break e}else{if(!(e&1)){Xh(r,c,e),Cc();break e}a=Error(L(426))}}else if(ae&&o.mode&1){var y=Qh(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Jh(y,l,o,r,e),oc(As(a,o));break e}}r=a=As(a,o),Ne!==4&&(Ne=2),Ni===null?Ni=[r]:Ni.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var m=Pm(r,a,e);Vh(r,m);break e;case 1:o=a;var x=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Nn===null||!Nn.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var S=Lm(r,o,e);Vh(r,S);break e}}r=r.return}while(r!==null)}Ym(n)}catch(C){e=C,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function Jm(){var t=jl.current;return jl.current=Cl,t===null?Cl:t}function Cc(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),ke===null||!(Yn&268435455)&&!(Ql&268435455)||pn(ke,je)}function Rl(t,e){var n=Q;Q|=2;var s=Jm();(ke!==t||je!==e)&&(Kt=null,Wn(t,e));do try{Gx();break}catch(i){Qm(t,i)}while(!0);if(uc(),Q=n,jl.current=s,we!==null)throw Error(L(261));return ke=null,je=0,Ne}function Gx(){for(;we!==null;)Gm(we)}function Yx(){for(;we!==null&&!Nv();)Gm(we)}function Gm(t){var e=e0(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?Ym(t):we=e,Sc.current=null}function Ym(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Hx(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ne=6,we=null;return}}else if(n=Wx(n,e,et),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);Ne===0&&(Ne=5)}function Dn(t,e,n){var s=te,i=pt.transition;try{pt.transition=null,te=1,Zx(t,e,n,s)}finally{pt.transition=i,te=s}return null}function Zx(t,e,n,s){do Ms();while(gn!==null);if(Q&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Lv(t,r),t===ke&&(we=ke=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cr||(Cr=!0,t0(dl,function(){return Ms(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=pt.transition,pt.transition=null;var l=te;te=1;var o=Q;Q|=4,Sc.current=null,Kx(t,n),qm(n,t),yx(Wa),pl=!!Ua,Wa=Ua=null,t.current=n,Xx(n),_v(),Q=o,te=l,pt.transition=r}else t.current=n;if(Cr&&(Cr=!1,gn=t,Ml=i),r=t.pendingLanes,r===0&&(Nn=null),Cv(n.stateNode),Qe(t,ve()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,t=cu,cu=null,t;return Ml&1&&t.tag!==0&&Ms(),r=t.pendingLanes,r&1?t===hu?_i++:(_i=0,hu=t):_i=0,Ln(),null}function Ms(){if(gn!==null){var t=Pp(Ml),e=pt.transition,n=te;try{if(pt.transition=null,te=16>t?16:t,gn===null)var s=!1;else{if(t=gn,gn=null,Ml=0,Q&6)throw Error(L(331));var i=Q;for(Q|=4,F=t.current;F!==null;){var r=F,l=r.child;if(F.flags&16){var o=r.deletions;if(o!==null){for(var a=0;a<o.length;a++){var c=o[a];for(F=c;F!==null;){var h=F;switch(h.tag){case 0:case 11:case 15:Si(8,h,r)}var d=h.child;if(d!==null)d.return=h,F=d;else for(;F!==null;){h=F;var f=h.sibling,v=h.return;if(Um(h),h===c){F=null;break}if(f!==null){f.return=v,F=f;break}F=v}}}var p=r.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}F=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,F=l;else e:for(;F!==null;){if(r=F,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Si(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,F=m;break e}F=r.return}}var x=t.current;for(F=x;F!==null;){l=F;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,F=w;else e:for(l=x;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xl(9,o)}}catch(C){me(o,o.return,C)}if(o===l){F=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,F=S;break e}F=o.return}}if(Q=i,Ln(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Bl,t)}catch{}s=!0}return s}finally{te=n,pt.transition=e}}return!1}function ud(t,e,n){e=As(n,e),e=Pm(t,e,1),t=Sn(t,e,1),e=De(),t!==null&&(er(t,1,e),Qe(t,e))}function me(t,e,n){if(t.tag===3)ud(t,t,n);else for(;e!==null;){if(e.tag===3){ud(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Nn===null||!Nn.has(s))){t=As(n,t),t=Lm(e,t,1),e=Sn(e,t,1),t=De(),e!==null&&(er(e,1,t),Qe(e,t));break}}e=e.return}}function ey(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(je&n)===n&&(Ne===4||Ne===3&&(je&130023424)===je&&500>ve()-_c?Wn(t,0):Nc|=n),Qe(t,e)}function Zm(t,e){e===0&&(t.mode&1?(e=vr,vr<<=1,!(vr&130023424)&&(vr=4194304)):e=1);var n=De();t=nn(t,e),t!==null&&(er(t,e,n),Qe(t,n))}function ty(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Zm(t,n)}function ny(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(L(314))}s!==null&&s.delete(e),Zm(t,n)}var e0;e0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ke.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,Ux(t,e,n);qe=!!(t.flags&131072)}else qe=!1,ae&&e.flags&1048576&&im(e,bl,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Gr(t,e),t=e.pendingProps;var i=Ls(e,Oe.current);Ts(e,n),i=vc(null,e,s,t,i,n);var r=xc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xe(s)?(r=!0,yl(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dc(e),i.updater=Kl,e.stateNode=i,i._reactInternals=e,Za(e,s,t,n),e=nu(null,e,s,!0,r,n)):(e.tag=0,ae&&r&&rc(e),Fe(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Gr(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=iy(s),t=wt(s,t),i){case 0:e=tu(null,e,s,t,n);break e;case 1:e=Zh(null,e,s,t,n);break e;case 11:e=Gh(null,e,s,t,n);break e;case 14:e=Yh(null,e,s,wt(s.type,t),n);break e}throw Error(L(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),tu(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),Zh(t,e,s,i,n);case 3:e:{if(Am(e),t===null)throw Error(L(387));s=e.pendingProps,r=e.memoizedState,i=r.element,cm(t,e),_l(e,s,null,n);var l=e.memoizedState;if(s=l.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=As(Error(L(423)),e),e=ed(t,e,s,n,i);break e}else if(s!==i){i=As(Error(L(424)),e),e=ed(t,e,s,n,i);break e}else for(tt=bn(e.stateNode.containerInfo.firstChild),nt=e,ae=!0,Nt=null,n=am(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zs(),s===i){e=sn(t,e,n);break e}Fe(t,e,s,n)}e=e.child}return e;case 5:return hm(e),t===null&&Ja(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,l=i.children,Ha(s,i)?l=null:r!==null&&Ha(s,r)&&(e.flags|=32),$m(t,e),Fe(t,e,l,n),e.child;case 6:return t===null&&Ja(e),null;case 13:return Fm(t,e,n);case 4:return fc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Os(e,null,s,n):Fe(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),Gh(t,e,s,i,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,l=i.value,ie(Sl,s._currentValue),s._currentValue=l,r!==null)if(Ct(r.value,l)){if(r.children===i.children&&!Ke.current){e=sn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){l=r.child;for(var a=o.firstContext;a!==null;){if(a.context===s){if(r.tag===1){a=Zt(-1,n&-n),a.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Ga(r.return,n,e),o.lanes|=n;break}a=a.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(L(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Ga(l,n,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}Fe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Ts(e,n),i=mt(i),s=s(i),e.flags|=1,Fe(t,e,s,n),e.child;case 14:return s=e.type,i=wt(s,e.pendingProps),i=wt(s.type,i),Yh(t,e,s,i,n);case 15:return zm(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),Gr(t,e),e.tag=1,Xe(s)?(t=!0,yl(e)):t=!1,Ts(e,n),Rm(e,s,i),Za(e,s,i,n),nu(null,e,s,!0,t,n);case 19:return Dm(t,e,n);case 22:return Om(t,e,n)}throw Error(L(156,e.tag))};function t0(t,e){return jp(t,e)}function sy(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,e,n,s){return new sy(t,e,n,s)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iy(t){if(typeof t=="function")return jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ku)return 11;if(t===Xu)return 14}return 2}function kn(t,e){var n=t.alternate;return n===null?(n=ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function el(t,e,n,s,i,r){var l=2;if(s=t,typeof t=="function")jc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ds:return Hn(n.children,i,r,e);case qu:l=8,i|=8;break;case Na:return t=ft(12,n,e,i|2),t.elementType=Na,t.lanes=r,t;case _a:return t=ft(13,n,e,i),t.elementType=_a,t.lanes=r,t;case ka:return t=ft(19,n,e,i),t.elementType=ka,t.lanes=r,t;case hp:return Jl(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case up:l=10;break e;case cp:l=9;break e;case Ku:l=11;break e;case Xu:l=14;break e;case hn:l=16,s=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=ft(l,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Hn(t,e,n,s){return t=ft(7,t,s,e),t.lanes=n,t}function Jl(t,e,n,s){return t=ft(22,t,s,e),t.elementType=hp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ho(t,e,n){return t=ft(6,t,null,e),t.lanes=n,t}function qo(t,e,n){return e=ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ry(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tc(t,e,n,s,i,r,l,o,a){return t=new ry(t,e,n,o,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ft(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(r),t}function ly(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function n0(t){if(!t)return Tn;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(Xe(n))return nm(t,n,e)}return e}function s0(t,e,n,s,i,r,l,o,a){return t=Tc(n,s,!0,t,i,r,l,o,a),t.context=n0(null),n=t.current,s=De(),i=_n(n),r=Zt(s,i),r.callback=e??null,Sn(n,r,i),t.current.lanes=i,er(t,i,s),Qe(t,s),t}function Gl(t,e,n,s){var i=e.current,r=De(),l=_n(i);return n=n0(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(r,l),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Sn(i,e,l),t!==null&&(kt(t,i,l,r),Xr(t,i,l)),l}function Pl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mc(t,e){cd(t,e),(t=t.alternate)&&cd(t,e)}function oy(){return null}var i0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rc(t){this._internalRoot=t}Yl.prototype.render=Rc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Gl(t,e,null,null)};Yl.prototype.unmount=Rc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){Gl(null,t,null,null)}),e[tn]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Op();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,t),n===0&&Ap(t)}};function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hd(){}function ay(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Pl(l);r.call(c)}}var l=s0(e,s,t,0,null,!1,!1,"",hd);return t._reactRootContainer=l,t[tn]=l.current,Ai(t.nodeType===8?t.parentNode:t),Zn(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var o=s;s=function(){var c=Pl(a);o.call(c)}}var a=Tc(t,0,!1,null,null,!1,!1,"",hd);return t._reactRootContainer=a,t[tn]=a.current,Ai(t.nodeType===8?t.parentNode:t),Zn(function(){Gl(e,a,n,s)}),a}function eo(t,e,n,s,i){var r=n._reactRootContainer;if(r){var l=r;if(typeof i=="function"){var o=i;i=function(){var a=Pl(l);o.call(a)}}Gl(e,l,t,i)}else l=ay(n,e,t,i,s);return Pl(l)}Lp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fi(e.pendingLanes);n!==0&&(Gu(e,n|1),Qe(e,ve()),!(Q&6)&&(Fs=ve()+500,Ln()))}break;case 13:Zn(function(){var s=nn(t,1);if(s!==null){var i=De();kt(s,t,1,i)}}),Mc(t,1)}};Yu=function(t){if(t.tag===13){var e=nn(t,134217728);if(e!==null){var n=De();kt(e,t,134217728,n)}Mc(t,134217728)}};zp=function(t){if(t.tag===13){var e=_n(t),n=nn(t,e);if(n!==null){var s=De();kt(n,t,e,s)}Mc(t,e)}};Op=function(){return te};$p=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};Oa=function(t,e,n){switch(e){case"input":if(ja(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Wl(s);if(!i)throw Error(L(90));fp(s),ja(s,i)}}}break;case"textarea":mp(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};Sp=kc;Np=Zn;var uy={usingClientEntryPoint:!1,Events:[nr,gs,Wl,wp,bp,kc]},li={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cy={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ep(t),t===null?null:t.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||oy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jr.isDisabled&&jr.supportsFiber)try{Bl=jr.inject(cy),It=jr}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uy;it.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(e))throw Error(L(200));return ly(t,e,null,n)};it.createRoot=function(t,e){if(!Pc(t))throw Error(L(299));var n=!1,s="",i=i0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tc(t,1,!1,null,null,n,!1,s,i),t[tn]=e.current,Ai(t.nodeType===8?t.parentNode:t),new Rc(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=Ep(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return Zn(t)};it.hydrate=function(t,e,n){if(!Zl(e))throw Error(L(200));return eo(null,t,e,!0,n)};it.hydrateRoot=function(t,e,n){if(!Pc(t))throw Error(L(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",l=i0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=s0(e,null,t,1,n??null,i,!1,r,l),t[tn]=e.current,Ai(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yl(e)};it.render=function(t,e,n){if(!Zl(e))throw Error(L(200));return eo(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(L(40));return t._reactRootContainer?(Zn(function(){eo(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};it.unstable_batchedUpdates=kc;it.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Zl(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return eo(t,e,n,!1,s)};it.version="18.3.1-next-f1338f8080-20240426";function r0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r0)}catch(t){console.error(t)}}r0(),rp.exports=it;var hy=rp.exports,dd=hy;ba.createRoot=dd.createRoot,ba.hydrateRoot=dd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qi.apply(this,arguments)}var vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vn||(vn={}));const fd="popstate";function dy(t){t===void 0&&(t={});function e(s,i){let{pathname:r,search:l,hash:o}=s.location;return pu("",{pathname:r,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Ll(i)}return py(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function l0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fy(){return Math.random().toString(36).substr(2,8)}function pd(t,e){return{usr:t.state,key:t.key,idx:e}}function pu(t,e,n,s){return n===void 0&&(n=null),qi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||s||fy()})}function Ll(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function py(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,l=i.history,o=vn.Pop,a=null,c=h();c==null&&(c=0,l.replaceState(qi({},l.state,{idx:c}),""));function h(){return(l.state||{idx:null}).idx}function d(){o=vn.Pop;let y=h(),m=y==null?null:y-c;c=y,a&&a({action:o,location:g.location,delta:m})}function f(y,m){o=vn.Push;let x=pu(g.location,y,m);c=h()+1;let w=pd(x,c),S=g.createHref(x);try{l.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(S)}r&&a&&a({action:o,location:g.location,delta:1})}function v(y,m){o=vn.Replace;let x=pu(g.location,y,m);c=h();let w=pd(x,c),S=g.createHref(x);l.replaceState(w,"",S),r&&a&&a({action:o,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:Ll(y);return x=x.replace(/ $/,"%20"),he(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let g={get action(){return o},get location(){return t(i,l)},listen(y){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(fd,d),a=y,()=>{i.removeEventListener(fd,d),a=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(y){return l.go(y)}};return g}var md;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(md||(md={}));function my(t,e,n){return n===void 0&&(n="/"),gy(t,e,n)}function gy(t,e,n,s){let i=typeof e=="string"?Ks(e):e,r=Ds(i.pathname||"/",n);if(r==null)return null;let l=o0(t);vy(l);let o=null;for(let a=0;o==null&&a<l.length;++a){let c=jy(r);o=Ey(l[a],c)}return o}function o0(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(r,l,o)=>{let a={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};a.relativePath.startsWith("/")&&(he(a.relativePath.startsWith(s),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(s.length));let c=En([s,a.relativePath]),h=n.concat(a);r.children&&r.children.length>0&&(he(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),o0(r.children,e,h,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:_y(c,r.index),routesMeta:h})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))i(r,l);else for(let a of a0(r.path))i(r,l,a)}),e}function a0(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let l=a0(s.join("/")),o=[];return o.push(...l.map(a=>a===""?r:[r,a].join("/"))),i&&o.push(...l),o.map(a=>t.startsWith("/")&&a===""?"/":a)}function vy(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ky(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const xy=/^:[\w-]+$/,yy=3,wy=2,by=1,Sy=10,Ny=-2,gd=t=>t==="*";function _y(t,e){let n=t.split("/"),s=n.length;return n.some(gd)&&(s+=Ny),e&&(s+=wy),n.filter(i=>!gd(i)).reduce((i,r)=>i+(xy.test(r)?yy:r===""?by:Sy),s)}function ky(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function Ey(t,e,n){let{routesMeta:s}=t,i={},r="/",l=[];for(let o=0;o<s.length;++o){let a=s[o],c=o===s.length-1,h=r==="/"?e:e.slice(r.length)||"/",d=mu({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},h),f=a.route;if(!d)return null;Object.assign(i,d.params),l.push({params:i,pathname:En([r,d.pathname]),pathnameBase:Py(En([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=En([r,d.pathnameBase]))}return l}function mu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Cy(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],l=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((c,h,d)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let g=o[d]||"";l=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const p=o[d];return v&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:l,pattern:t}}function Cy(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),l0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,a)=>(s.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function jy(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return l0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Ty(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:My(n,e):e,search:Ly(s),hash:zy(i)}}function My(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ko(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ry(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lc(t,e){let n=Ry(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function zc(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Ks(t):(i=qi({},t),he(!i.pathname||!i.pathname.includes("?"),Ko("?","pathname","search",i)),he(!i.pathname||!i.pathname.includes("#"),Ko("#","pathname","hash",i)),he(!i.search||!i.search.includes("#"),Ko("#","search","hash",i)));let r=t===""||i.pathname==="",l=r?"/":i.pathname,o;if(l==null)o=n;else{let d=e.length-1;if(!s&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let a=Ty(i,o),c=l&&l!=="/"&&l.endsWith("/"),h=(r||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||h)&&(a.pathname+="/"),a}const En=t=>t.join("/").replace(/\/\/+/g,"/"),Py=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ly=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Oy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u0=["post","put","patch","delete"];new Set(u0);const $y=["get",...u0];new Set($y);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ki.apply(this,arguments)}const to=b.createContext(null),c0=b.createContext(null),ln=b.createContext(null),no=b.createContext(null),on=b.createContext({outlet:null,matches:[],isDataRoute:!1}),h0=b.createContext(null);function Ay(t,e){let{relative:n}=e===void 0?{}:e;Xs()||he(!1);let{basename:s,navigator:i}=b.useContext(ln),{hash:r,pathname:l,search:o}=so(t,{relative:n}),a=l;return s!=="/"&&(a=l==="/"?s:En([s,l])),i.createHref({pathname:a,search:o,hash:r})}function Xs(){return b.useContext(no)!=null}function zn(){return Xs()||he(!1),b.useContext(no).location}function d0(t){b.useContext(ln).static||b.useLayoutEffect(t)}function On(){let{isDataRoute:t}=b.useContext(on);return t?Yy():Fy()}function Fy(){Xs()||he(!1);let t=b.useContext(to),{basename:e,future:n,navigator:s}=b.useContext(ln),{matches:i}=b.useContext(on),{pathname:r}=zn(),l=JSON.stringify(Lc(i,n.v7_relativeSplatPath)),o=b.useRef(!1);return d0(()=>{o.current=!0}),b.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let d=zc(c,JSON.parse(l),r,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:En([e,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[e,s,l,r,t])}const Dy=b.createContext(null);function By(t){let e=b.useContext(on).outlet;return e&&b.createElement(Dy.Provider,{value:t},e)}function so(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=b.useContext(ln),{matches:i}=b.useContext(on),{pathname:r}=zn(),l=JSON.stringify(Lc(i,s.v7_relativeSplatPath));return b.useMemo(()=>zc(t,JSON.parse(l),r,n==="path"),[t,l,r,n])}function Iy(t,e){return Vy(t,e)}function Vy(t,e,n,s){Xs()||he(!1);let{navigator:i}=b.useContext(ln),{matches:r}=b.useContext(on),l=r[r.length-1],o=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let c=zn(),h;if(e){var d;let y=typeof e=="string"?Ks(e):e;a==="/"||(d=y.pathname)!=null&&d.startsWith(a)||he(!1),h=y}else h=c;let f=h.pathname||"/",v=f;if(a!=="/"){let y=a.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=my(t,{pathname:v}),g=Ky(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:En([a,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:En([a,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),r,n,s);return e&&g?b.createElement(no.Provider,{value:{location:Ki({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:vn.Pop}},g):g}function Uy(){let t=Gy(),e=Oy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const Wy=b.createElement(Uy,null);class Hy extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(on.Provider,{value:this.props.routeContext},b.createElement(h0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qy(t){let{routeContext:e,match:n,children:s}=t,i=b.useContext(to);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(on.Provider,{value:e},s)}function Ky(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||he(!1),l=l.slice(0,Math.min(l.length,h+1))}let a=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<l.length;h++){let d=l[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:v}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||p){a=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((h,d,f)=>{let v,p=!1,g=null,y=null;n&&(v=o&&d.route.id?o[d.route.id]:void 0,g=d.route.errorElement||Wy,a&&(c<0&&f===0?(Zy("route-fallback"),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let m=e.concat(l.slice(0,f+1)),x=()=>{let w;return v?w=g:p?w=y:d.route.Component?w=b.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,b.createElement(qy,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(Hy,{location:n.location,revalidation:n.revalidation,component:g,error:v,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var f0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(f0||{}),p0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(p0||{});function Xy(t){let e=b.useContext(to);return e||he(!1),e}function Qy(t){let e=b.useContext(c0);return e||he(!1),e}function Jy(t){let e=b.useContext(on);return e||he(!1),e}function m0(t){let e=Jy(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function Gy(){var t;let e=b.useContext(h0),n=Qy(),s=m0();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Yy(){let{router:t}=Xy(f0.UseNavigateStable),e=m0(p0.UseNavigateStable),n=b.useRef(!1);return d0(()=>{n.current=!0}),b.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ki({fromRouteId:e},r)))},[t,e])}const vd={};function Zy(t,e,n){vd[t]||(vd[t]=!0)}function ew(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function tw(t){let{to:e,replace:n,state:s,relative:i}=t;Xs()||he(!1);let{future:r,static:l}=b.useContext(ln),{matches:o}=b.useContext(on),{pathname:a}=zn(),c=On(),h=zc(e,Lc(o,r.v7_relativeSplatPath),a,i==="path"),d=JSON.stringify(h);return b.useEffect(()=>c(JSON.parse(d),{replace:n,state:s,relative:i}),[c,d,i,n,s]),null}function nw(t){return By(t.context)}function We(t){he(!1)}function sw(t){let{basename:e="/",children:n=null,location:s,navigationType:i=vn.Pop,navigator:r,static:l=!1,future:o}=t;Xs()&&he(!1);let a=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:a,navigator:r,static:l,future:Ki({v7_relativeSplatPath:!1},o)}),[a,o,r,l]);typeof s=="string"&&(s=Ks(s));let{pathname:h="/",search:d="",hash:f="",state:v=null,key:p="default"}=s,g=b.useMemo(()=>{let y=Ds(h,a);return y==null?null:{location:{pathname:y,search:d,hash:f,state:v,key:p},navigationType:i}},[a,h,d,f,v,p,i]);return g==null?null:b.createElement(ln.Provider,{value:c},b.createElement(no.Provider,{children:n,value:g}))}function iw(t){let{children:e,location:n}=t;return Iy(gu(e),n)}new Promise(()=>{});function gu(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(s,i)=>{if(!b.isValidElement(s))return;let r=[...e,i];if(s.type===b.Fragment){n.push.apply(n,gu(s.props.children,r));return}s.type!==We&&he(!1),!s.props.index||!s.props.children||he(!1);let l={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=gu(s.props.children,r)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zl.apply(this,arguments)}function g0(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lw(t,e){return t.button===0&&(!e||e==="_self")&&!rw(t)}function vu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function ow(t,e){let n=vu(t);return e&&e.forEach((s,i)=>{n.has(i)||e.getAll(i).forEach(r=>{n.append(i,r)})}),n}const aw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uw=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cw="6";try{window.__reactRouterVersion=cw}catch{}const hw=b.createContext({isTransitioning:!1}),dw="startTransition",xd=ev[dw];function fw(t){let{basename:e,children:n,future:s,window:i}=t,r=b.useRef();r.current==null&&(r.current=dy({window:i,v5Compat:!0}));let l=r.current,[o,a]=b.useState({action:l.action,location:l.location}),{v7_startTransition:c}=s||{},h=b.useCallback(d=>{c&&xd?xd(()=>a(d)):a(d)},[a,c]);return b.useLayoutEffect(()=>l.listen(h),[l,h]),b.useEffect(()=>ew(s),[s]),b.createElement(sw,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:s})}const pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=b.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:r,replace:l,state:o,target:a,to:c,preventScrollReset:h,viewTransition:d}=e,f=g0(e,aw),{basename:v}=b.useContext(ln),p,g=!1;if(typeof c=="string"&&mw.test(c)&&(p=c,pw))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=Ds(S.pathname,v);S.origin===w.origin&&C!=null?c=C+S.search+S.hash:g=!0}catch{}let y=Ay(c,{relative:i}),m=xw(c,{replace:l,state:o,target:a,preventScrollReset:h,relative:i,viewTransition:d});function x(w){s&&s(w),w.defaultPrevented||m(w)}return b.createElement("a",zl({},f,{href:p||y,onClick:g||r?s:x,ref:n,target:a}))}),gw=b.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:i=!1,className:r="",end:l=!1,style:o,to:a,viewTransition:c,children:h}=e,d=g0(e,uw),f=so(a,{relative:d.relative}),v=zn(),p=b.useContext(c0),{navigator:g,basename:y}=b.useContext(ln),m=p!=null&&yw(f)&&c===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=v.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&y&&(S=Ds(S,y)||S);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let T=w===x||!l&&w.startsWith(x)&&w.charAt(C)==="/",M=S!=null&&(S===x||!l&&S.startsWith(x)&&S.charAt(x.length)==="/"),j={isActive:T,isPending:M,isTransitioning:m},D=T?s:void 0,A;typeof r=="function"?A=r(j):A=[r,T?"active":null,M?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(j):o;return b.createElement(Et,zl({},d,{"aria-current":D,className:A,ref:n,style:V,to:a,viewTransition:c}),typeof h=="function"?h(j):h)});var xu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xu||(xu={}));var yd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yd||(yd={}));function vw(t){let e=b.useContext(to);return e||he(!1),e}function xw(t,e){let{target:n,replace:s,state:i,preventScrollReset:r,relative:l,viewTransition:o}=e===void 0?{}:e,a=On(),c=zn(),h=so(t,{relative:l});return b.useCallback(d=>{if(lw(d,n)){d.preventDefault();let f=s!==void 0?s:Ll(c)===Ll(h);a(t,{replace:f,state:i,preventScrollReset:r,relative:l,viewTransition:o})}},[c,a,h,s,i,n,t,r,l,o])}function v0(t){let e=b.useRef(vu(t)),n=b.useRef(!1),s=zn(),i=b.useMemo(()=>ow(s.search,n.current?null:e.current),[s.search]),r=On(),l=b.useCallback((o,a)=>{const c=vu(typeof o=="function"?o(i):o);n.current=!0,r("?"+c,a)},[r,i]);return[i,l]}function yw(t,e){e===void 0&&(e={});let n=b.useContext(hw);n==null&&he(!1);let{basename:s}=vw(xu.useViewTransitionState),i=so(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=Ds(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Ds(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mu(i.pathname,l)!=null||mu(i.pathname,r)!=null}const ww={},wd=t=>{let e;const n=new Set,s=(h,d)=>{const f=typeof h=="function"?h(e):h;if(!Object.is(f,e)){const v=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(p=>p(e,v))}},i=()=>e,a={setState:s,getState:i,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(ww?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(s,i,a);return a},bw=t=>t?wd(t):wd;var x0={exports:{}},y0={},w0={exports:{}},b0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=b;function Sw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nw=typeof Object.is=="function"?Object.is:Sw,_w=Bs.useState,kw=Bs.useEffect,Ew=Bs.useLayoutEffect,Cw=Bs.useDebugValue;function jw(t,e){var n=e(),s=_w({inst:{value:n,getSnapshot:e}}),i=s[0].inst,r=s[1];return Ew(function(){i.value=n,i.getSnapshot=e,Xo(i)&&r({inst:i})},[t,n,e]),kw(function(){return Xo(i)&&r({inst:i}),t(function(){Xo(i)&&r({inst:i})})},[t]),Cw(n),n}function Xo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nw(t,n)}catch{return!0}}function Tw(t,e){return e()}var Mw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tw:jw;b0.useSyncExternalStore=Bs.useSyncExternalStore!==void 0?Bs.useSyncExternalStore:Mw;w0.exports=b0;var Rw=w0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=b,Pw=Rw;function Lw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zw=typeof Object.is=="function"?Object.is:Lw,Ow=Pw.useSyncExternalStore,$w=io.useRef,Aw=io.useEffect,Fw=io.useMemo,Dw=io.useDebugValue;y0.useSyncExternalStoreWithSelector=function(t,e,n,s,i){var r=$w(null);if(r.current===null){var l={hasValue:!1,value:null};r.current=l}else l=r.current;r=Fw(function(){function a(v){if(!c){if(c=!0,h=v,v=s(v),i!==void 0&&l.hasValue){var p=l.value;if(i(p,v))return d=p}return d=v}if(p=d,zw(h,v))return p;var g=s(v);return i!==void 0&&i(p,g)?(h=v,p):(h=v,d=g)}var c=!1,h,d,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,s,i]);var o=Ow(t,r[0],r[1]);return Aw(function(){l.hasValue=!0,l.value=o},[o]),Dw(o),o};x0.exports=y0;var Bw=x0.exports;const Iw=Kf(Bw),S0={},{useDebugValue:Vw}=Vu,{useSyncExternalStoreWithSelector:Uw}=Iw;let bd=!1;const Ww=t=>t;function Hw(t,e=Ww,n){(S0?"production":void 0)!=="production"&&n&&!bd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bd=!0);const s=Uw(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Vw(s),s}const Sd=t=>{(S0?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?bw(t):t,n=(s,i)=>Hw(e,s,i);return Object.assign(n,e),n},ro=t=>t?Sd(t):Sd,qn=ro(t=>({summary:null,setSummary:e=>t({summary:e}),clear:()=>t({summary:null})})),Tt=ro(t=>({token:localStorage.getItem("token")||"",user:JSON.parse(localStorage.getItem("user")||"null"),login:(e,n)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(n)),qn.getState().clear(),t({token:e,user:n})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),qn.getState().clear(),t({token:"",user:null})}})),os=ro(t=>({token:localStorage.getItem("admin_token")||"",admin:JSON.parse(localStorage.getItem("admin_user")||"null"),login:(e,n)=>{localStorage.setItem("admin_token",e),localStorage.setItem("admin_user",JSON.stringify(n)),t({token:e,admin:n})},logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),t({token:"",admin:null})}}));function N0(t,e){return function(){return t.apply(e,arguments)}}const{toString:qw}=Object.prototype,{getPrototypeOf:Oc}=Object,{iterator:lo,toStringTag:_0}=Symbol,oo=(t=>e=>{const n=qw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=t=>(t=t.toLowerCase(),e=>oo(e)===t),ao=t=>e=>typeof e===t,{isArray:Qs}=Array,Is=ao("undefined");function ir(t){return t!==null&&!Is(t)&&t.constructor!==null&&!Is(t.constructor)&&Je(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const k0=Mt("ArrayBuffer");function Kw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&k0(t.buffer),e}const Xw=ao("string"),Je=ao("function"),E0=ao("number"),rr=t=>t!==null&&typeof t=="object",Qw=t=>t===!0||t===!1,tl=t=>{if(oo(t)!=="object")return!1;const e=Oc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_0 in t)&&!(lo in t)},Jw=t=>{if(!rr(t)||ir(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Gw=Mt("Date"),Yw=Mt("File"),Zw=Mt("Blob"),eb=Mt("FileList"),tb=t=>rr(t)&&Je(t.pipe),nb=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Je(t.append)&&((e=oo(t))==="formdata"||e==="object"&&Je(t.toString)&&t.toString()==="[object FormData]"))},sb=Mt("URLSearchParams"),[ib,rb,lb,ob]=["ReadableStream","Request","Response","Headers"].map(Mt),ab=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Qs(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(ir(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),l=r.length;let o;for(s=0;s<l;s++)o=r[s],e.call(null,t[o],o,t)}}function C0(t,e){if(ir(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Un=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j0=t=>!Is(t)&&t!==Un;function yu(){const{caseless:t,skipUndefined:e}=j0(this)&&this||{},n={},s=(i,r)=>{const l=t&&C0(n,r)||r;tl(n[l])&&tl(i)?n[l]=yu(n[l],i):tl(i)?n[l]=yu({},i):Qs(i)?n[l]=i.slice():(!e||!Is(i))&&(n[l]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&lr(arguments[i],s);return n}const ub=(t,e,n,{allOwnKeys:s}={})=>(lr(e,(i,r)=>{n&&Je(i)?t[r]=N0(i,n):t[r]=i},{allOwnKeys:s}),t),cb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hb=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},db=(t,e,n,s)=>{let i,r,l;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)l=i[r],(!s||s(l,t,e))&&!o[l]&&(e[l]=t[l],o[l]=!0);t=n!==!1&&Oc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},fb=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},pb=t=>{if(!t)return null;if(Qs(t))return t;let e=t.length;if(!E0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mb=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Oc(Uint8Array)),gb=(t,e)=>{const s=(t&&t[lo]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},vb=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},xb=Mt("HTMLFormElement"),yb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),Nd=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),wb=Mt("RegExp"),T0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};lr(n,(i,r)=>{let l;(l=e(i,r,t))!==!1&&(s[r]=l||i)}),Object.defineProperties(t,s)},bb=t=>{T0(t,(e,n)=>{if(Je(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Je(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Sb=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return Qs(t)?s(t):s(String(t).split(e)),n},Nb=()=>{},_b=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function kb(t){return!!(t&&Je(t.append)&&t[_0]==="FormData"&&t[lo])}const Eb=t=>{const e=new Array(10),n=(s,i)=>{if(rr(s)){if(e.indexOf(s)>=0)return;if(ir(s))return s;if(!("toJSON"in s)){e[i]=s;const r=Qs(s)?[]:{};return lr(s,(l,o)=>{const a=n(l,i+1);!Is(a)&&(r[o]=a)}),e[i]=void 0,r}}return s};return n(t,0)},Cb=Mt("AsyncFunction"),jb=t=>t&&(rr(t)||Je(t))&&Je(t.then)&&Je(t.catch),M0=((t,e)=>t?setImmediate:e?((n,s)=>(Un.addEventListener("message",({source:i,data:r})=>{i===Un&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Un.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Je(Un.postMessage)),Tb=typeof queueMicrotask<"u"?queueMicrotask.bind(Un):typeof process<"u"&&process.nextTick||M0,Mb=t=>t!=null&&Je(t[lo]),E={isArray:Qs,isArrayBuffer:k0,isBuffer:ir,isFormData:nb,isArrayBufferView:Kw,isString:Xw,isNumber:E0,isBoolean:Qw,isObject:rr,isPlainObject:tl,isEmptyObject:Jw,isReadableStream:ib,isRequest:rb,isResponse:lb,isHeaders:ob,isUndefined:Is,isDate:Gw,isFile:Yw,isBlob:Zw,isRegExp:wb,isFunction:Je,isStream:tb,isURLSearchParams:sb,isTypedArray:mb,isFileList:eb,forEach:lr,merge:yu,extend:ub,trim:ab,stripBOM:cb,inherits:hb,toFlatObject:db,kindOf:oo,kindOfTest:Mt,endsWith:fb,toArray:pb,forEachEntry:gb,matchAll:vb,isHTMLForm:xb,hasOwnProperty:Nd,hasOwnProp:Nd,reduceDescriptors:T0,freezeMethods:bb,toObjectSet:Sb,toCamelCase:yb,noop:Nb,toFiniteNumber:_b,findKey:C0,global:Un,isContextDefined:j0,isSpecCompliantForm:kb,toJSONObject:Eb,isAsyncFn:Cb,isThenable:jb,setImmediate:M0,asap:Tb,isIterable:Mb};function U(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}E.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const R0=U.prototype,P0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{P0[t]={value:t}});Object.defineProperties(U,P0);Object.defineProperty(R0,"isAxiosError",{value:!0});U.from=(t,e,n,s,i,r)=>{const l=Object.create(R0);E.toFlatObject(t,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",a=e==null&&t?t.code:e;return U.call(l,o,a,n,s,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",r&&Object.assign(l,r),l};const Rb=null;function wu(t){return E.isPlainObject(t)||E.isArray(t)}function L0(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function _d(t,e,n){return t?t.concat(e).map(function(i,r){return i=L0(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function Pb(t){return E.isArray(t)&&!t.some(wu)}const Lb=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function uo(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!E.isUndefined(y[g])});const s=n.metaTokens,i=n.visitor||h,r=n.dots,l=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(E.isDate(p))return p.toISOString();if(E.isBoolean(p))return p.toString();if(!a&&E.isBlob(p))throw new U("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(p)||E.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,g,y){let m=p;if(p&&!y&&typeof p=="object"){if(E.endsWith(g,"{}"))g=s?g:g.slice(0,-2),p=JSON.stringify(p);else if(E.isArray(p)&&Pb(p)||(E.isFileList(p)||E.endsWith(g,"[]"))&&(m=E.toArray(p)))return g=L0(g),m.forEach(function(w,S){!(E.isUndefined(w)||w===null)&&e.append(l===!0?_d([g],S,r):l===null?g:g+"[]",c(w))}),!1}return wu(p)?!0:(e.append(_d(y,g,r),c(p)),!1)}const d=[],f=Object.assign(Lb,{defaultVisitor:h,convertValue:c,isVisitable:wu});function v(p,g){if(!E.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),E.forEach(p,function(m,x){(!(E.isUndefined(m)||m===null)&&i.call(e,m,E.isString(x)?x.trim():x,g,f))===!0&&v(m,g?g.concat(x):[x])}),d.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return v(t),e}function kd(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function $c(t,e){this._pairs=[],t&&uo(t,this,e)}const z0=$c.prototype;z0.append=function(e,n){this._pairs.push([e,n])};z0.toString=function(e){const n=e?function(s){return e.call(this,s,kd)}:kd;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function zb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function O0(t,e,n){if(!e)return t;const s=n&&n.encode||zb;E.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=E.isURLSearchParams(e)?e.toString():new $c(e,n).toString(s),r){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Ed{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(s){s!==null&&e(s)})}}const $0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ob=typeof URLSearchParams<"u"?URLSearchParams:$c,$b=typeof FormData<"u"?FormData:null,Ab=typeof Blob<"u"?Blob:null,Fb={isBrowser:!0,classes:{URLSearchParams:Ob,FormData:$b,Blob:Ab},protocols:["http","https","file","blob","url","data"]},Ac=typeof window<"u"&&typeof document<"u",bu=typeof navigator=="object"&&navigator||void 0,Db=Ac&&(!bu||["ReactNative","NativeScript","NS"].indexOf(bu.product)<0),Bb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ib=Ac&&window.location.href||"http://localhost",Vb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ac,hasStandardBrowserEnv:Db,hasStandardBrowserWebWorkerEnv:Bb,navigator:bu,origin:Ib},Symbol.toStringTag,{value:"Module"})),ze={...Vb,...Fb};function Ub(t,e){return uo(t,new ze.classes.URLSearchParams,{visitor:function(n,s,i,r){return ze.isNode&&E.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function Wb(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Hb(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function A0(t){function e(n,s,i,r){let l=n[r++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=r>=n.length;return l=!l&&E.isArray(i)?i.length:l,a?(E.hasOwnProp(i,l)?i[l]=[i[l],s]:i[l]=s,!o):((!i[l]||!E.isObject(i[l]))&&(i[l]=[]),e(n,s,i[l],r)&&E.isArray(i[l])&&(i[l]=Hb(i[l])),!o)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(s,i)=>{e(Wb(s),i,n,0)}),n}return null}function qb(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const or={transitional:$0,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=E.isObject(e);if(r&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return i?JSON.stringify(A0(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ub(e,this.formSerializer).toString();if((o=E.isFileList(e))||s.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return uo(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),qb(e)):e}],transformResponse:[function(e){const n=this.transitional||or.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(s&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?U.from(o,U.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{or.headers[t]={}});const Kb=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xb=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),s=l.substring(i+1).trim(),!(!n||e[n]&&Kb[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Cd=Symbol("internals");function oi(t){return t&&String(t).trim().toLowerCase()}function nl(t){return t===!1||t==null?t:E.isArray(t)?t.map(nl):String(t)}function Qb(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const Jb=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qo(t,e,n,s,i){if(E.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!E.isString(e)){if(E.isString(s))return e.indexOf(s)!==-1;if(E.isRegExp(s))return s.test(e)}}function Gb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function Yb(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,l){return this[s].call(this,e,i,r,l)},configurable:!0})})}let Ge=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(o,a,c){const h=oi(a);if(!h)throw new Error("header name must be a non-empty string");const d=E.findKey(i,h);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||a]=nl(o))}const l=(o,a)=>E.forEach(o,(c,h)=>r(c,h,a));if(E.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(E.isString(e)&&(e=e.trim())&&!Jb(e))l(Xb(e),n);else if(E.isObject(e)&&E.isIterable(e)){let o={},a,c;for(const h of e){if(!E.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[c=h[0]]=(a=o[c])?E.isArray(a)?[...a,h[1]]:[a,h[1]]:h[1]}l(o,n)}else e!=null&&r(n,e,s);return this}get(e,n){if(e=oi(e),e){const s=E.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return Qb(i);if(E.isFunction(n))return n.call(this,i,s);if(E.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=oi(e),e){const s=E.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Qo(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(l){if(l=oi(l),l){const o=E.findKey(s,l);o&&(!n||Qo(s,s[o],o,n))&&(delete s[o],i=!0)}}return E.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||Qo(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return E.forEach(this,(i,r)=>{const l=E.findKey(s,r);if(l){n[l]=nl(i),delete n[r];return}const o=e?Gb(r):String(r).trim();o!==r&&delete n[r],n[o]=nl(i),s[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&E.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Cd]=this[Cd]={accessors:{}}).accessors,i=this.prototype;function r(l){const o=oi(l);s[o]||(Yb(i,l),s[o]=!0)}return E.isArray(e)?e.forEach(r):r(e),this}};Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(Ge.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});E.freezeMethods(Ge);function Jo(t,e){const n=this||or,s=e||n,i=Ge.from(s.headers);let r=s.data;return E.forEach(t,function(o){r=o.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function F0(t){return!!(t&&t.__CANCEL__)}function Js(t,e,n){U.call(this,t??"canceled",U.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(Js,U,{__CANCEL__:!0});function D0(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new U("Request failed with status code "+n.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Zb(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e1(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,l;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),h=s[r];l||(l=c),n[i]=a,s[i]=c;let d=r,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-l<e)return;const v=h&&c-h;return v?Math.round(f*1e3/v):void 0}}function t1(t,e){let n=0,s=1e3/e,i,r;const l=(c,h=Date.now())=>{n=h,i=null,r&&(clearTimeout(r),r=null),t(...c)};return[(...c)=>{const h=Date.now(),d=h-n;d>=s?l(c,h):(i=c,r||(r=setTimeout(()=>{r=null,l(i)},s-d)))},()=>i&&l(i)]}const Ol=(t,e,n=3)=>{let s=0;const i=e1(50,250);return t1(r=>{const l=r.loaded,o=r.lengthComputable?r.total:void 0,a=l-s,c=i(a),h=l<=o;s=l;const d={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&h?(o-l)/c:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},jd=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Td=t=>(...e)=>E.asap(()=>t(...e)),n1=ze.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ze.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,s1=ze.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const l=[t+"="+encodeURIComponent(e)];E.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),E.isString(s)&&l.push("path="+s),E.isString(i)&&l.push("domain="+i),r===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function r1(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function B0(t,e,n){let s=!i1(e);return t&&(s||n==!1)?r1(t,e):e}const Md=t=>t instanceof Ge?{...t}:t;function es(t,e){e=e||{};const n={};function s(c,h,d,f){return E.isPlainObject(c)&&E.isPlainObject(h)?E.merge.call({caseless:f},c,h):E.isPlainObject(h)?E.merge({},h):E.isArray(h)?h.slice():h}function i(c,h,d,f){if(E.isUndefined(h)){if(!E.isUndefined(c))return s(void 0,c,d,f)}else return s(c,h,d,f)}function r(c,h){if(!E.isUndefined(h))return s(void 0,h)}function l(c,h){if(E.isUndefined(h)){if(!E.isUndefined(c))return s(void 0,c)}else return s(void 0,h)}function o(c,h,d){if(d in e)return s(c,h);if(d in t)return s(void 0,c)}const a={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,h,d)=>i(Md(c),Md(h),d,!0)};return E.forEach(Object.keys({...t,...e}),function(h){const d=a[h]||i,f=d(t[h],e[h],h);E.isUndefined(f)&&d!==o||(n[h]=f)}),n}const I0=t=>{const e=es({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:l,auth:o}=e;if(e.headers=l=Ge.from(l),e.url=O0(B0(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),E.isFormData(n)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(E.isFunction(n.getHeaders)){const a=n.getHeaders(),c=["content-type","content-length"];Object.entries(a).forEach(([h,d])=>{c.includes(h.toLowerCase())&&l.set(h,d)})}}if(ze.hasStandardBrowserEnv&&(s&&E.isFunction(s)&&(s=s(e)),s||s!==!1&&n1(e.url))){const a=i&&r&&s1.read(r);a&&l.set(i,a)}return e},l1=typeof XMLHttpRequest<"u",o1=l1&&function(t){return new Promise(function(n,s){const i=I0(t);let r=i.data;const l=Ge.from(i.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:c}=i,h,d,f,v,p;function g(){v&&v(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function m(){if(!y)return;const w=Ge.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:t,request:y};D0(function(M){n(M),g()},function(M){s(M),g()},C),y=null}"onloadend"in y?y.onloadend=m:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(m)},y.onabort=function(){y&&(s(new U("Request aborted",U.ECONNABORTED,t,y)),y=null)},y.onerror=function(S){const C=S&&S.message?S.message:"Network Error",T=new U(C,U.ERR_NETWORK,t,y);T.event=S||null,s(T),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||$0;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),s(new U(S,C.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,t,y)),y=null},r===void 0&&l.setContentType(null),"setRequestHeader"in y&&E.forEach(l.toJSON(),function(S,C){y.setRequestHeader(C,S)}),E.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),o&&o!=="json"&&(y.responseType=i.responseType),c&&([f,p]=Ol(c,!0),y.addEventListener("progress",f)),a&&y.upload&&([d,v]=Ol(a),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(h=w=>{y&&(s(!w||w.type?new Js(null,t,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const x=Zb(i.url);if(x&&ze.protocols.indexOf(x)===-1){s(new U("Unsupported protocol "+x+":",U.ERR_BAD_REQUEST,t));return}y.send(r||null)})},a1=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,o();const h=c instanceof Error?c:this.reason;s.abort(h instanceof U?h:new Js(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,r(new U(`timeout ${e} of ms exceeded`,U.ETIMEDOUT))},e);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:a}=s;return a.unsubscribe=()=>E.asap(o),a}},u1=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},c1=async function*(t,e){for await(const n of h1(t))yield*u1(n,e)},h1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Rd=(t,e,n,s)=>{const i=c1(t,e);let r=0,l,o=a=>{l||(l=!0,s&&s(a))};return new ReadableStream({async pull(a){try{const{done:c,value:h}=await i.next();if(c){o(),a.close();return}let d=h.byteLength;if(n){let f=r+=d;n(f)}a.enqueue(new Uint8Array(h))}catch(c){throw o(c),c}},cancel(a){return o(a),i.return()}},{highWaterMark:2})},Pd=64*1024,{isFunction:Tr}=E,d1=(({Request:t,Response:e})=>({Request:t,Response:e}))(E.global),{ReadableStream:Ld,TextEncoder:zd}=E.global,Od=(t,...e)=>{try{return!!t(...e)}catch{return!1}},f1=t=>{t=E.merge.call({skipUndefined:!0},d1,t);const{fetch:e,Request:n,Response:s}=t,i=e?Tr(e):typeof fetch=="function",r=Tr(n),l=Tr(s);if(!i)return!1;const o=i&&Tr(Ld),a=i&&(typeof zd=="function"?(p=>g=>p.encode(g))(new zd):async p=>new Uint8Array(await new n(p).arrayBuffer())),c=r&&o&&Od(()=>{let p=!1;const g=new n(ze.origin,{body:new Ld,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),h=l&&o&&Od(()=>E.isReadableStream(new s("").body)),d={stream:h&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(g,y)=>{let m=g&&g[p];if(m)return m.call(g);throw new U(`Response type '${p}' is not supported`,U.ERR_NOT_SUPPORT,y)})});const f=async p=>{if(p==null)return 0;if(E.isBlob(p))return p.size;if(E.isSpecCompliantForm(p))return(await new n(ze.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(E.isArrayBufferView(p)||E.isArrayBuffer(p))return p.byteLength;if(E.isURLSearchParams(p)&&(p=p+""),E.isString(p))return(await a(p)).byteLength},v=async(p,g)=>{const y=E.toFiniteNumber(p.getContentLength());return y??f(g)};return async p=>{let{url:g,method:y,data:m,signal:x,cancelToken:w,timeout:S,onDownloadProgress:C,onUploadProgress:T,responseType:M,headers:j,withCredentials:D="same-origin",fetchOptions:A}=I0(p),V=e||fetch;M=M?(M+"").toLowerCase():"text";let Z=a1([x,w&&w.toAbortSignal()],S),ee=null;const K=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let B;try{if(T&&c&&y!=="get"&&y!=="head"&&(B=await v(j,m))!==0){let $=new n(g,{method:"POST",body:m,duplex:"half"}),I;if(E.isFormData(m)&&(I=$.headers.get("content-type"))&&j.setContentType(I),$.body){const[ne,W]=jd(B,Ol(Td(T)));m=Rd($.body,Pd,ne,W)}}E.isString(D)||(D=D?"include":"omit");const O=r&&"credentials"in n.prototype,G={...A,signal:Z,method:y.toUpperCase(),headers:j.normalize().toJSON(),body:m,duplex:"half",credentials:O?D:void 0};ee=r&&new n(g,G);let N=await(r?V(ee,A):V(g,G));const k=h&&(M==="stream"||M==="response");if(h&&(C||k&&K)){const $={};["status","statusText","headers"].forEach(ge=>{$[ge]=N[ge]});const I=E.toFiniteNumber(N.headers.get("content-length")),[ne,W]=C&&jd(I,Ol(Td(C),!0))||[];N=new s(Rd(N.body,Pd,ne,()=>{W&&W(),K&&K()}),$)}M=M||"text";let P=await d[E.findKey(d,M)||"text"](N,p);return!k&&K&&K(),await new Promise(($,I)=>{D0($,I,{data:P,headers:Ge.from(N.headers),status:N.status,statusText:N.statusText,config:p,request:ee})})}catch(O){throw K&&K(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,p,ee),{cause:O.cause||O}):U.from(O,O&&O.code,p,ee)}}},p1=new Map,V0=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:i}=e,r=[s,i,n];let l=r.length,o=l,a,c,h=p1;for(;o--;)a=r[o],c=h.get(a),c===void 0&&h.set(a,c=o?new Map:f1(e)),h=c;return c};V0();const Su={http:Rb,xhr:o1,fetch:{get:V0}};E.forEach(Su,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $d=t=>`- ${t}`,m1=t=>E.isFunction(t)||t===null||t===!1,U0={getAdapter:(t,e)=>{t=E.isArray(t)?t:[t];const{length:n}=t;let s,i;const r={};for(let l=0;l<n;l++){s=t[l];let o;if(i=s,!m1(s)&&(i=Su[(o=String(s)).toLowerCase()],i===void 0))throw new U(`Unknown adapter '${o}'`);if(i&&(E.isFunction(i)||(i=i.get(e))))break;r[o||"#"+l]=i}if(!i){const l=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map($d).join(`
`):" "+$d(l[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Su};function Go(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Js(null,t)}function Ad(t){return Go(t),t.headers=Ge.from(t.headers),t.data=Jo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),U0.getAdapter(t.adapter||or.adapter,t)(t).then(function(s){return Go(t),s.data=Jo.call(t,t.transformResponse,s),s.headers=Ge.from(s.headers),s},function(s){return F0(s)||(Go(t),s&&s.response&&(s.response.data=Jo.call(t,t.transformResponse,s.response),s.response.headers=Ge.from(s.response.headers))),Promise.reject(s)})}const W0="1.12.2",co={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{co[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Fd={};co.transitional=function(e,n,s){function i(r,l){return"[Axios v"+W0+"] Transitional option '"+r+"'"+l+(s?". "+s:"")}return(r,l,o)=>{if(e===!1)throw new U(i(l," has been removed"+(n?" in "+n:"")),U.ERR_DEPRECATED);return n&&!Fd[l]&&(Fd[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,l,o):!0}};co.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function g1(t,e,n){if(typeof t!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],l=e[r];if(l){const o=t[r],a=o===void 0||l(o,r,t);if(a!==!0)throw new U("option "+r+" must be "+a,U.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new U("Unknown option "+r,U.ERR_BAD_OPTION)}}const sl={assertOptions:g1,validators:co},Ot=sl.validators;let Kn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ed,response:new Ed}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=es(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&sl.assertOptions(s,{silentJSONParsing:Ot.transitional(Ot.boolean),forcedJSONParsing:Ot.transitional(Ot.boolean),clarifyTimeoutError:Ot.transitional(Ot.boolean)},!1),i!=null&&(E.isFunction(i)?n.paramsSerializer={serialize:i}:sl.assertOptions(i,{encode:Ot.function,serialize:Ot.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),sl.assertOptions(n,{baseUrl:Ot.spelling("baseURL"),withXsrfToken:Ot.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=r&&E.merge(r.common,r[n.method]);r&&E.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=Ge.concat(l,r);const o=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(a=a&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let h,d=0,f;if(!a){const p=[Ad.bind(this),void 0];for(p.unshift(...o),p.push(...c),f=p.length,h=Promise.resolve(n);d<f;)h=h.then(p[d++],p[d++]);return h}f=o.length;let v=n;for(;d<f;){const p=o[d++],g=o[d++];try{v=p(v)}catch(y){g.call(this,y);break}}try{h=Ad.call(this,v)}catch(p){return Promise.reject(p)}for(d=0,f=c.length;d<f;)h=h.then(c[d++],c[d++]);return h}getUri(e){e=es(this.defaults,e);const n=B0(e.baseURL,e.url,e.allowAbsoluteUrls);return O0(n,e.params,e.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(e){Kn.prototype[e]=function(n,s){return this.request(es(s||{},{method:e,url:n,data:(s||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(s){return function(r,l,o){return this.request(es(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:l}))}}Kn.prototype[e]=n(),Kn.prototype[e+"Form"]=n(!0)});let v1=class H0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const l=new Promise(o=>{s.subscribe(o),r=o}).then(i);return l.cancel=function(){s.unsubscribe(r)},l},e(function(r,l,o){s.reason||(s.reason=new Js(r,l,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new H0(function(i){e=i}),cancel:e}}};function x1(t){return function(n){return t.apply(null,n)}}function y1(t){return E.isObject(t)&&t.isAxiosError===!0}const Nu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Nu).forEach(([t,e])=>{Nu[e]=t});function q0(t){const e=new Kn(t),n=N0(Kn.prototype.request,e);return E.extend(n,Kn.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return q0(es(t,i))},n}const ye=q0(or);ye.Axios=Kn;ye.CanceledError=Js;ye.CancelToken=v1;ye.isCancel=F0;ye.VERSION=W0;ye.toFormData=uo;ye.AxiosError=U;ye.Cancel=ye.CanceledError;ye.all=function(e){return Promise.all(e)};ye.spread=x1;ye.isAxiosError=y1;ye.mergeConfig=es;ye.AxiosHeaders=Ge;ye.formToJSON=t=>A0(E.isHTMLForm(t)?new FormData(t):t);ye.getAdapter=U0.getAdapter;ye.HttpStatusCode=Nu;ye.default=ye;const{Axios:Ak,AxiosError:Fk,CanceledError:Dk,isCancel:Bk,CancelToken:Ik,VERSION:Vk,all:Uk,Cancel:Wk,isAxiosError:Hk,spread:qk,toFormData:Kk,AxiosHeaders:Xk,HttpStatusCode:Qk,formToJSON:Jk,getAdapter:Gk,mergeConfig:Yk}=ye,w1=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),b1=w1;function X(t){return ye.create({baseURL:b1,headers:t?{Authorization:`Bearer ${t}`}:{}})}const ai=ro(t=>({notifications:[],unread:0,setNotifications:(e,n=0)=>t({notifications:e,unread:n}),appendNotification:(e,{read:n=!1}={})=>t(s=>{const i=s.notifications.find(r=>r.id===e.id);return i?{notifications:s.notifications.map(r=>r.id===e.id?{...i,...e}:r)}:{notifications:[{...e,is_read:n?1:0},...s.notifications].slice(0,200),unread:n?s.unread:s.unread+1}}),markAllRead:()=>t(e=>({notifications:e.notifications.map(n=>({...n,is_read:1})),unread:0}))})),Wt=Object.create(null);Wt.open="0";Wt.close="1";Wt.ping="2";Wt.pong="3";Wt.message="4";Wt.upgrade="5";Wt.noop="6";const il=Object.create(null);Object.keys(Wt).forEach(t=>{il[Wt[t]]=t});const _u={type:"error",data:"parser error"},K0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",X0=typeof ArrayBuffer=="function",Q0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Fc=({type:t,data:e},n,s)=>K0&&e instanceof Blob?n?s(e):Dd(e,s):X0&&(e instanceof ArrayBuffer||Q0(e))?n?s(e):Dd(new Blob([e]),s):s(Wt[t]+(e||"")),Dd=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Bd(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Yo;function S1(t,e){if(K0&&t.data instanceof Blob)return t.data.arrayBuffer().then(Bd).then(e);if(X0&&(t.data instanceof ArrayBuffer||Q0(t.data)))return e(Bd(t.data));Fc(t,!1,n=>{Yo||(Yo=new TextEncoder),e(Yo.encode(n))})}const Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Id.length;t++)mi[Id.charCodeAt(t)]=t;const N1=t=>{let e=t.length*.75,n=t.length,s,i=0,r,l,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),h=new Uint8Array(c);for(s=0;s<n;s+=4)r=mi[t.charCodeAt(s)],l=mi[t.charCodeAt(s+1)],o=mi[t.charCodeAt(s+2)],a=mi[t.charCodeAt(s+3)],h[i++]=r<<2|l>>4,h[i++]=(l&15)<<4|o>>2,h[i++]=(o&3)<<6|a&63;return c},_1=typeof ArrayBuffer=="function",Dc=(t,e)=>{if(typeof t!="string")return{type:"message",data:J0(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:k1(t.substring(1),e)}:il[n]?t.length>1?{type:il[n],data:t.substring(1)}:{type:il[n]}:_u},k1=(t,e)=>{if(_1){const n=N1(t);return J0(n,e)}else return{base64:!0,data:t}},J0=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},G0="",E1=(t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach((r,l)=>{Fc(r,!1,o=>{s[l]=o,++i===n&&e(s.join(G0))})})},C1=(t,e)=>{const n=t.split(G0),s=[];for(let i=0;i<n.length;i++){const r=Dc(n[i],e);if(s.push(r),r.type==="error")break}return s};function j1(){return new TransformStream({transform(t,e){S1(t,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,s)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Zo;function Mr(t){return t.reduce((e,n)=>e+n.length,0)}function Rr(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let i=0;i<e;i++)n[i]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function T1(t,e){Zo||(Zo=new TextDecoder);const n=[];let s=0,i=-1,r=!1;return new TransformStream({transform(l,o){for(n.push(l);;){if(s===0){if(Mr(n)<1)break;const a=Rr(n,1);r=(a[0]&128)===128,i=a[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Mr(n)<2)break;const a=Rr(n,2);i=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),s=3}else if(s===2){if(Mr(n)<8)break;const a=Rr(n,8),c=new DataView(a.buffer,a.byteOffset,a.length),h=c.getUint32(0);if(h>Math.pow(2,21)-1){o.enqueue(_u);break}i=h*Math.pow(2,32)+c.getUint32(4),s=3}else{if(Mr(n)<i)break;const a=Rr(n,i);o.enqueue(Dc(r?a:Zo.decode(a),e)),s=0}if(i===0||i>t){o.enqueue(_u);break}}}})}const Y0=4;function be(t){if(t)return M1(t)}function M1(t){for(var e in be.prototype)t[e]=be.prototype[e];return t}be.prototype.on=be.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};be.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};be.prototype.off=be.prototype.removeListener=be.prototype.removeAllListeners=be.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===e||s.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};be.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,e)}return this};be.prototype.emitReserved=be.prototype.emit;be.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};be.prototype.hasListeners=function(t){return!!this.listeners(t).length};const ho=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),R1="arraybuffer";function Z0(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const P1=dt.setTimeout,L1=dt.clearTimeout;function fo(t,e){e.useNativeTimers?(t.setTimeoutFn=P1.bind(dt),t.clearTimeoutFn=L1.bind(dt)):(t.setTimeoutFn=dt.setTimeout.bind(dt),t.clearTimeoutFn=dt.clearTimeout.bind(dt))}const z1=1.33;function O1(t){return typeof t=="string"?$1(t):Math.ceil((t.byteLength||t.size)*z1)}function $1(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function eg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function A1(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function F1(t){let e={},n=t.split("&");for(let s=0,i=n.length;s<i;s++){let r=n[s].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class D1 extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class Bc extends be{constructor(e){super(),this.writable=!1,fo(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new D1(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Dc(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=A1(e);return n.length?"?"+n:""}}class B1 extends Bc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};C1(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,E1(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=eg()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let tg=!1;try{tg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const I1=tg;function V1(){}class U1 extends B1{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class Ut extends be{constructor(e,n,s){super(),this.createRequest=e,fo(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=Z0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Ut.requestsCount++,Ut.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=V1,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ut.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ut.requestsCount=0;Ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Vd);else if(typeof addEventListener=="function"){const t="onpagehide"in dt?"pagehide":"unload";addEventListener(t,Vd,!1)}}function Vd(){for(let t in Ut.requests)Ut.requests.hasOwnProperty(t)&&Ut.requests[t].abort()}const W1=function(){const t=ng({xdomain:!1});return t&&t.responseType!==null}();class H1 extends U1{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=W1&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ut(ng,this.uri(),e)}}function ng(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||I1))return new XMLHttpRequest}catch{}if(!e)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const sg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class q1 extends Bc{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=sg?{}:Z0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;Fc(s,this.supportsBinary,r=>{try{this.doWrite(s,r)}catch{}i&&ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=eg()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const ea=dt.WebSocket||dt.MozWebSocket;class K1 extends q1{createSocket(e,n,s){return sg?new ea(e,n,s):n?new ea(e,n):new ea(e)}doWrite(e,n){this.ws.send(n)}}class X1 extends Bc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=T1(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),i=j1();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const r=()=>{s.read().then(({done:o,value:a})=>{o||(this.onPacket(a),r())}).catch(o=>{})};r();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],i=n===e.length-1;this._writer.write(s).then(()=>{i&&ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Q1={websocket:K1,webtransport:X1,polling:H1},J1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,G1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ku(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=J1.exec(t||""),r={},l=14;for(;l--;)r[G1[l]]=i[l]||"";return n!=-1&&s!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Y1(r,r.path),r.queryKey=Z1(r,r.query),r}function Y1(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Z1(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,r){i&&(n[i]=r)}),n}const Eu=typeof addEventListener=="function"&&typeof removeEventListener=="function",rl=[];Eu&&addEventListener("offline",()=>{rl.forEach(t=>t())},!1);class Cn extends be{constructor(e,n){if(super(),this.binaryType=R1,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=ku(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=ku(n.host).host);fo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const i=s.prototype.name;this.transports.push(i),this._transportsByName[i]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=F1(this.opts.query)),Eu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},rl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Y0,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Cn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Cn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=O1(i)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ho(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const r={type:e,data:n,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Cn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Eu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=rl.indexOf(this._offlineEventListener);s!==-1&&rl.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Cn.protocol=Y0;class eS extends Cn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Cn.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!s)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Cn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){s||(s=!0,h(),n.close(),n=null)}const l=d=>{const f=new Error("probe error: "+d);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function o(){l("transport closed")}function a(){l("socket closed")}function c(d){n&&d.name!==n.name&&r()}const h=()=>{n.removeListener("open",i),n.removeListener("error",l),n.removeListener("close",o),this.off("close",a),this.off("upgrading",c)};n.once("open",i),n.once("error",l),n.once("close",o),this.once("close",a),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let tS=class extends eS{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(i=>Q1[i]).filter(i=>!!i)),super(e,s)}};function nS(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=ku(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const r=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+r+":"+s.port+e,s.href=s.protocol+"://"+r+(n&&n.port===s.port?"":":"+s.port),s}const sS=typeof ArrayBuffer=="function",iS=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ig=Object.prototype.toString,rS=typeof Blob=="function"||typeof Blob<"u"&&ig.call(Blob)==="[object BlobConstructor]",lS=typeof File=="function"||typeof File<"u"&&ig.call(File)==="[object FileConstructor]";function Ic(t){return sS&&(t instanceof ArrayBuffer||iS(t))||rS&&t instanceof Blob||lS&&t instanceof File}function ll(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(ll(t[n]))return!0;return!1}if(Ic(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return ll(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&ll(t[n]))return!0;return!1}function oS(t){const e=[],n=t.data,s=t;return s.data=Cu(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Cu(t,e){if(!t)return t;if(Ic(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Cu(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Cu(t[s],e));return n}return t}function aS(t,e){return t.data=ju(t.data,e),delete t.attachments,t}function ju(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ju(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ju(t[n],e));return t}const uS=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cS=5;var q;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(q||(q={}));class hS{constructor(e){this.replacer=e}encode(e){return(e.type===q.EVENT||e.type===q.ACK)&&ll(e)?this.encodeAsBinary({type:e.type===q.EVENT?q.BINARY_EVENT:q.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===q.BINARY_EVENT||e.type===q.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=oS(e),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function Ud(t){return Object.prototype.toString.call(t)==="[object Object]"}class Vc extends be{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===q.BINARY_EVENT;s||n.type===q.BINARY_ACK?(n.type=s?q.EVENT:q.ACK,this.reconstructor=new dS(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ic(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(q[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===q.BINARY_EVENT||s.type===q.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const l=e.substring(r,n);if(l!=Number(l)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(l)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(r,n)}else s.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const r=n+1;for(;++n;){const l=e.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===e.length)break}s.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Vc.isPayloadValid(s.type,r))s.data=r;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case q.CONNECT:return Ud(n);case q.DISCONNECT:return n===void 0;case q.CONNECT_ERROR:return typeof n=="string"||Ud(n);case q.EVENT:case q.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&uS.indexOf(n[0])===-1);case q.ACK:case q.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dS{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=aS(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const fS=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Vc,Encoder:hS,get PacketType(){return q},protocol:cS},Symbol.toStringTag,{value:"Module"}));function St(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const pS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rg extends be{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[St(e,"open",this.onopen.bind(this)),St(e,"packet",this.onpacket.bind(this)),St(e,"error",this.onerror.bind(this)),St(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,i,r;if(pS.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:q.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,d=n.pop();this._registerAckCallback(h,d),l.id=h}const o=(i=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||i===void 0?void 0:i.writable,a=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i),l=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,o)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...n){return new Promise((s,i)=>{const r=(l,o)=>l?i(l):s(o);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...r)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...r)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case q.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case q.EVENT:case q.BINARY_EVENT:this.onevent(e);break;case q.ACK:case q.BINARY_ACK:this.onack(e);break;case q.DISCONNECT:this.ondisconnect();break;case q.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:q.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function Gs(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Gs.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Gs.prototype.reset=function(){this.attempts=0};Gs.prototype.setMin=function(t){this.ms=t};Gs.prototype.setMax=function(t){this.max=t};Gs.prototype.setJitter=function(t){this.jitter=t};class Tu extends be{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,fo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Gs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||fS;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new tS(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=St(n,"open",function(){s.onopen(),e&&e()}),r=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},l=St(n,"error",r);if(this._timeout!==!1){const o=this._timeout,a=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),n.close()},o);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(i),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(St(e,"ping",this.onping.bind(this)),St(e,"data",this.ondata.bind(this)),St(e,"error",this.onerror.bind(this)),St(e,"close",this.onclose.bind(this)),St(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){ho(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new rg(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ui={};function ol(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=nS(t,e.path||"/socket.io"),s=n.source,i=n.id,r=n.path,l=ui[i]&&r in ui[i].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let a;return o?a=new Tu(s,e):(ui[i]||(ui[i]=new Tu(s,e)),a=ui[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(ol,{Manager:Tu,Socket:rg,io:ol,connect:ol});const mS=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),gS=mS,$l=ol(gS,{transports:["websocket"],autoConnect:!0});function vS(){const[t,e]=b.useState(""),[n,s]=b.useState(""),[i,r]=b.useState(!1),[l,o]=b.useState(""),{login:a}=Tt(),c=On();async function h(d){var f,v;d.preventDefault(),r(!0),o("");try{const p=await X().post("/api/auth/login",{email:t,password:n});a(p.data.token,p.data.user),c("/dashboard")}catch(p){o(((v=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:v.error)||"Login failed")}finally{r(!1)}}return u.jsxs("div",{className:"max-w-md mx-auto card",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign in"}),l&&u.jsx("div",{className:"text-red-400 mb-2",children:l}),u.jsxs("form",{onSubmit:h,className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Email"}),u.jsx("input",{className:"input",value:t,onChange:d=>e(d.target.value),placeholder:"you@example.com"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Password"}),u.jsx("input",{type:"password",className:"input",value:n,onChange:d=>s(d.target.value),placeholder:""})]}),u.jsx("button",{className:"btn w-full",disabled:i,children:i?"...":"Login"})]}),u.jsx("div",{className:"mt-3 text-sm",children:u.jsx(Et,{className:"link",to:"/reset-password",children:"Forgot password?"})}),u.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["No account? ",u.jsx(Et,{className:"link",to:"/signup",children:"Sign up"})]})]})}function xS(){const[t]=v0(),e=t.get("ref")||"",[n,s]=b.useState(""),[i,r]=b.useState(""),[l,o]=b.useState(""),[a,c]=b.useState(""),[h,d]=b.useState(!1),[f,v]=b.useState(""),{login:p}=Tt(),g=On();b.useEffect(()=>{},[e]);async function y(m){var x,w;m.preventDefault(),d(!0),v("");try{const S=await X().post("/api/auth/signup",{email:n,password:i,name:l,handle:a,ref:e});p(S.data.token,S.data.user),g("/dashboard")}catch(S){v(((w=(x=S==null?void 0:S.response)==null?void 0:x.data)==null?void 0:w.error)||"Signup failed")}finally{d(!1)}}return u.jsxs("div",{className:"max-w-md mx-auto card",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create account"}),e&&u.jsxs("div",{className:"text-xs text-white/60 mb-2",children:["Referred by code: ",u.jsx("span",{className:"text-brand",children:e})]}),f&&u.jsx("div",{className:"text-red-400 mb-2",children:f}),u.jsxs("form",{onSubmit:y,className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Email"}),u.jsx("input",{className:"input",value:n,onChange:m=>s(m.target.value),placeholder:"you@example.com"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Password"}),u.jsx("input",{type:"password",className:"input",value:i,onChange:m=>r(m.target.value),placeholder:""})]}),u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Display name"}),u.jsx("input",{className:"input",value:l,onChange:m=>o(m.target.value),placeholder:"Your name"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Handle (unique)"}),u.jsx("input",{className:"input",value:a,onChange:m=>c(m.target.value),placeholder:"e.g. satoshi"})]}),u.jsx("button",{className:"btn w-full",disabled:h,children:h?"...":"Create account"})]}),u.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Have an account? ",u.jsx(Et,{className:"link",to:"/login",children:"Sign in"})]})]})}function le(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function Xn(t,e){return t.width===e.width&&t.height===e.height}var yS=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,s={next:e};return this._observers.push(s),{unsubscribe:function(){n._observers=n._observers.filter(function(i){return i!==s})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function wS(t){return new yS(t)}var bS=function(){function t(e,n,s){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=le({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(r){return r},this._allowResizeObserver=(i=s==null?void 0:s.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return le({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=le(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;Xn(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var s=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(s,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,s=le(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Xn(this.bitmapSize,s)?null:s;n===null&&i===null||n!==null&&i!==null&&Xn(n,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(n,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(s,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}NS().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=Wd(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=wS(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var s=Wd(this._canvasElement);if(s!==null){var i=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:s.devicePixelRatio,r=this._canvasElement.getClientRects(),l=r[0]!==void 0?_S(r[0],i):le({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var s=n.find(function(l){return l.target===e._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var i=s.devicePixelContentBoxSize[0],r=le({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function SS(t,e){return new bS(t,e.transform,e.options)}function Wd(t){return t.ownerDocument.defaultView}function NS(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(s){return"devicePixelContentBoxSize"in s})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function _S(t,e){return le({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var kS=function(){function t(e,n,s){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function ts(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var s=t.bitmapSize;if(s.width===0||s.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new kS(i,n,s)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const ES={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},CS={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},jS={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},TS={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},MS={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},RS={color:"#26a69a",base:0},lg={color:"#2196f3"},og={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Hd,Mu;function ns(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function ag(t,e,n,s){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(n,e+i),t.lineTo(s,e+i),t.stroke()}function Mn(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function Be(t){if(t===void 0)throw new Error("Value is undefined");return t}function R(t){if(t===null)throw new Error("Value is null");return t}function Ns(t){return R(Be(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(Hd||(Hd={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Mu||(Mu={}));const qd={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ut(t){return t<0?0:t>255?255:Math.round(t)||0}function ug(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const PS=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,LS=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,zS=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,OS=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Xi(t){(t=t.toLowerCase())in qd&&(t=qd[t]);{const e=OS.exec(t)||zS.exec(t);if(e)return[ut(parseInt(e[1],10)),ut(parseInt(e[2],10)),ut(parseInt(e[3],10)),ug(e.length<5?1:parseFloat(e[4]))]}{const e=LS.exec(t);if(e)return[ut(parseInt(e[1],16)),ut(parseInt(e[2],16)),ut(parseInt(e[3],16)),1]}{const e=PS.exec(t);if(e)return[ut(17*parseInt(e[1],16)),ut(17*parseInt(e[2],16)),ut(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function cg(t){return .199*t[0]+.687*t[1]+.114*t[2]}function po(t){const e=Xi(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:cg(e)>160?"black":"white"}}class xe{constructor(){this.h=[]}l(e,n,s){const i={o:e,_:n,u:s===!0};this.h.push(i)}v(e){const n=this.h.findIndex(s=>e===s.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,s){const i=[...this.h];this.h=this.h.filter(r=>!r.u),i.forEach(r=>r.o(e,n,s))}M(){return this.h.length>0}S(){this.h=[]}}function jt(t,...e){for(const n of e)for(const s in n)n[s]!==void 0&&Object.prototype.hasOwnProperty.call(n,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof n[s]!="object"||t[s]===void 0||Array.isArray(n[s])?t[s]=n[s]:jt(t[s],n[s]));return t}function Bt(t){return typeof t=="number"&&isFinite(t)}function Qi(t){return typeof t=="number"&&t%1==0}function ar(t){return typeof t=="string"}function Pr(t){return typeof t=="boolean"}function Gt(t){const e=t;if(!e||typeof e!="object")return e;let n,s,i;for(s in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(s)&&(i=e[s],n[s]=i&&typeof i=="object"?Gt(i):i);return n}function $S(t){return t!==null}function Ji(t){return t===null?void 0:t}const Uc="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Vs(t,e,n){return e===void 0&&(e=Uc),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class AS{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),s=this.H();return e.P===n&&e.D===s||(e.P=n,e.D=s,e.R=Vs(n,s),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Wc{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,s){this.Y.forEach(i=>{i.X(e,n,s)})}}class Rt{X(e,n,s){e.useBitmapCoordinateSpace(i=>this.K(i,n,s))}}class FS extends Rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.G===null||this.G.tt===null)return;const i=this.G.tt,r=this.G,l=Math.max(1,Math.floor(n))%2/2,o=a=>{e.beginPath();for(let c=i.to-1;c>=i.from;--c){const h=r.it[c],d=Math.round(h.nt*n)+l,f=h.st*s,v=a*s+l;e.moveTo(d,f),e.arc(d,f,v,0,2*Math.PI)}e.fill()};r.et>0&&(e.fillStyle=r.rt,o(r.ht+r.et)),e.fillStyle=r.lt,o(r.ht)}}function DS(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const BS={from:0,to:1};class IS{constructor(e,n){this.ut=new Wc,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(DS),this.ct=this.dt.map(s=>{const i=new FS;return i.J(s),i}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),s=this.vt.xt(),i=this.F.St();n.forEach((r,l)=>{var o;const a=this.dt[l],c=r.kt(s);if(e||c===null||!r.yt())return void(a.tt=null);const h=R(r.Ct());a.lt=c.Tt,a.ht=c.ht,a.et=c.Pt,a.it[0]._t=c._t,a.it[0].st=r.Dt().Rt(c._t,h.Vt),a.rt=(o=c.Ot)!==null&&o!==void 0?o:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=s,a.it[0].nt=i.It(s),a.tt=BS})}}class VS extends Rt{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null)return;const r=this.zt.Lt.yt,l=this.zt.Et.yt;if(!r&&!l)return;const o=Math.round(this.zt.nt*s),a=Math.round(this.zt.st*i);e.lineCap="butt",r&&o>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*s),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,ns(e,this.zt.Lt.Nt),function(c,h,d,f){c.beginPath();const v=c.lineWidth%2?.5:0;c.moveTo(h+v,d),c.lineTo(h+v,f),c.stroke()}(e,o,0,n.height)),l&&a>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*i),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,ns(e,this.zt.Et.Nt),ag(e,a,0,n.width))}}class US{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new VS(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=R(this.jt.Ht()),s=n.$t().W().crosshair,i=this.Ft;if(s.mode===2)return i.Et.yt=!1,void(i.Lt.yt=!1);i.Et.yt=e&&this.jt.Ut(n),i.Lt.yt=e&&this.jt.qt(),i.Et.et=s.horzLine.width,i.Et.Nt=s.horzLine.style,i.Et.V=s.horzLine.color,i.Lt.et=s.vertLine.width,i.Lt.Nt=s.vertLine.style,i.Lt.V=s.vertLine.color,i.nt=this.jt.Yt(),i.st=this.jt.Zt()}}function WS(t,e,n,s,i,r){t.fillRect(e+r,n,s-2*r,r),t.fillRect(e+r,n+i-r,s-2*r,r),t.fillRect(e,n,r,i),t.fillRect(e+s-r,n,r,i)}function mo(t,e,n,s,i,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,n,s,i),t.restore()}function Kd(t,e,n,s,i,r){t.beginPath(),t.roundRect?t.roundRect(e,n,s,i,r):(t.lineTo(e+s-r[1],n),r[1]!==0&&t.arcTo(e+s,n,e+s,n+r[1],r[1]),t.lineTo(e+s,n+i-r[2]),r[2]!==0&&t.arcTo(e+s,n+i,e+s-r[2],n+i,r[2]),t.lineTo(e+r[3],n+i),r[3]!==0&&t.arcTo(e,n+i,e,n+i-r[3],r[3]),t.lineTo(e,n+r[0]),r[0]!==0&&t.arcTo(e,n,e+r[0],n,r[0]))}function Xd(t,e,n,s,i,r,l=0,o=[0,0,0,0],a=""){if(t.save(),!l||!a||a===r)return Kd(t,e,n,s,i,o),t.fillStyle=r,t.fill(),void t.restore();const c=l/2;var h;Kd(t,e+c,n+c,s-l,i-l,(h=-c,o.map(d=>d===0?d:d+h))),r!=="transparent"&&(t.fillStyle=r,t.fill()),a!=="transparent"&&(t.lineWidth=l,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function hg(t,e,n,s,i,r,l){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,i);o.addColorStop(0,r),o.addColorStop(1,l),t.fillStyle=o,t.fillRect(e,n,s,i),t.restore()}class Qd{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,s,i){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,l=this.Xt.t,o=e.useBitmapCoordinateSpace(a=>{const c=a.context;c.font=n.R;const h=this.Gt(a,n,s,i),d=h.Jt;return h.Qt?Xd(c,d.ti,d.ii,d.ni,d.si,l,d.ei,[d.ht,0,0,d.ht],l):Xd(c,d.ri,d.ii,d.ni,d.si,l,d.ei,[0,d.ht,d.ht,0],l),this.zt.hi&&(c.fillStyle=r,c.fillRect(d.ri,d.li,d.ai-d.ri,d.oi)),this.zt._i&&(c.fillStyle=n.O,c.fillRect(h.Qt?d.ui-d.ei:0,d.ii,d.ei,d.ci-d.ii)),h});e.useMediaCoordinateSpace(({context:a})=>{const c=o.di;a.font=n.R,a.textAlign=o.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,c.fi,(c.ii+c.ci)/2+c.pi)})}Gt(e,n,s,i){var r;const{context:l,bitmapSize:o,mediaSize:a,horizontalPixelRatio:c,verticalPixelRatio:h}=e,d=this.zt.hi||!this.zt.mi?n.T:0,f=this.zt.bi?n.C:0,v=n.L+this.Xt.wi,p=n.B+this.Xt.gi,g=n.A,y=n.I,m=this.zt.Kt,x=n.P,w=s.Mi(l,m),S=Math.ceil(s.xi(l,m)),C=x+v+p,T=n.C+g+y+S+d,M=Math.max(1,Math.floor(h));let j=Math.round(C*h);j%2!=M%2&&(j+=1);const D=f>0?Math.max(1,Math.floor(f*c)):0,A=Math.round(T*c),V=Math.round(d*c),Z=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,ee=Math.round(Z*h)-Math.floor(.5*h),K=Math.floor(ee+M/2-j/2),B=K+j,O=i==="right",G=O?a.width-f:f,N=O?o.width-D:D;let k,P,$;return O?(k=N-A,P=N-V,$=G-d-g-f):(k=N+A,P=N+V,$=G+d+g),{Qt:O,Jt:{ii:K,li:ee,ci:B,ni:A,si:j,ht:2*c,ei:D,ti:k,ri:N,ai:P,oi:M,ui:o.width},di:{ii:K/h,ci:B/h,fi:$,pi:w}}}}class go{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||Qd)(this.Ci,this.yi),this.Ri=new(e||Qd)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class HS extends go{constructor(e,n,s){super(),this.jt=e,this.Li=n,this.Ei=s}zi(e,n,s){if(e.yt=!1,this.jt.W().mode===2)return;const i=this.jt.W().horzLine;if(!i.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const l=po(i.labelBackgroundColor);s.t=l.t,e.V=l.i;const o=2/12*this.Li.P();s.wi=o,s.gi=o;const a=this.Ei(this.Li);s.ki=a.ki,e.Kt=this.Li.Fi(a._t,r),e.yt=!0}}const qS=/[1-9]/g;class dg{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const s=e.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.Wi.xi(f,R(this.zt).Kt,qS))));if(s<=0)return;const i=n.ji,r=s+2*i,l=r/2,o=this.zt.Hi;let a=this.zt.ki,c=Math.floor(a-l)+.5;c<0?(a+=Math.abs(0-c),c=Math.floor(a-l)+.5):c+r>o&&(a-=Math.abs(o-(c+r)),c=Math.floor(a-l)+.5);const h=c+r,d=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:v,verticalPixelRatio:p})=>{const g=R(this.zt);f.fillStyle=g.t;const y=Math.round(c*v),m=Math.round(0*p),x=Math.round(h*v),w=Math.round(d*p),S=Math.round(2*v);if(f.beginPath(),f.moveTo(y,m),f.lineTo(y,w-S),f.arcTo(y,w,y+S,w,S),f.lineTo(x-S,w),f.arcTo(x,w,x,w-S,S),f.lineTo(x,m),f.fill(),g.hi){const C=Math.round(g.ki*v),T=m,M=Math.round((T+n.T)*p);f.fillStyle=g.V;const j=Math.max(1,Math.floor(v)),D=Math.floor(.5*v);f.fillRect(C-D,T,j,M-T)}}),e.useMediaCoordinateSpace(({context:f})=>{const v=R(this.zt),p=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=v.V;const g=n.Wi.Mi(f,"Apr0");f.translate(c+i,p+g),f.fillText(v.Kt,0,0)})}}class KS{constructor(e,n,s){this.ft=!0,this.Wt=new dg,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const s=this.$i.St();if(s.Ni())return;e.Hi=s.Hi();const i=this.Ei();if(i===null)return;e.ki=i.ki;const r=s.Ui(this.vt.xt());e.Kt=s.qi(R(r)),e.yt=!0;const l=po(n.labelBackgroundColor);e.t=l.t,e.V=l.i,e.hi=s.W().ticksVisible}}class Hc{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var Ru;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(Ru||(Ru={}));class XS extends Hc{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new IS(e,this),this.fn=((i,r)=>l=>{const o=r(),a=i();if(l===R(this.tn).vn())return{_t:a,ki:o};{const c=R(l.Ct());return{_t:l.pn(o,c),ki:o}}})(()=>this.nn,()=>this.an);const s=((i,r)=>()=>{const l=this.$i.St().mn(i()),o=r();return l&&Number.isFinite(o)?{ot:l,ki:o}:null})(()=>this.sn,()=>this.Yt());this.bn=new KS(this,e,s),this.wn=new US(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,s){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,s)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const s=[];return this.tn===e&&s.push(this.Dn(this.rn,n,this.fn)),s}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,s){this.Bn(e,n,s)&&this.Vn()}Bn(e,n,s){const i=this.ln,r=this.an,l=this.nn,o=this.sn,a=this.tn,c=this.On(s);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=s;const h=c!==null?c.Ct():null;return c!==null&&h!==null?(this.nn=n,this.an=c.Rt(n,h)):(this.nn=NaN,this.an=NaN),i!==this.ln||r!==this.an||o!==this.sn||l!==this.nn||a!==this.tn}Tn(){const e=this.$i.wt().map(s=>s.In().An()).filter($S),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,s){let i=e.get(n);return i===void 0&&(i=new HS(this,n,s),e.set(n,i)),i}}function vo(t){return t==="left"||t==="right"}class Ce{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const s=function(i,r){return i===void 0?r:{Fn:Math.max(i.Fn,r.Fn),Wn:i.Wn||r.Wn}}(this.zn.get(e),n);this.zn.set(e,s)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,s)=>{this.Nn(s,n)})}static ss(){return new Ce(2)}static es(){return new Ce(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const Jd=".";function Yt(t,e){if(!Bt(t))return"n/a";if(!Qi(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class xo{constructor(e,n){if(n||(n=1),Bt(e)&&Qi(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let s=Math.floor(e),i="";const r=this._s!==void 0?this._s:NaN;if(n>1){let l=+(Math.round(e*n)-s*n).toFixed(this._s);l>=n&&(l-=n,s+=1),i=Jd+Yt(+l.toFixed(this._s)*this.rs,r)}else s=Math.round(s*n)/n,r>0&&(i=Jd+Yt(0,r));return s.toFixed(0)+i}}class fg extends xo{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class QS{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const s=Math.pow(10,this.us);return n=(e=Math.round(e*s)/s)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(i,r)=>r)}}function pg(t,e,n,s,i,r,l){if(e.length===0||s.from>=e.length||s.to<=0)return;const{context:o,horizontalPixelRatio:a,verticalPixelRatio:c}=t,h=e[s.from];let d=r(t,h),f=h;if(s.to-s.from<2){const v=i/2;o.beginPath();const p={nt:h.nt-v,st:h.st},g={nt:h.nt+v,st:h.st};o.moveTo(p.nt*a,p.st*c),o.lineTo(g.nt*a,g.st*c),l(t,d,p,g)}else{const v=(g,y)=>{l(t,d,f,y),o.beginPath(),d=g,f=y};let p=f;o.beginPath(),o.moveTo(h.nt*a,h.st*c);for(let g=s.from+1;g<s.to;++g){p=e[g];const y=r(t,p);switch(n){case 0:o.lineTo(p.nt*a,p.st*c);break;case 1:o.lineTo(p.nt*a,e[g-1].st*c),y!==d&&(v(y,p),o.lineTo(p.nt*a,e[g-1].st*c)),o.lineTo(p.nt*a,p.st*c);break;case 2:{const[m,x]=JS(e,g-1,g);o.bezierCurveTo(m.nt*a,m.st*c,x.nt*a,x.st*c,p.nt*a,p.st*c);break}}n!==1&&y!==d&&(v(y,p),o.moveTo(p.nt*a,p.st*c))}(f!==p||f===p&&n===1)&&l(t,d,f,p)}}const Gd=6;function ta(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function Yd(t,e){return{nt:t.nt/e,st:t.st/e}}function JS(t,e,n){const s=Math.max(0,e-1),i=Math.min(t.length-1,n+1);var r,l;return[(r=t[e],l=Yd(ta(t[n],t[s]),Gd),{nt:r.nt+l.nt,st:r.st+l.st}),ta(t[n],Yd(ta(t[i],t[e]),Gd))]}function GS(t,e,n,s,i){const{context:r,horizontalPixelRatio:l,verticalPixelRatio:o}=e;r.lineTo(i.nt*l,t*o),r.lineTo(s.nt*l,t*o),r.closePath(),r.fillStyle=n,r.fill()}class mg extends Rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:s,tt:i,ds:r,et:l,Nt:o,fs:a}=this.G,c=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(i===null)return;const h=e.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=l,ns(h,o),h.lineWidth=1,pg(e,s,a,i,r,this.bs.bind(this),GS.bind(null,c))}}function Pu(t,e,n){return Math.min(Math.max(t,e),n)}function Lr(t,e,n){return e-t<=n}function gg(t){const e=Math.ceil(t);return e%2==0?e-1:e}class qc{ws(e,n){const s=this.gs,{Ms:i,xs:r,Ss:l,ks:o,ys:a,vs:c}=n;if(this.Cs===void 0||s===void 0||s.Ms!==i||s.xs!==r||s.Ss!==l||s.ks!==o||s.vs!==c||s.ys!==a){const h=e.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,i),c!=null){const d=Pu(c*e.verticalPixelRatio/a,0,1);h.addColorStop(d,r),h.addColorStop(d,l)}h.addColorStop(1,o),this.Cs=h,this.gs=n}return this.Cs}}class YS extends mg{constructor(){super(...arguments),this.Ts=new qc}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function ZS(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class vg extends Rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:s,ds:i,fs:r,et:l,Nt:o,Ds:a}=this.G;if(s===null)return;const c=e.context;c.lineCap="butt",c.lineWidth=l*e.verticalPixelRatio,ns(c,o),c.lineJoin="round";const h=this.Vs.bind(this);r!==void 0&&pg(e,n,r,s,i,h,ZS),a&&function(d,f,v,p,g){const{horizontalPixelRatio:y,verticalPixelRatio:m,context:x}=d;let w=null;const S=Math.max(1,Math.floor(y))%2/2,C=v*m+S;for(let T=p.to-1;T>=p.from;--T){const M=f[T];if(M){const j=g(d,M);j!==w&&(x.beginPath(),w!==null&&x.fill(),x.fillStyle=j,w=j);const D=Math.round(M.nt*y)+S,A=M.st*m;x.moveTo(D,A),x.arc(D,A,C,0,2*Math.PI)}}x.fill()}(e,n,a,s,h)}}class xg extends vg{Vs(e,n){return n.lt}}function yg(t,e,n,s,i=0,r=e.length){let l=r-i;for(;0<l;){const o=l>>1,a=i+o;s(e[a],n)===t?(i=a+1,l-=o+1):l=o}return i}const ur=yg.bind(null,!0),wg=yg.bind(null,!1);function eN(t,e){return t.ot<e}function tN(t,e){return e<t.ot}function bg(t,e,n){const s=e.Os(),i=e.ui(),r=ur(t,s,eN),l=wg(t,i,tN);if(!n)return{from:r,to:l};let o=r,a=l;return r>0&&r<t.length&&t[r].ot>=s&&(o=r-1),l>0&&l<t.length&&t[l-1].ot<=i&&(a=l+1),{from:o,to:a}}class Kc{constructor(e,n,s){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=s}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const s=n.Xs();if(s===null||this.Es.In().Ks()===0)return;const i=this.Es.Ct();i!==null&&(this.Ls=bg(this.zs,s,this.Fs),this.Gs(e,n,i.Vt),this.Js())}}class yo extends Kc{constructor(e,n){super(e,n,!0)}Gs(e,n,s){n.Qs(this.zs,Ji(this.Ls)),e.te(this.zs,s,Ji(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const s=n.Vt[3];return this.se(n.ee,s,e)})}}class nN extends yo{constructor(e,n){super(e,n),this.js=new Wc,this.re=new YS,this.he=new xg,this.js.Z([this.re,this.he])}se(e,n,s){return Object.assign(Object.assign({},this.ie(e,n)),s.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class sN extends Rt{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let i=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let l=this.zt.tt.from;l<this.zt.tt.to;++l){const o=this.zt.In[l];i!==o.ce&&(e.fillStyle=o.ce,i=o.ce);const a=Math.floor(.5*this.oe),c=Math.round(o.nt*n),h=c-a,d=this.oe,f=h+d-1,v=Math.min(o.de,o.fe),p=Math.max(o.de,o.fe),g=Math.round(v*s)-a,y=Math.round(p*s)+a,m=Math.max(y-g,this.oe);e.fillRect(h,g,d,m);const x=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const T=c-x;let M=Math.max(g,Math.round(o.pe*s)-a),j=M+d-1;j>g+m-1&&(j=g+m-1,M=j-d+1),e.fillRect(T,M,h-T,j-M+1)}const w=c+x;let S=Math.max(g,Math.round(o.me*s)-a),C=S+d-1;C>g+m-1&&(C=g+m-1,S=C-d+1),e.fillRect(f+1,S,w-f,C-S+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(s,i){return Math.floor(.3*s*i)}(R(this.zt).le,e)))}}class Sg extends Kc{constructor(e,n){super(e,n,!1)}Gs(e,n,s){n.Qs(this.zs,Ji(this.Ls)),e.be(this.zs,s,Ji(this.Ls))}we(e,n,s){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class iN extends Sg{constructor(){super(...arguments),this.js=new sN}se(e,n,s){return Object.assign(Object.assign({},this.we(e,n,s)),s.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class rN extends mg{constructor(){super(...arguments),this.Ts=new qc}bs(e,n){const s=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:s.vs})}}class lN extends vg{constructor(){super(...arguments),this.Pe=new qc}Vs(e,n){const s=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:s.vs})}}class oN extends yo{constructor(e,n){super(e,n),this.js=new Wc,this.Ve=new rN,this.Oe=new lN,this.js.Z([this.Ve,this.Oe])}se(e,n,s){return Object.assign(Object.assign({},this.ie(e,n)),s.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),s=this.Es.Dt().Rt(n.baseValue.price,e.Vt),i=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:s,ps:!1,tt:this.Ls,ds:i}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:s,tt:this.Ls,ds:i})}}class aN extends Rt{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(r,l){if(r>=2.5&&r<=4)return Math.floor(3*l);const o=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*o*l),c=Math.floor(r*l),h=Math.min(a,c);return Math.max(Math.floor(l),h)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const s=this.zt.In;this.zt.Be&&this.Ae(e,s,this.zt.tt),this.zt._i&&this.Ie(e,s,this.zt.tt);const i=this.ze(n);(!this.zt._i||this.ae>2*i)&&this.Le(e,s,this.zt.tt)}Ae(e,n,s){if(this.zt===null)return;const{context:i,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const c=Math.floor(.5*a);let h=null;for(let d=s.from;d<s.to;d++){const f=n[d];f.Ee!==o&&(i.fillStyle=f.Ee,o=f.Ee);const v=Math.round(Math.min(f.pe,f.me)*l),p=Math.round(Math.max(f.pe,f.me)*l),g=Math.round(f.de*l),y=Math.round(f.fe*l);let m=Math.round(r*f.nt)-c;const x=m+a-1;h!==null&&(m=Math.max(h+1,m),m=Math.min(m,x));const w=x-m+1;i.fillRect(m,g,w,v-g),i.fillRect(m,p+1,w,y-p),h=x}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const s=Math.max(Math.floor(e),n);return this.ae<=2*s?Math.max(Math.floor(e),Math.floor(1*e)):s}Ie(e,n,s){if(this.zt===null)return;const{context:i,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="";const a=this.ze(r);let c=null;for(let h=s.from;h<s.to;h++){const d=n[h];d.Ne!==o&&(i.fillStyle=d.Ne,o=d.Ne);let f=Math.round(d.nt*r)-Math.floor(.5*this.ae);const v=f+this.ae-1,p=Math.round(Math.min(d.pe,d.me)*l),g=Math.round(Math.max(d.pe,d.me)*l);if(c!==null&&(f=Math.max(c+1,f),f=Math.min(f,v)),this.zt.le*r>2*a)WS(i,f,p,v-f+1,g-p+1,a);else{const y=v-f+1;i.fillRect(f,p,y,g-p+1)}c=v}}Le(e,n,s){if(this.zt===null)return;const{context:i,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="";const a=this.ze(r);for(let c=s.from;c<s.to;c++){const h=n[c];let d=Math.round(Math.min(h.pe,h.me)*l),f=Math.round(Math.max(h.pe,h.me)*l),v=Math.round(h.nt*r)-Math.floor(.5*this.ae),p=v+this.ae-1;if(h.ce!==o){const g=h.ce;i.fillStyle=g,o=g}this.zt._i&&(v+=a,d+=a,p-=a,f-=a),d>f||i.fillRect(v,d,p-v+1,f-d+1)}}}class uN extends Sg{constructor(){super(...arguments),this.js=new aN}se(e,n,s){return Object.assign(Object.assign({},this.we(e,n,s)),s.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class cN{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,s){this.Fe.draw(e,this.Li,n,s)}}class na extends Kc{constructor(e,n,s){super(e,n,!1),this.wn=s,this.js=new cN(this.wn.renderer(),i=>{const r=e.Ct();return r===null?null:e.Dt().Rt(i,r.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,Ji(this.Ls))}Js(){this.wn.update({bars:this.zs.map(hN),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function hN(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class dN extends Rt{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const i=Math.max(1,Math.floor(s)),r=Math.round(this.zt.Ye*s)-Math.floor(i/2),l=r+i;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const a=this.zt.it[o],c=this.Ue[o-this.zt.tt.from],h=Math.round(a.st*s);let d,f;e.fillStyle=a.ce,h<=r?(d=h,f=l):(d=r,f=h-Math.floor(i/2)+i),e.fillRect(c.Os,d,c.ui-c.Os+1,f-d)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),s=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.zt.it[r],o=Math.round(l.nt*e);let a,c;if(s%2){const h=(s-1)/2;a=o-h,c=o+h}else{const h=s/2;a=o-h,c=o+h-1}this.Ue[r-this.zt.tt.from]={Os:a,ui:c,Ze:o,Xe:l.nt*e,ot:l.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from],o=this.Ue[r-this.zt.tt.from-1];l.ot===o.ot+1&&l.Os-o.ui!==n+1&&(o.Ze>o.Xe?o.ui=l.Os-n-1:l.Os=o.ui+n+1)}let i=Math.ceil(this.zt.le*e);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui<l.Os&&(l.ui=l.Os);const o=l.ui-l.Os+1;i=Math.min(o,i)}if(n>0&&i<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui-l.Os+1>i&&(l.Ze>l.Xe?l.ui-=1:l.Os+=1)}}}class fN extends yo{constructor(){super(...arguments),this.js=new dN}se(e,n,s){return Object.assign(Object.assign({},this.ie(e,n)),s.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,R(this.Es.Ct()).Vt)};this.js.J(e)}}class pN extends yo{constructor(){super(...arguments),this.js=new xg}se(e,n,s){return Object.assign(Object.assign({},this.ie(e,n)),s.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const mN=/[2-9]/g;class Gi{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,s){return this.sr(e,n,s).width}Mi(e,n,s){const i=this.sr(e,n,s);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}sr(e,n,s){const i=s||mN,r=String(n).replace(i,"0");if(this.tr.has(r))return Be(this.tr.get(r)).er;if(this.Ke===this.ir){const o=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(o),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const l=e.measureText(r);return e.restore(),l.width===0&&n.length||(this.tr.set(r,{er:l,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),l}}class gN{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,s){this.hr=e,this.k=n,this.lr=s}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class Ng{constructor(e,n,s){this.ur=e,this.ar=new Gi(50),this.cr=n,this.F=s,this.j=-1,this.Wt=new gN(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const s=e.mr(n);if(s==="overlay")return null;const i=this.F.br();return i.P!==this.j&&(this.j=i.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),i,s),this.Wt}}class vN extends Rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var s;if(!(!((s=this.zt)===null||s===void 0)&&s.yt))return null;const{st:i,et:r,gr:l}=this.zt;return n>=i-r-7&&n<=i+r+7?{Mr:this.zt,gr:l}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*i);r<0||r>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*s),ns(e,this.zt.Nt),ag(e,r,0,n.width))}}class Xc{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new vN,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class xN extends Xc{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const s=this.Es.W();if(!s.baseLineVisible||!this.Es.yt())return;const i=this.Es.Ct();i!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(i.Vt,i.Vt),this.Sr.V=s.baseLineColor,this.Sr.et=s.baseLineWidth,this.Sr.Nt=s.baseLineStyle)}}class yN extends Rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:s}){const i=this.zt;if(i===null)return;const r=Math.max(1,Math.floor(n)),l=r%2/2,o=Math.round(i.Xe.x*n)+l,a=i.Xe.y*s;e.fillStyle=i.Tr,e.beginPath();const c=Math.max(2,1.5*i.Pr)*n;e.arc(o,a,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.Rr,e.beginPath(),e.arc(o,a,i.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=i.Dr,e.beginPath(),e.arc(o,a,i.ht*n+r/2,0,2*Math.PI,!1),e.stroke()}}const wN=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Zd(t,e,n,s){return function(i,r){if(i==="transparent")return i;const l=Xi(i),o=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${r*o})`}(t,n+(s-n)*e)}function ef(t,e){const n=t%2600/2600;let s;for(const a of wN)if(n>=a.Vr&&n<=a.Or){s=a;break}Mn(s!==void 0,"Last price animation internal logic error");const i=(n-s.Vr)/(s.Or-s.Vr);return{Rr:Zd(e,i,s.Ir,s.zr),Dr:Zd(e,i,s.Lr,s.Er),ht:(r=i,l=s.Br,o=s.Ar,l+(o-l)*r)};var r,l,o}class bN{constructor(e){this.Wt=new yN,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),s=this.jr.Ct();if(n===null||s===null)return;const i=this.jr.Zr(!0);if(i.Xr||!n.Kr(i.ee))return;const r={x:e.It(i.ee),y:this.jr.Dt().Rt(i._t,s.Vt)},l=i.V,o=this.jr.W().lineWidth,a=ef(this.Gr(),l);this.Wt.J({Tr:l,Pr:o,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const e=this.Wt.$e();if(e!==null){const n=ef(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function ki(t,e){return gg(Math.min(Math.max(t,12),30)*e)}function Yi(t,e){switch(t){case"arrowDown":case"arrowUp":return ki(e,1);case"circle":return ki(e,.8);case"square":return ki(e,.7)}}function _g(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(ki(t,1))}function tf(t){return Math.max(ki(t,.1),3)}function nf(t,e,n){return e?t:n?Math.ceil(t/2):0}function kg(t,e,n,s,i){const r=Yi("square",n),l=(r-1)/2,o=t-l,a=e-l;return s>=o&&s<=o+r&&i>=a&&i<=a+r}function sf(t,e,n,s){const i=(Yi("arrowUp",s)-1)/2*n.Jr,r=(gg(s/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st-i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st+i),e.lineTo(n.nt-r,n.st+i),e.lineTo(n.nt-r,n.st)):(e.moveTo(n.nt-i,n.st),e.lineTo(n.nt,n.st+i),e.lineTo(n.nt+i,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st-i),e.lineTo(n.nt-r,n.st-i),e.lineTo(n.nt-r,n.st)),e.fill()}function SN(t,e,n,s,i,r){return kg(e,n,s,i,r)}class NN extends Rt{constructor(){super(...arguments),this.zt=null,this.ar=new Gi,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=Vs(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const i=this.zt.it[s];if(kN(i,e,n))return{Mr:i.th,gr:i.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:s},i,r){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const o=this.zt.it[l];o.Kt!==void 0&&(o.Kt.Hi=this.ar.xi(e,o.Kt.ih),o.Kt.At=this.j,o.Kt.nt=o.nt-o.Kt.Hi/2),_N(o,e,n,s)}}}}function _N(t,e,n,s){e.fillStyle=t.V,t.Kt!==void 0&&function(i,r,l,o,a,c){i.save(),i.scale(a,c),i.fillText(r,l,o),i.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,s),function(i,r,l){if(i.Ks!==0){switch(i.nh){case"arrowDown":return void sf(!1,r,l,i.Ks);case"arrowUp":return void sf(!0,r,l,i.Ks);case"circle":return void function(o,a,c){const h=(Yi("circle",c)-1)/2;o.beginPath(),o.arc(a.nt,a.st,h*a.Jr,0,2*Math.PI,!1),o.fill()}(r,l,i.Ks);case"square":return void function(o,a,c){const h=Yi("square",c),d=(h-1)*a.Jr/2,f=a.nt-d,v=a.st-d;o.fillRect(f,v,h*a.Jr,h*a.Jr)}(r,l,i.Ks)}i.nh}}(t,e,function(i,r,l){const o=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(i.nt*r)+o,st:i.st*l,Jr:r}}(t,n,s))}function kN(t,e,n){return!(t.Kt===void 0||!function(s,i,r,l,o,a){const c=l/2;return o>=s&&o<=s+r&&a>=i-c&&a<=i+c}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(s,i,r){if(s.Ks===0)return!1;switch(s.nh){case"arrowDown":case"arrowUp":return SN(0,s.nt,s.st,s.Ks,i,r);case"circle":return function(l,o,a,c,h){const d=2+Yi("circle",a)/2,f=l-c,v=o-h;return Math.sqrt(f*f+v*v)<=d}(s.nt,s.st,s.Ks,i,r);case"square":return kg(s.nt,s.st,s.Ks,i,r)}}(t,e,n)}function EN(t,e,n,s,i,r,l,o,a){const c=Bt(n)?n:n.Se,h=Bt(n)?n:n.Me,d=Bt(n)?n:n.xe,f=Bt(e.size)?Math.max(e.size,0):1,v=_g(o.le())*f,p=v/2;switch(t.Ks=v,e.position){case"inBar":return t.st=l.Rt(c,a),void(t.Kt!==void 0&&(t.Kt.st=t.st+p+r+.6*i));case"aboveBar":return t.st=l.Rt(h,a)-p-s.sh,t.Kt!==void 0&&(t.Kt.st=t.st-p-.6*i,s.sh+=1.2*i),void(s.sh+=v+r);case"belowBar":return t.st=l.Rt(d,a)+p+s.eh,t.Kt!==void 0&&(t.Kt.st=t.st+p+r+.6*i,s.eh+=1.2*i),void(s.eh+=v+r)}e.position}class CN{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new NN,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=tf(e),s=1.5*_g(e)+2*n,i=this.fh();this.ah={above:nf(s,i.aboveBar,i.inBar),below:nf(s,i.belowBar,i.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),s=this.jr.dh();this.rh&&(this.zt.it=s.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const i=this.$i.W().layout;this.zt.tt=null;const r=n.Xs();if(r===null)return;const l=this.jr.Ct();if(l===null||this.zt.it.length===0)return;let o=NaN;const a=tf(n.le()),c={sh:a,eh:a};this.zt.tt=bg(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const d=s[h];d.time!==o&&(c.sh=a,c.eh=a,o=d.time);const f=this.zt.it[h];f.nt=n.It(d.time),d.text!==void 0&&d.text.length>0&&(f.Kt={ih:d.text,nt:0,st:0,Hi:0,At:0});const v=this.jr.ph(d.time);v!==null&&EN(f,d,v,c,i.fontSize,a,e,n,l.Vt)}this.ft=!1}}class jN extends Xc{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const s=this.Es.Zr(n.priceLineSource===0);s.Xr||(e.yt=!0,e.st=s.ki,e.V=this.Es.mh(s.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class TN extends go{constructor(e){super(),this.jt=e}zi(e,n,s){e.yt=!1,n.yt=!1;const i=this.jt;if(!i.yt())return;const r=i.W(),l=r.lastValueVisible,o=i.bh()!=="",a=r.seriesLastValueMode===0,c=i.Zr(!1);if(c.Xr)return;l&&(e.Kt=this.wh(c,l,a),e.yt=e.Kt.length!==0),(o||a)&&(n.Kt=this.gh(c,l,o,a),n.yt=n.Kt.length>0);const h=i.mh(c.V),d=po(h);s.t=d.t,s.ki=c.ki,n.Ot=i.$t().Bt(c.ki/i.Dt().At()),e.Ot=h,e.V=d.i,n.V=d.i}gh(e,n,s,i){let r="";const l=this.jt.bh();return s&&l.length!==0&&(r+=`${l} `),n&&i&&(r+=this.jt.Dt().Mh()?e.xh:e.Sh),r.trim()}wh(e,n,s){return n?s?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function rf(t,e,n,s){const i=Number.isFinite(e),r=Number.isFinite(n);return i&&r?t(e,n):i||r?i?e:n:s}class Ye{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new Ye(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new Ye(rf(Math.min,this.Ph(),e.Ph(),-1/0),rf(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!Bt(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let s=this.yh-n,i=this.kh-n;s*=e,i*=e,this.yh=n+s,this.kh=n+i}Oh(e){Bt(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new Ye(e.minValue,e.maxValue)}}class Al{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new Al(Ye.Ah(e.priceRange),e.margins)}}class MN extends Xc{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const s=this.Nh.Fh();s!==null&&(e.yt=!0,e.st=s,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class RN extends go{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,s){e.yt=!1,n.yt=!1;const i=this.Nh.W(),r=i.axisLabelVisible,l=i.title!=="",o=this.jr;if(!r||!o.yt())return;const a=this.Nh.Fh();if(a===null)return;l&&(n.Kt=i.title,n.yt=!0),n.Ot=o.$t().Bt(a/o.Dt().At()),e.Kt=this.Wh(i.price),e.yt=!0;const c=po(i.axisLabelColor||i.color);s.t=c.t;const h=i.axisLabelTextColor||c.i;e.V=h,n.V=h,s.ki=a}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class PN{constructor(e,n){this.jr=e,this.cn=n,this.jh=new MN(e,this),this.ur=new RN(e,this),this.Hh=new Ng(this.ur,e,e.$t())}$h(e){jt(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const s=e.Ct();return s===null?null:n.Rt(this.cn.price,s.Vt)}}class LN extends Hc{constructor(e){super(),this.$i=e}$t(){return this.$i}}const zN={Bar:(t,e,n,s)=>{var i;const r=e.upColor,l=e.downColor,o=R(t(n,s)),a=Ns(o.Vt[0])<=Ns(o.Vt[3]);return{ce:(i=o.V)!==null&&i!==void 0?i:a?r:l}},Candlestick:(t,e,n,s)=>{var i,r,l;const o=e.upColor,a=e.downColor,c=e.borderUpColor,h=e.borderDownColor,d=e.wickUpColor,f=e.wickDownColor,v=R(t(n,s)),p=Ns(v.Vt[0])<=Ns(v.Vt[3]);return{ce:(i=v.V)!==null&&i!==void 0?i:p?o:a,Ne:(r=v.Ot)!==null&&r!==void 0?r:p?c:h,Ee:(l=v.Xh)!==null&&l!==void 0?l:p?d:f}},Custom:(t,e,n,s)=>{var i;return{ce:(i=R(t(n,s)).V)!==null&&i!==void 0?i:e.color}},Area:(t,e,n,s)=>{var i,r,l,o;const a=R(t(n,s));return{ce:(i=a.lt)!==null&&i!==void 0?i:e.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:e.lineColor,Ps:(l=a.Ps)!==null&&l!==void 0?l:e.topColor,Rs:(o=a.Rs)!==null&&o!==void 0?o:e.bottomColor}},Baseline:(t,e,n,s)=>{var i,r,l,o,a,c;const h=R(t(n,s));return{ce:h.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(i=h.Re)!==null&&i!==void 0?i:e.topLineColor,De:(r=h.De)!==null&&r!==void 0?r:e.bottomLineColor,ke:(l=h.ke)!==null&&l!==void 0?l:e.topFillColor1,ye:(o=h.ye)!==null&&o!==void 0?o:e.topFillColor2,Ce:(a=h.Ce)!==null&&a!==void 0?a:e.bottomFillColor1,Te:(c=h.Te)!==null&&c!==void 0?c:e.bottomFillColor2}},Line:(t,e,n,s)=>{var i,r;const l=R(t(n,s));return{ce:(i=l.V)!==null&&i!==void 0?i:e.color,lt:(r=l.V)!==null&&r!==void 0?r:e.color}},Histogram:(t,e,n,s)=>{var i;return{ce:(i=R(t(n,s)).V)!==null&&i!==void 0?i:e.color}}};class ON{constructor(e){this.Kh=(n,s)=>s!==void 0?s.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=zN[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var lf;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(lf||(lf={}));const cn=30;class $N{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const s=this.hl(e,n);return s===null?null:Object.assign(Object.assign({},this.al(s)),{ee:this.rl(s)})}ne(){return this.tl}ol(e,n,s){if(this.Ni())return null;let i=null;for(const r of s)i=zr(i,this._l(e,n,r));return i}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const s=this.ul(e);if(s===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return s}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return ur(this.tl,e,(n,s)=>n.ee<s)}vl(e){return wg(this.tl,e,(n,s)=>n.ee>s)}pl(e,n,s){let i=null;for(let r=e;r<n;r++){const l=this.tl[r].Vt[s];Number.isNaN(l)||(i===null?i={ml:l,bl:l}:(l<i.ml&&(i.ml=l),l>i.bl&&(i.bl=l)))}return i}_l(e,n,s){if(this.Ni())return null;let i=null;const r=R(this.el()),l=R(this.An()),o=Math.max(e,r),a=Math.min(n,l),c=Math.ceil(o/cn)*cn,h=Math.max(c,Math.floor(a/cn)*cn);{const f=this.fl(o),v=this.vl(Math.min(a,c,n));i=zr(i,this.pl(f,v,s))}let d=this.il.get(s);d===void 0&&(d=new Map,this.il.set(s,d));for(let f=Math.max(c+1,o);f<h;f+=cn){const v=Math.floor(f/cn);let p=d.get(v);if(p===void 0){const g=this.fl(v*cn),y=this.vl((v+1)*cn-1);p=this.pl(g,y,s),d.set(v,p)}i=zr(i,p)}{const f=this.fl(h),v=this.vl(a);i=zr(i,this.pl(f,v,s))}return i}}function zr(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class AN{constructor(e){this.wl=e}X(e,n,s){this.wl.draw(e)}gl(e,n,s){var i,r;(r=(i=this.wl).drawBackground)===null||r===void 0||r.call(i,e)}}class sa{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const s=new AN(n);return this.tr={Ml:n,xl:s},s}Sl(){var e,n,s;return(s=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&s!==void 0?s:"normal"}}function Eg(t){var e,n,s,i,r;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(s=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||s===void 0||s,hi:(r=(i=t.tickVisible)===null||i===void 0?void 0:i.call(t))===null||r===void 0||r}}class FN{constructor(e,n){this.Wt=new dg,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},Eg(this.kl))),this.Wt}}class DN extends go{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,s){const i=Eg(this.kl);s.t=i.t,e.V=i.V;const r=2/12*this.Li.P();s.wi=r,s.gi=r,s.ki=i.ki,s.Si=i.Si,e.Kt=i.Kt,e.yt=i.yt,e.hi=i.hi}}class BN{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,s,i;const r=(s=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&s!==void 0?s:[];if(((i=this.Cl)===null||i===void 0?void 0:i.Ml)===r)return this.Cl.xl;const l=r.map(o=>new sa(o));return this.Cl={Ml:r,xl:l},l}Qi(){var e,n,s,i;const r=(s=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&s!==void 0?s:[];if(((i=this.Tl)===null||i===void 0?void 0:i.Ml)===r)return this.Tl.xl;const l=this.jr.$t().St(),o=r.map(a=>new FN(a,l));return this.Tl={Ml:r,xl:o},o}Rn(){var e,n,s,i;const r=(s=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&s!==void 0?s:[];if(((i=this.Pl)===null||i===void 0?void 0:i.Ml)===r)return this.Pl.xl;const l=this.jr.Dt(),o=r.map(a=>new DN(a,l));return this.Pl={Ml:r,xl:o},o}Bl(){var e,n,s,i;const r=(s=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&s!==void 0?s:[];if(((i=this.Rl)===null||i===void 0?void 0:i.Ml)===r)return this.Rl.xl;const l=r.map(o=>new sa(o));return this.Rl={Ml:r,xl:l},l}Al(){var e,n,s,i;const r=(s=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&s!==void 0?s:[];if(((i=this.Dl)===null||i===void 0?void 0:i.Ml)===r)return this.Dl.xl;const l=r.map(o=>new sa(o));return this.Dl={Ml:r,xl:l},l}Il(e,n){var s,i,r;return(r=(i=(s=this.Vl).autoscaleInfo)===null||i===void 0?void 0:i.call(s,e,n))!==null&&r!==void 0?r:null}wr(e,n){var s,i,r;return(r=(i=(s=this.Vl).hitTest)===null||i===void 0?void 0:i.call(s,e,n))!==null&&r!==void 0?r:null}}function ia(t,e,n,s){t.forEach(i=>{e(i).forEach(r=>{r.Sl()===n&&s.push(r)})})}function ra(t){return t.Pn()}function IN(t){return t.Bl()}function VN(t){return t.Al()}class Qc extends LN{constructor(e,n,s,i,r){super(e),this.zt=new $N,this.jh=new jN(this),this.zl=[],this.Ll=new xN(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=s;const l=new TN(this);this.rn=[l],this.Hh=new Ng(l,this,e),s!=="Area"&&s!=="Line"&&s!=="Baseline"||(this.El=new bN(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},s=this.Dt();if(this.$t().St().Ni()||s.Ni()||this.zt.Ni())return n;const i=this.$t().St().Xs(),r=this.Ct();if(i===null||r===null)return n;let l,o;if(e){const d=this.zt.sl();if(d===null)return n;l=d,o=d.ee}else{const d=this.zt.ll(i.ui(),-1);if(d===null||(l=this.zt.Gh(d.ee),l===null))return n;o=d.ee}const a=l.Vt[3],c=this.Us().$s(o,{Vt:l}),h=s.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:s.Fi(a,r.Vt),xh:s.Yl(a),Sh:s.Zl(a,r.Vt),V:c.ce,ki:h,ee:o}}Us(){return this.Nl!==null||(this.Nl=new ON(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),jt(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const s=this.$t().dr(this);this.$t().ia(s),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new PN(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];ia(this.Hl,ra,"top",n);const s=this.El;return s!==null&&s.yt()&&(this.jl===null&&s.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),s.Ur(),n.unshift(s)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(s=>s.qh());return e.push(...n),ia(this.Hl,ra,"normal",e),e}ua(){return this.ca(ra,"bottom")}da(e){return this.ca(IN,e)}fa(e){return this.ca(VN,e)}va(e,n){return this.Hl.map(s=>s.wr(e,n)).filter(s=>s!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const s=[...this.rn];for(const i of this.zl)s.push(i.Zh());return this.Hl.forEach(i=>{s.push(...i.Rn())}),s}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const s=this.cn.autoscaleInfoProvider(()=>{const i=this.pa(e,n);return i===null?null:i.Bh()});return Al.Ah(s)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return R(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new BN(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof na)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof na)return e=>this.wn.je(e)}_a(){return!vo(this.Dt().Pa())}pa(e,n){if(!Qi(e)||!Qi(n)||this.zt.Ni())return null;const s=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],i=this.zt.ol(e,n,s);let r=i!==null?new Ye(i.ml,i.bl):null;if(this.Qh()==="Histogram"){const o=this.cn.base,a=new Ye(o,o);r=r!==null?r.ts(a):a}let l=this.dn.uh();return this.Hl.forEach(o=>{const a=o.Il(e,n);if(a!=null&&a.priceRange){const v=new Ye(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(v):v}var c,h,d,f;a!=null&&a.margins&&(c=l,h=a.margins,l={above:Math.max((d=c==null?void 0:c.above)!==null&&d!==void 0?d:0,h.above),below:Math.max((f=c==null?void 0:c.below)!==null&&f!==void 0?f:0,h.below)})}),new Al(r,l)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new QS(this.cn.priceFormat.precision);break;case"percent":this.wa=new fg(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new xo(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=R(this.zt.el());this.Wl=this.Fl.map((s,i)=>{const r=R(e.Va(s.time,!0)),l=r<n?1:-1;return{time:R(this.zt.ll(r,l)).ee,position:s.position,shape:s.shape,color:s.color,id:s.id,th:i,text:s.text,size:s.size,originalTime:s.originalTime}})}ql(e){switch(this.dn=new CN(this,this.$t()),this.$l){case"Bar":this.wn=new iN(this,this.$t());break;case"Candlestick":this.wn=new uN(this,this.$t());break;case"Line":this.wn=new pN(this,this.$t());break;case"Custom":this.wn=new na(this,this.$t(),Be(e));break;case"Area":this.wn=new nN(this,this.$t());break;case"Baseline":this.wn=new oN(this,this.$t());break;case"Histogram":this.wn=new fN(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const s=[];return ia(this.Hl,e,n,s),s}}class UN{constructor(e){this.cn=e}Oa(e,n,s){let i=e;if(this.cn.mode===0)return i;const r=s.vn(),l=r.Ct();if(l===null)return i;const o=r.Rt(e,l),a=s.Ba().filter(h=>h instanceof Qc).reduce((h,d)=>{if(s.vr(d)||!d.yt())return h;const f=d.Dt(),v=d.In();if(f.Ni()||!v.Kr(n))return h;const p=v.Gh(n);if(p===null)return h;const g=Ns(d.Ct());return h.concat([f.Rt(p.Vt[3],g.Vt)])},[]);if(a.length===0)return i;a.sort((h,d)=>Math.abs(h-o)-Math.abs(d-o));const c=a[0];return i=r.pn(c,l),i}}class WN extends Rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:i}){if(this.zt===null)return;const r=Math.max(1,Math.floor(s));e.lineWidth=r,function(l,o){l.save(),l.lineWidth%2&&l.translate(.5,.5),o(),l.restore()}(e,()=>{const l=R(this.zt);if(l.Aa){e.strokeStyle=l.Ia,ns(e,l.za),e.beginPath();for(const o of l.La){const a=Math.round(o.Ea*s);e.moveTo(a,-r),e.lineTo(a,n.height+r)}e.stroke()}if(l.Na){e.strokeStyle=l.Fa,ns(e,l.Wa),e.beginPath();for(const o of l.ja){const a=Math.round(o.Ea*i);e.moveTo(-r,a),e.lineTo(n.width+r,a)}e.stroke()}})}}class HN{constructor(e){this.Wt=new WN,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(s=>({Ea:s.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class qN{constructor(e){this.wn=new HN(e)}qh(){return this.wn}}const la={$a:4,Ua:1e-4};function _s(t,e){const n=100*(t-e)/e;return e<0?-n:n}function KN(t,e){const n=_s(t.Ph(),e),s=_s(t.Rh(),e);return new Ye(n,s)}function Ei(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function XN(t,e){const n=Ei(t.Ph(),e),s=Ei(t.Rh(),e);return new Ye(n,s)}function Fl(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const s=Math.log10(n+e.Ua)+e.$a;return t<0?-s:s}function Ci(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const s=Math.pow(10,n-e.$a)-e.Ua;return t<0?-s:s}function ci(t,e){if(t===null)return null;const n=Fl(t.Ph(),e),s=Fl(t.Rh(),e);return new Ye(n,s)}function Or(t,e){if(t===null)return null;const n=Ci(t.Ph(),e),s=Ci(t.Rh(),e);return new Ye(n,s)}function oa(t){if(t===null)return la;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return la;const n=Math.ceil(Math.abs(Math.log10(e))),s=la.$a+n;return{$a:s,Ua:1/Math.pow(10,s)}}class aa{constructor(e,n){if(this.qa=e,this.Ya=n,function(s){if(s<0)return!1;for(let i=s;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let s=this.qa;s!==1;){if(s%2==0)this.Za.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),s/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,s){const i=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),l=0,o=this.Ya[0];for(;;){const d=Lr(r,i,1e-14)&&r>i+1e-14,f=Lr(r,s*o,1e-14),v=Lr(r,1,1e-14);if(!(d&&f&&v))break;r/=o,o=this.Ya[++l%this.Ya.length]}if(r<=i+1e-14&&(r=i),r=Math.max(1,r),this.Za.length>0&&(a=r,c=1,h=1e-14,Math.abs(a-c)<h))for(l=0,o=this.Za[0];Lr(r,s*o,1e-14)&&r>i+1e-14;)r/=o,o=this.Za[++l%this.Za.length];var a,c,h;return r}}class of{constructor(e,n,s,i){this.Ka=[],this.Li=e,this.qa=n,this.Ga=s,this.Ja=i}Xa(e,n){if(e<n)throw new Error("high < low");const s=this.Li.At(),i=(e-n)*this.Qa()/s,r=new aa(this.qa,[2,2.5,2]),l=new aa(this.qa,[2,2,2.5]),o=new aa(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(e,n,i),l.Xa(e,n,i),o.Xa(e,n,i)),function(c){if(c.length<1)throw Error("array is empty");let h=c[0];for(let d=1;d<c.length;++d)c[d]<h&&(h=c[d]);return h}(a)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const s=e.At(),i=this.Ga(s-1,n),r=this.Ga(0,n),l=this.Li.W().entireTextOnly?this.no()/2:0,o=l,a=s-1-l,c=Math.max(i,r),h=Math.min(i,r);if(c===h)return void(this.Ka=[]);let d=this.Xa(c,h),f=c%d;f+=f<0?d:0;const v=c>=h?1:-1;let p=null,g=0;for(let y=c-f;y>h;y-=d){const m=this.Ja(y,n,!0);p!==null&&Math.abs(m-p)<this.Qa()||m<o||m>a||(g<this.Ka.length?(this.Ka[g].Ea=m,this.Ka[g].so=e.eo(y)):this.Ka.push({Ea:m,so:e.eo(y)}),g++,p=m,e.ro()&&(d=this.Xa(y*v,h)))}this.Ka.length=g}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function Cg(t){return t.slice().sort((e,n)=>R(e.Xi())-R(n.Xi()))}var af;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(af||(af={}));const uf=new fg,cf=new xo(100,1);class QN{constructor(e,n,s,i){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new xe,this.vo=new xe,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=cf,this.xo=oa(null),this.So=e,this.cn=n,this.ko=s,this.yo=i,this.Co=new of(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(jt(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=Be(e.scaleMargins.top),s=Be(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(n+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+s}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let s=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(r,l){if(r===null)return!1;const o=Ci(r.Ph(),l),a=Ci(r.Rh(),l);return isFinite(o)&&isFinite(a)}(this.Ih,this.xo)?(s=Or(this.Ih,this.xo),s!==null&&this.Ao(s)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(s=ci(this.Ih,this.xo),s!==null&&this.Ao(s));const i=n.Cr!==this.cn.mode;i&&(n.Cr===2||this.Mh())&&this.Ra(),i&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const s=this.Ih;(n||s===null&&e!==null||s!==null&&!s.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=_s(e,n):this.Oo()&&(e=Ei(e,n)),this.Po(e,n)}te(e,n,s){this.Wo();const i=this.Fo(),r=R(this.Lh()),l=r.Ph(),o=r.Rh(),a=this.Eo()-1,c=this.Bo(),h=a/(o-l),d=s===void 0?0:s.from,f=s===void 0?e.length:s.to,v=this.Ho();for(let p=d;p<f;p++){const g=e[p],y=g._t;if(isNaN(y))continue;let m=y;v!==null&&(m=v(g._t,n));const x=i+h*(m-l),w=c?x:this.ho-1-x;g.st=w}}be(e,n,s){this.Wo();const i=this.Fo(),r=R(this.Lh()),l=r.Ph(),o=r.Rh(),a=this.Eo()-1,c=this.Bo(),h=a/(o-l),d=s===void 0?0:s.from,f=s===void 0?e.length:s.to,v=this.Ho();for(let p=d;p<f;p++){const g=e[p];let y=g.ge,m=g.Me,x=g.xe,w=g.Se;v!==null&&(y=v(g.ge,n),m=v(g.Me,n),x=v(g.xe,n),w=v(g.Se,n));let S=i+h*(y-l),C=c?S:this.ho-1-S;g.pe=C,S=i+h*(m-l),C=c?S:this.ho-1-S,g.de=C,S=i+h*(x-l),C=c?S:this.ho-1-S,g.fe=C,S=i+h*(w-l),C=c?S:this.ho-1-S,g.me=C}}pn(e,n){const s=this.To(e,n);return this.$o(s,n)}$o(e,n){let s=e;return this.Mh()?s=function(i,r){return r<0&&(i=-i),i/100*r+r}(s,n):this.Oo()&&(s=function(i,r){return i-=100,r<0&&(i=-i),i/100*r+r}(s,n)),s}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const s=this.po[n];s.Xi()===null&&s.Ki(n+1),e.push(s)}return e=Cg(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const s=n.Ct();s!==null&&(e===null||s.la<e.la)&&(e=s)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=R(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const s=R(this.ao).Th();n=Math.max(n,.1),s.Vh(n),this.Ao(s)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=R(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=R(this.Lh()).Dh()/(this.Eo()-1);let s=e-this.Mo;this.Bo()&&(s*=-1);const i=s*n,r=R(this.ao).Th();r.Oh(i),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(_s(e,n));case 3:return this.ba().format(Ei(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,R(this.e_()).ba())}Zl(e,n){return e=_s(e,n),this.s_(e,uf)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=cf,this.Mh()?(this.wa=uf,n=100):this.Oo()?(this.wa=new xo(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new of(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?Fl(e,this.xo):e;const s=R(this.Lh()),i=this.Fo()+(this.Eo()-1)*(e-s.Ph())/s.Dh();return this.jo(i)}To(e,n){if(this.Wo(),this.Ni())return 0;const s=this.jo(e),i=R(this.Lh()),r=i.Ph()+i.Dh()*((s-this.Fo())/(this.Eo()-1));return this.ro()?Ci(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const s=this.r_();let i=0,r=0;for(const a of s){if(!a.yt())continue;const c=a.Ct();if(c===null)continue;const h=a.Il(e.Os(),e.ui());let d=h&&h.Lh();if(d!==null){switch(this.cn.mode){case 1:d=ci(d,this.xo);break;case 2:d=KN(d,c.Vt);break;case 3:d=XN(d,c.Vt)}if(n=n===null?d:n.ts(R(d)),h!==null){const f=h.Eh();f!==null&&(i=Math.max(i,f.above),r=Math.max(r,f.below))}}}if(i===this.co&&r===this.do||(this.co=i,this.do=r,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const a=this.e_(),c=5*(a===null||this.Mh()||this.Oo()?1:a.ma());this.ro()&&(n=Or(n,this.xo)),n=new Ye(n.Ph()-c,n.Rh()+c),this.ro()&&(n=ci(n,this.xo))}if(this.ro()){const a=Or(n,this.xo),c=oa(a);if(l=c,o=this.xo,l.$a!==o.$a||l.Ua!==o.Ua){const h=this.ao!==null?Or(this.ao,this.xo):null;this.xo=c,n=ci(a,c),h!==null&&(this.ao=ci(h,c))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new Ye(-.5,.5)),this.xo=oa(null));var l,o;this.oo._o=!0}Ho(){return this.Mh()?_s:this.Oo()?Ei:this.ro()?e=>Fl(e,this.xo):null}a_(e,n,s){return n===void 0?(s===void 0&&(s=this.ba()),s.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class JN{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new xe,this.yl=e,this.$i=n,this.d_=new qN(this);const s=n.W();this.f_=this.v_("left",s.leftPriceScale),this.p_=this.v_("right",s.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(s)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const s of n){const i=R(s[0].Dt());i.$h(e.overlayPriceScales),e.localization&&i.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?Be(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const s=n.Dt();s!==null&&s.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,s){const i=s!==void 0?s:this.C_().y_+1;this.T_(e,n,i)}Zo(e){const n=this.po.indexOf(e);Mn(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const s=R(e.Dt()).Pa();if(this.o_.has(s)){const r=Be(this.o_.get(s)),l=r.indexOf(e);l!==-1&&(r.splice(l,1),r.length===0&&this.o_.delete(s))}const i=e.Dt();i&&i.Ba().indexOf(e)>=0&&i.Zo(e),i!==null&&(i.Yo(),this.P_(i)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=Cg(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const s=this.yl.Xs();s!==null&&e.h_(s)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,s=0;for(let i=0;i<e.length;i++){const r=e[i].Xi();r!==null&&(r<n&&(n=r),r>s&&(s=r))}return{H_:n,y_:s}}T_(e,n,s){let i=this.w_(n);if(i===null&&(i=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!vo(n)){const r=this.o_.get(n)||[];r.push(e),this.o_.set(n,r)}i.qo(e),e.Gi(i),e.Ki(s),this.P_(i),this.mo=null}m_(e,n,s){n.Cr!==s.Cr&&this.L_(e)}v_(e,n){const s=Object.assign({visible:!0,autoScale:!0},Gt(n)),i=new QN(e,s,this.$i.W().layout,this.$i.W().localization);return i.Lo(this.At()),i}}class GN{constructor(e,n,s=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=s}Y_(e){const n=e.time,s=this.q_.cacheKey(n),i=this.tr.get(s);if(i!==void 0)return i.Z_;if(this.Ke===this.ir){const l=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(Be(l)),this.Je++,this.Ke--}const r=this.U_(e);return this.tr.set(s,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,s),this.Ke++,this.Ge++,r}}class ji{constructor(e,n){Mn(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function hf(t,e){return t===null||e===null?t===e:t.Ch(e)}class YN{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let s=n;s<e.length;++s){const i=e[s];let r=this.J_.get(i.timeWeight);r===void 0&&(r=[],this.J_.set(i.timeWeight,r)),r.push({index:s,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}su(e,n){const s=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===s||(this.tr={Ha:this.ru(s),eu:s}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((s,i)=>{e<=s[0].index?n.push(i):s.splice(ur(s,e,r=>r.index<e),1/0)});for(const s of n)this.J_.delete(s)}ru(e){let n=[];for(const s of Array.from(this.J_.keys()).sort((i,r)=>r-i)){if(!this.J_.get(s))continue;const i=n;n=[];const r=i.length;let l=0;const o=Be(this.J_.get(s)),a=o.length;let c=1/0,h=-1/0;for(let d=0;d<a;d++){const f=o[d],v=f.index;for(;l<r;){const p=i[l],g=p.index;if(!(g<v)){c=g;break}l++,n.push(p),h=g,c=1/0}if(c-v>=e&&v-h>=e)n.push(f),h=v;else if(this.Q_)return i}for(;l<r;l++)n.push(i[l])}return n}}class Rs{constructor(e){this.hu=e}lu(){return this.hu===null?null:new ji(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Rs(null)}}function ZN(t,e){return t.weight>e.weight?t:e}class e_{constructor(e,n,s,i){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new YN,this.du=new Map,this.fu=Rs.ou(),this.vu=!0,this.pu=new xe,this.mu=new xe,this.bu=new xe,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=s,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=i,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){jt(this.yo,e),this.Cu(),this.ku()}$h(e,n){var s;jt(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((s=e.barSpacing)!==null&&s!==void 0?s:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,s;return(s=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&s!==void 0?s:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const s=ur(this.uu,this.q_.key(e),(i,r)=>this.q_.key(i.time)<r);return this.q_.key(e)<this.q_.key(this.uu[s].time)?n?s:null:s}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),s=Math.round(e.to),i=R(this.Bu()),r=R(this.Au());return{from:R(this.Ui(Math.max(i,n))),to:R(this.Ui(Math.min(r,s)))}}Iu(e){return{from:R(this.Va(e.from,!0)),to:R(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),s=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&s!==0){const i=this.Su*e/s;this.Su=i}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const i=s-e;this.xu-=Math.round(i/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!Qi(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const s=this.Eu(),i=n===void 0?0:n.from,r=n===void 0?e.length:n.to;for(let l=i;l<r;l++){const o=e[l].ot,a=s+this.xu-o,c=this.__-(a+.5)*this.Su-1;e[l].nt=c}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),s=Math.round(n/e),i=R(this.Xs()),r=Math.max(i.Os(),i.Os()-s),l=Math.max(i.ui(),i.ui()-s),o=this.cu.su(e,n),a=this.Bu()+s,c=this.Au()-s,h=this.$u(),d=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let v=0;for(const p of o){if(!(r<=p.index&&p.index<=l))continue;let g;v<this.Mu.length?(g=this.Mu[v],g.coord=this.It(p.index),g.label=this.Uu(p),g.weight=p.weight):(g={needAlignCoordinate:!1,coord:this.It(p.index),label:this.Uu(p),weight:p.weight},this.Mu.push(g)),this.Su>n/2&&!h?g.needAlignCoordinate=!1:g.needAlignCoordinate=d&&p.index<=a||f&&p.index>=c,v++}return this.Mu.length=v,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const s=this.Fu(e),i=this.le(),r=i+n*(i/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(s-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=Pu(this.__-e,0,this.__),s=Pu(this.__-R(this.wo),0,this.__);n!==0&&s!==0&&this.Gn(this.wu.le*n/s)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=R(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.xu,i=performance.now();this.$i.Zn({Qu:r=>(r-i)/n>=1,tc:r=>{const l=(r-i)/n;return l>=1?e:s+(e-s)*l}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new ji(e,n+this.cn.rightOffset))}lc(e){const n=new ji(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),s=this.Eu()+this.xu-n;return Math.round(1e6*s)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Rs.ou());const e=this.Eu(),n=this.__/this.Su,s=this.xu+e,i=new ji(s-n+1,s);this._c(new Rs(i))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new GN(s=>this.fc(s),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,hf(n.lu(),this.fu.lu())||this.pu.m(),hf(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const s=n.Os()-e;if(s<0){const i=this.xu-s-1;this.Jn(i)}this.zu()}Pu(){this.Lu(),this.zu()}}class t_{X(e,n,s){e.useMediaCoordinateSpace(i=>this.K(i,n,s))}gl(e,n,s){e.useMediaCoordinateSpace(i=>this.vc(i,n,s))}vc(e,n,s){}}class n_ extends t_{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:s}=e;let i=0;for(const l of this.zt.bc){if(l.Kt.length===0)continue;n.font=l.R;const o=this.wc(n,l.Kt);o>s.width?l.Zu=s.width/o:l.Zu=1,i+=l.gc*l.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((s.height-i)/2,0);break;case"bottom":r=Math.max(s.height-i,0)}n.fillStyle=this.zt.V;for(const l of this.zt.bc){n.save();let o=0;switch(this.zt.xc){case"left":n.textAlign="left",o=l.gc/2;break;case"center":n.textAlign="center",o=s.width/2;break;case"right":n.textAlign="right",o=s.width-1-l.gc/2}n.translate(o,r),n.textBaseline="top",n.font=l.R,n.scale(l.Zu,l.Zu),n.fillText(l.Kt,0,l.Sc),n.restore(),r+=l.gc*l.Zu}}wc(e,n){const s=this.kc(e.font);let i=s.get(n);return i===void 0&&(i=e.measureText(n).width,s.set(n,i)),i}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class s_{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new n_(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:Vs(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class i_ extends Hc{constructor(e,n){super(),this.cn=n,this.wn=new s_(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var df,ff,pf,mf,gf;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(df||(df={}));class r_{constructor(e,n,s){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new xe,this.Rc=new xe,this.Dc=null,this.Vc=e,this.cn=n,this.q_=s,this.Oc=new AS(this),this.yl=new e_(this,n.timeScale,this.cn.localization,s),this.vt=new XS(this,n.crosshair),this.Bc=new UN(n.crosshair),this.Ac=new i_(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Ce.es())}Uh(){this.Nc(Ce.ss())}oa(){this.Nc(new Ce(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){jt(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const s=this.Uc(e);s!==null&&(s.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const s=n.w_(e);if(s!==null)return{Ht:n,Dt:s}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new JN(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const s=e===void 0?this.yc.length-1:e,i=Ce.es();return i.Nn(s,{Fn:0,Wn:!0}),this.Nc(i),n}V_(e,n,s){e.V_(n,s)}O_(e,n,s){e.O_(n,s),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,s){n.Vo()||e.A_(n,s)}I_(e,n,s){n.Vo()||(e.I_(n,s),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const s=this.St();if(s.Ni()||n===0)return;const i=s.Hi();e=Math.max(1,Math.min(e,i)),s.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,s,i,r){this.vt.gn(e,n);let l=NaN,o=this.yl.Nu(e);const a=this.yl.Xs();a!==null&&(o=Math.min(Math.max(a.Os(),o),a.ui()));const c=i.vn(),h=c.Ct();h!==null&&(l=c.pn(n,h)),l=this.Bc.Oa(l,o,i),this.vt.kn(o,l,i),this.oa(),r||this.Rc.m(this.vt.xt(),{x:e,y:n},s)}ad(e,n,s){const i=s.vn(),r=i.Ct(),l=i.Rt(e,R(r)),o=this.yl.Va(n,!0),a=this.yl.It(R(o));this.ld(a,l,null,s,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),s=this.vt.Sn();this.ld(n,s,null,e)}this.vt.Vn()}_d(e,n,s){const i=this.yl.mn(0);n!==void 0&&s!==void 0&&this.yl.bt(n,s);const r=this.yl.mn(0),l=this.yl.Eu(),o=this.yl.Xs();if(o!==null&&i!==null&&r!==null){const a=o.Kr(l),c=this.q_.key(i)>this.q_.key(r),h=e!==null&&e>l&&!c,d=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(s!==void 0||d)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const v=e-l;this.yl.Jn(this.yl.Hu()-v)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(s=>s.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,s){const i=this.yc[0],r=this.fd(n,e,i,s);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(e){const n=this.dr(e),s=this.Cc.indexOf(e);Mn(s!==-1,"Series not found"),this.Cc.splice(s,1),R(n).Zo(e),e.S&&e.S()}Xl(e,n){const s=R(this.dr(e));s.Zo(e);const i=this.Uc(n);if(i===null){const r=e.Xi();s.qo(e,n,r)}else{const r=i.Ht===s?e.Xi():void 0;i.Ht.qo(e,n,r)}}hc(){const e=Ce.ss();e.$n(),this.Nc(e)}pd(e){const n=Ce.ss();n.Yn(e),this.Nc(n)}Kn(){const e=Ce.ss();e.Kn(),this.Nc(e)}Gn(e){const n=Ce.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=Ce.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=Ce.ss();n.Zn(e),this.Nc(n)}Un(){const e=Ce.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,s=this.zc;if(n===s)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==s||this.Dc.Rs!==n)this.Dc={Ps:s,Rs:n,wd:new Map};else{const r=this.Dc.wd.get(e);if(r!==void 0)return r}const i=function(r,l,o){const[a,c,h,d]=Xi(r),[f,v,p,g]=Xi(l),y=[ut(a+o*(f-a)),ut(c+o*(v-c)),ut(h+o*(p-h)),ug(d+o*(g-d))];return`rgba(${y[0]}, ${y[1]}, ${y[2]}, ${y[3]})`}(s,n,e/100);return this.Dc.wd.set(e,i),i}Gc(e,n){const s=new Ce(n);if(e!==null){const i=this.yc.indexOf(e);s.Nn(i,{Fn:n})}return s}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,s,i){const r=new Qc(this,e,n,s,i),l=e.priceScaleId!==void 0?e.priceScaleId:this.md();return s.qo(r,l),vo(l)||r.$h(e),r}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function Lu(t){return!Bt(t)&&!ar(t)}function jg(t){return Bt(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(ff||(ff={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(pf||(pf={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(mf||(mf={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(gf||(gf={}));const vf=t=>t.getUTCFullYear();function l_(t,e,n){return e.replace(/yyyy/g,(s=>Yt(vf(s),4))(t)).replace(/yy/g,(s=>Yt(vf(s)%100,2))(t)).replace(/MMMM/g,((s,i)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,n)).replace(/MMM/g,((s,i)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,n)).replace(/MM/g,(s=>Yt((i=>i.getUTCMonth()+1)(s),2))(t)).replace(/dd/g,(s=>Yt((i=>i.getUTCDate())(s),2))(t))}class Tg{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return l_(e,this.gd,this.Md)}}class o_{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",Yt(e.getUTCHours(),2)).replace("%m",Yt(e.getUTCMinutes(),2)).replace("%s",Yt(e.getUTCSeconds(),2))}}const a_={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class u_{constructor(e={}){const n=Object.assign(Object.assign({},a_),e);this.Td=new Tg(n.Sd,n.Cd),this.Pd=new o_(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function $r(t){return 60*t*60*1e3}function ua(t){return 60*t*1e3}const Ar=[{Dd:(xf=1,1e3*xf),Vd:10},{Dd:ua(1),Vd:20},{Dd:ua(5),Vd:21},{Dd:ua(30),Vd:22},{Dd:$r(1),Vd:30},{Dd:$r(3),Vd:31},{Dd:$r(6),Vd:32},{Dd:$r(12),Vd:33}];var xf;function yf(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=Ar.length-1;n>=0;--n)if(Math.floor(e.getTime()/Ar[n].Dd)!==Math.floor(t.getTime()/Ar[n].Dd))return Ar[n].Vd;return 0}function ca(t){let e=t;if(ar(t)&&(e=Jc(t)),!Lu(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function wf(t){if(!jg(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function Jc(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function bf(t){ar(t.time)&&(t.time=Jc(t.time))}class Sf{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(bf)}(e):bf(e)}createConverterToInternalObj(e){return R(function(n){return n.length===0?null:Lu(n[0].time)||ar(n[0].time)?ca:wf}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return jg(n=e)?wf(n):Lu(n)?ca(n):ca(Jc(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new u_({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new Tg(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const s=function(r,l,o){switch(r){case 0:case 10:return l?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return l?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),i=this.cn.timeScale;if(i.tickMarkFormatter!==void 0){const r=i.tickMarkFormatter(e.originalTime,s,n.locale);if(r!==null)return r}return function(r,l,o){const a={};switch(l){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const c=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(o,a)}(e.time,s,n.locale)}maxTickMarkWeight(e){let n=e.reduce(ZN,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(s,i=0){if(s.length===0)return;let r=i===0?null:s[i-1].time.Od,l=r!==null?new Date(1e3*r):null,o=0;for(let a=i;a<s.length;++a){const c=s[a],h=new Date(1e3*c.time.Od);l!==null&&(c.timeWeight=yf(h,l)),o+=c.time.Od-(r||c.time.Od),r=c.time.Od,l=h}if(i===0&&s.length>1){const a=Math.ceil(o/(s.length-1)),c=new Date(1e3*(s[0].time.Od-a));s[0].timeWeight=yf(new Date(1e3*s[0].time.Od),c)}})(e,n)}static Id(e){return jt({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Us=typeof window<"u";function Nf(){return!!Us&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ha(){return!!Us&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function zu(t){return t+t%2}function da(t,e){return t.zd-e.zd}function fa(t,e,n){const s=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(s)*Math.min(Math.abs(s),n)}class c_{constructor(e,n,s,i){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=s,this.rs=i}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let s=0;const i=fa(this.Ld,this.Ed,this.Ud),r=da(this.Ld,this.Ed),l=[i],o=[r];if(s+=r,this.Nd!==null){const c=fa(this.Ed,this.Nd,this.Ud);if(Math.sign(c)===Math.sign(i)){const h=da(this.Ed,this.Nd);if(l.push(c),o.push(h),s+=h,this.Fd!==null){const d=fa(this.Nd,this.Fd,this.Ud);if(Math.sign(d)===Math.sign(i)){const f=da(this.Nd,this.Fd);l.push(d),o.push(f),s+=f}}}}let a=0;for(let c=0;c<l.length;++c)a+=o[c]/s*l[c];Math.abs(a)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=a,this.jd=function(c,h){const d=Math.log(h);return Math.log(1*d/-c)/d}(Math.abs(a),this.qd))}tc(e){const n=R(this.Wd),s=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,s)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-R(this.Wd).ot;return Math.min(n,this.jd)}}class h_{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return cg(Xi(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function ss(t,e){const n=R(t.ownerDocument).createElement("canvas");t.appendChild(n);const s=SS(n,{options:{allowResizeObserver:!1},transform:(i,r)=>({width:Math.max(i.width,r.width),height:Math.max(i.height,r.height)})});return s.resizeCanvasElement(e),s}function is(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function Ou(t,e,n,s){t.gl&&t.gl(e,n,s)}function al(t,e,n,s){t.X(e,n,s)}function $u(t,e,n,s){const i=t(n,s);for(const r of i){const l=r.gt();l!==null&&e(l)}}function d_(t){Us&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Gc{constructor(e,n,s){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!ha(),this.Af=i=>{this.If(i)},this.zf=i=>{if(this.Lf(i)){const r=this.Ef(i);if(++this._f,this.uf&&this._f>1){const{Nf:l}=this.Ff($t(i),this.cf);l<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(i);if(++this.hf,this.lf&&this.hf>1){const{Nf:l}=this.Ff($t(i),this.af);l<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=s,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=pa(e.changedTouches,R(this.Of));if(n===null||(this.Vf=Fr(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const s=this.Ff($t(n),R(this.pf)),{nv:i,sv:r,Nf:l}=s;if(this.mf||!(l<5)){if(!this.mf){const o=.5*i,a=r>=o&&!this.cn.ev(),c=o>r&&!this.cn.rv();a||c||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const o=this.Ef(e,n);this.Wf(o,this.Hf.hv),us(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff($t(e),R(this.vf)),{Nf:s}=n;if(s>=5&&(this.bf=!0,this.Yf()),this.bf){const i=this.Ef(e);this.Uf(i,this.Hf.av)}}Ff(e,n){const s=Math.abs(n.nt-e.nt),i=Math.abs(n.st-e.st);return{nv:s,sv:i,Nf:s+i}}ov(e){let n=pa(e.changedTouches,R(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=Fr(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const s=this.Ef(e,n);if(this.Wf(s,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:i}=this.Ff($t(n),this.cf);i<30&&!this.wf&&this.Wf(s,this.Hf.jf),this.$f()}else this.wf||(this.Wf(s,this.Hf.uv),this.Hf.uv&&us(e));this._f===0&&us(e),e.touches.length===0&&this.ff&&(this.ff=!1,us(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),Nf()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:s}=this.Ff($t(e),this.af);s<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=Fr(e);const s=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=$t(n),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),l=this.ov.bind(this);this.yf=()=>{s.removeEventListener("touchmove",r),s.removeEventListener("touchend",l)},s.addEventListener("touchmove",r,{passive:!1}),s.addEventListener("touchend",l,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const i=this.Ef(e,n);this.Wf(i,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=$t(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;Nf()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=$t(e),this.kf&&(this.kf(),this.kf=null);{const i=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",r)},n.addEventListener("mousemove",i),n.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(e))return;const s=this.Ef(e);this.Uf(s,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=$t(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=s=>{this.Hf.wv&&(s.composed&&this.Zf.contains(s.composedPath()[0])||s.target&&this.Zf.contains(s.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}ha()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),d_(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=_f(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),us(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=_f(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!ha()}vv(e){const n=pa(e.touches,R(this.Of));if(n===null)return;const s=this.Ef(e,n);this.Wf(s,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Fr(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const s=n||e,i=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-i.left,localY:s.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:s.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&us(e)}}}}function _f(t,e){const n=t.clientX-e.clientX,s=t.clientY-e.clientY;return Math.sqrt(n*n+s*s)}function us(t){t.cancelable&&t.preventDefault()}function $t(t){return{nt:t.pageX,st:t.pageY}}function Fr(t){return t.timeStamp||performance.now()}function pa(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Dr(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function f_(t,e,n){for(const s of t){const i=s.gt();if(i!==null&&i.wr){const r=i.wr(e,n);if(r!==null)return{Bv:s,Iv:r}}}return null}function ma(t,e){return n=>{var s,i,r,l;return((i=(s=n.Dt())===null||s===void 0?void 0:s.Pa())!==null&&i!==void 0?i:"")!==e?[]:(l=(r=n.da)===null||r===void 0?void 0:r.call(n,t))!==null&&l!==void 0?l:[]}}function kf(t,e,n,s){if(!t.length)return;let i=0;const r=n/2,l=t[0].At(s,!0);let o=e===1?r-(t[0].Vi()-l/2):t[0].Vi()-l/2-r;o=Math.max(0,o);for(let a=1;a<t.length;a++){const c=t[a],h=t[a-1],d=h.At(s,!1),f=c.Vi(),v=h.Vi();if(e===1?f>v-d:f<v+d){const p=v-d*e;c.Oi(p);const g=p-e*d/2;if((e===1?g<0:g>n)&&o>0){const y=e===1?-1-g:g-n,m=Math.min(y,o);for(let x=i;x<t.length;x++)t[x].Oi(t[x].Vi()+e*m);o-=m}}else i=a,o=e===1?v-d-f:f-(v+d)}}class Ef{constructor(e,n,s,i){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Gi(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=s,this.qv=i==="left",this.Yv=ma("normal",i),this.Zv=ma("top",i),this.Xv=ma("bottom",i),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=ss(this.Kv,le({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=ss(this.Kv,le({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const l=this.Jv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const o={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Gc(this.Jv.canvasElement,o,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),is(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),s=R(this.Gv.canvasElement.getContext("2d"));s.save();const i=this.Li.Ha();s.font=this._p(),i.length>0&&(e=Math.max(this.Fv.xi(s,i[0].so),this.Fv.xi(s,i[i.length-1].so)));const r=this.up();for(let c=r.length;c--;){const h=this.Fv.xi(s,r[c].Kt());h>e&&(e=h)}const l=this.Li.Ct();if(l!==null&&this.Ev!==null&&(o=this.cn.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const c=this.Li.pn(1,l),h=this.Li.pn(this.Ev.height-2,l);e=Math.max(e,this.Fv.xi(s,this.Li.Fi(Math.floor(Math.min(c,h))+.11111111111111,l)),this.Fv.xi(s,this.Li.Fi(Math.ceil(Math.max(c,h))-.11111111111111,l)))}var o;s.restore();const a=e||34;return zu(Math.ceil(n.C+n.T+n.A+n.I+5+a))}cp(e){this.Ev!==null&&Xn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return R(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,R(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const s=ts(this.Gv);s!==null&&(s.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)}),this.tn.bp(s,this.Xv),this.wp(s),this.tn.bp(s,this.Yv),this.gp(s))}this.Jv.applySuggestedBitmapSize();const n=ts(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:i})=>{s.clearRect(0,0,i.width,i.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,s)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),s=this.tn.fp();this.Nv=!0,n.V_(s,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),s=this.tn.fp(),i=this.Li;n.O_(s,i,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),s=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,s))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),s=this.tn.fp();this.Nv=!1,n.B_(s,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(s=>{for(let i=0;i<s.length;++i){const r=s[i].Rn(this.tn.fp(),n);for(let l=0;l<r.length;l++)e.push(r[l])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:s,height:i}=n,r=this.tn.fp().$t(),l=r.q(),o=r.bd();l===o?mo(e,0,0,s,i,l):hg(e,0,0,s,i,l,o)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:s}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const i=Math.max(1,Math.floor(this.ap().C*s));let r;r=this.qv?n.width-i:0,e.fillRect(r,0,i,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),s=this.Li.W(),i=this.ap(),r=this.qv?this.Ev.width-i.T:0;s.borderVisible&&s.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:o,verticalPixelRatio:a})=>{l.fillStyle=s.borderColor;const c=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),d=Math.round(i.T*o);l.beginPath();for(const f of n)l.rect(Math.floor(r*o),Math.round(f.Ea*a)-h,d,c);l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{var o;l.font=this._p(),l.fillStyle=(o=s.textColor)!==null&&o!==void 0?o:this.ko.textColor,l.textAlign=this.qv?"right":"left",l.textBaseline="middle";const a=this.qv?Math.round(r-i.A):Math.round(r+i.T+i.A),c=n.map(h=>this.Fv.Mi(l,h.so));for(let h=n.length;h--;){const d=n[h];l.fillText(d.so,a,d.Ea+c[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),s=this.tn.fp(),i=this.ap();this.Li===s.pr()&&this.tn.fp().Uo().forEach(l=>{s.vr(l)&&n.push(l)});const r=this.Li;n.forEach(l=>{l.Rn(s,r).forEach(o=>{o.Oi(null),o.Bi()&&e.push(o)})}),e.forEach(l=>l.Oi(l.ki())),this.Li.W().alignLabels&&this.yp(e,i)}yp(e,n){if(this.Ev===null)return;const s=this.Ev.height/2,i=e.filter(l=>l.ki()<=s),r=e.filter(l=>l.ki()>s);i.sort((l,o)=>o.ki()-l.ki()),r.sort((l,o)=>l.ki()-o.ki());for(const l of e){const o=Math.floor(l.At(n)/2),a=l.ki();a>-o&&a<o&&l.Oi(o),a>this.Ev.height-o&&a<this.Ev.height+o&&l.Oi(this.Ev.height-o)}kf(i,1,this.Ev.height,n),kf(r,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),s=this.ap(),i=this.qv?"right":"left";n.forEach(r=>{r.Ai()&&r.gt(R(this.Li)).X(e,s,this.Fv,i)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),s=[],i=this.tn.fp(),r=n.Zc().Rn(i,this.Li);r.length&&s.push(r);const l=this.ap(),o=this.qv?"right":"left";s.forEach(a=>{a.forEach(c=>{c.gt(R(this.Li)).X(e,l,this.Fv,o)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Vs(this.ko.fontSize,this.ko.fontFamily)}}function p_(t,e){var n,s;return(s=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&s!==void 0?s:[]}function Br(t,e){var n,s;return(s=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&s!==void 0?s:[]}function m_(t,e){var n,s;return(s=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&s!==void 0?s:[]}function g_(t,e){var n,s;return(s=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&s!==void 0?s:[]}class Yc{constructor(e,n){this.Ev=le({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new xe,this.Op=new xe,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(s),this.Gv=ss(s,le({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=ss(s,le({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Gc(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),is(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return R(this.Np)}qp(e){var n,s;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(Yc.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new h_(this.Wp,this.Qd),this.Pp.bt()):((s=this.Pp)===null||s===void 0||s.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(R(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(R(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,s=e.localY;this.Gp(n,s,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const s=e.localX,i=e.localY;this.Gp(s,i,e);const r=this.wr(s,i);this.Qd.Qp((n=r==null?void 0:r.Lv)!==null&&n!==void 0?n:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const s=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,s)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,s=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const i=R(this.Lp),r=i.x+(n-this.Ip.x),l=i.y+(s-this.Ip.y);this.Gp(r,l,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const s=this.Np;return s===null?null:function(i,r,l){const o=i.Uo(),a=function(c,h,d){var f,v;let p,g;for(const x of c){const w=(v=(f=x.va)===null||f===void 0?void 0:f.call(x,h,d))!==null&&v!==void 0?v:[];for(const S of w)y=S.zOrder,(!(m=p==null?void 0:p.zOrder)||y==="top"&&m!=="top"||y==="normal"&&m==="bottom")&&(p=S,g=x)}var y,m;return p&&g?{zv:p,Hc:g}:null}(o,r,l);if((a==null?void 0:a.zv.zOrder)==="top")return Dr(a);for(const c of o){if(a&&a.Hc===c&&a.zv.zOrder!=="bottom"&&!a.zv.isBackground)return Dr(a);const h=f_(c.Pn(i),r,l);if(h!==null)return{Hc:c,Bv:h.Bv,Iv:h.Iv};if(a&&a.Hc===c&&a.zv.zOrder!=="bottom"&&a.zv.isBackground)return Dr(a)}return a!=null&&a.zv?Dr(a):null}(s,e,n)}_m(e,n){R(n==="left"?this.Cp:this.Tp).cp(le({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Xn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=R(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const s=n.Dt();s!==null&&e.P_(s),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,s)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const s=ts(this.Gv);s!==null&&(s.useBitmapCoordinateSpace(i=>{this.mp(i)}),this.Np&&(this.fm(s,p_),this.vm(s),this.pm(s),this.fm(s,Br),this.fm(s,m_)))}this.Jv.applySuggestedBitmapSize();const n=ts(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:i})=>{s.clearRect(0,0,i.width,i.height)}),this.bm(n),this.fm(n,g_))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const s=n.localX,i=n.localY;e.M()&&e.m(this.$i().St().Nu(s),{x:s,y:i},n)}mp({context:e,bitmapSize:n}){const{width:s,height:i}=n,r=this.$i(),l=r.q(),o=r.bd();l===o?mo(e,0,0,s,i,o):hg(e,0,0,s,i,l,o)}vm(e){const n=R(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,Br,Ou,n),this.Mm(e,Br,al,n)}bm(e){this.Mm(e,Br,al,this.$i().Zc())}fm(e,n){const s=R(this.Np).Uo();for(const i of s)this.Mm(e,n,Ou,i);for(const i of s)this.Mm(e,n,al,i)}Mm(e,n,s,i){const r=R(this.Np),l=r.$t().Wc(),o=l!==null&&l.Hc===i,a=l!==null&&o&&l.Iv!==void 0?l.Iv.Mr:void 0;$u(n,c=>s(c,e,o,a),i,r)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,s=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),s||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const i=e.$t().ud();n&&this.Cp===null&&(this.Cp=new Ef(this,e.W(),i,"left"),this.jp.appendChild(this.Cp.lp())),s&&this.Tp===null&&(this.Tp=new Ef(this,e.W(),i,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,s){this.$i().ld(this.Sm(e),this.km(n),s,R(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,s){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,s);const i=this.$i().Zc();this.Lp={x:i.Yt(),y:i.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),s=this.fp();if(n.z_(s,s.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const i=performance.now(),r=n.St();this.Ep.Vr(r.Hu(),i),this.Ep.Qu(i)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)R(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),s=n.St();if(s.Ni())return;const i=this.Qd.W(),r=i.handleScroll,l=i.kineticScroll;if((!r.pressedMouseMove||e.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Dv))return;const o=this.Np.vn(),a=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:a,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&l.touch||!e.Dv&&l.mouse){const c=s.le();this.Ep=new c_(.2/c,7/c,.997,15/c),this.Ep.Yd(s.Hu(),this.Rp.Od)}else this.Ep=null;o.Ni()||n.A_(this.Np,o,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(o.Ni()||n.I_(this.Np,o,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(s.Hu(),a))}}class Cf{constructor(e,n,s,i,r){this.ft=!0,this.Ev=le({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=s.ud,this.cn=n,this.Tm=i,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=ss(this.Kv,le({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Xn(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=ts(this.Gv);n!==null&&n.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)})}xp(){return this.Gv.bitmapSize}Sp(e,n,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,s)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:s,verticalPixelRatio:i}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*s),l=Math.floor(this.Oc.W().C*i),o=this.qv?n.width-r:0;e.fillRect(o,0,r,l)}mp({context:e,bitmapSize:n}){mo(e,0,0,n.width,n.height,this.Pm())}}function Zc(t){return e=>{var n,s;return(s=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&s!==void 0?s:[]}}const v_=Zc("normal"),x_=Zc("top"),y_=Zc("bottom");class w_{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=le({width:0,height:0}),this.Om=new xe,this.Fv=new Gi(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=ss(this.Im,le({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=ss(this.Im,le({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const i=this.Jv.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Gc(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),is(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,s){Xn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(le({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(le({width:s,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,s){const i=this.xp();i.width>0&&i.height>0&&e.drawImage(this.Gv.canvasElement,n,s)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const s=ts(this.Gv);s!==null&&(s.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i),this.$m(s,y_)}),this.wp(s),this.$m(s,v_)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=ts(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:i})=>{s.clearRect(0,0,i.width,i.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,x_))}$m(e,n){const s=this.Qd.$t().wt();for(const i of s)$u(n,r=>Ou(r,e,!1,void 0),i,void 0);for(const i of s)$u(n,r=>al(r,e,!1,void 0),i,void 0)}mp({context:e,bitmapSize:n}){mo(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:s}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const i=Math.max(1,Math.floor(this.jm().C*s));e.fillRect(0,0,n.width,i)}}wp(e){const n=this.Qd.$t().St(),s=n.Ha();if(!s||s.length===0)return;const i=this.q_.maxTickMarkWeight(s),r=this.jm(),l=n.W();l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:c})=>{o.strokeStyle=this.qm(),o.fillStyle=this.qm();const h=Math.max(1,Math.floor(a)),d=Math.floor(.5*a);o.beginPath();const f=Math.round(r.T*c);for(let v=s.length;v--;){const p=Math.round(s[v].coord*a);o.rect(p-d,0,h,f)}o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{const a=r.C+r.T+r.L+r.P/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.$(),o.font=this._p();for(const c of s)if(c.weight<i){const h=c.needAlignCoordinate?this.Ym(o,c.coord,c.label):c.coord;o.fillText(c.label,h,a)}this.Qd.W().timeScale.allowBoldLabels&&(o.font=this.Zm());for(const c of s)if(c.weight>=i){const h=c.needAlignCoordinate?this.Ym(o,c.coord,c.label):c.coord;o.fillText(c.label,h,a)}})}Ym(e,n,s){const i=this.Fv.xi(e,s),r=i/2,l=Math.floor(n-r)+.5;return l<0?n+=Math.abs(0-l):l+i>this.Ev.width&&(n-=Math.abs(this.Ev.width-(l+i))),n}Um(e,n){const s=this.jm();for(const i of e)for(const r of i.Qi())r.gt().X(n,s)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Vs(this.j(),this.cn.fontFamily)}Zm(){return Vs(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Gi,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const s=this.j();e.P=s,e.R=n,e.L=3*s/12,e.B=3*s/12,e.ji=9*s/12,e.N=0,e.Hm=4*s/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const s={ud:this.Qd.$t().ud()},i=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,r=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Cf("left",n,s,i,r),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Cf("right",n,s,i,r),this.Am.appendChild(this.Dm.lp()))}}const b_=!!Us&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Us&&(!((ga=navigator==null?void 0:navigator.userAgentData)===null||ga===void 0)&&ga.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var ga;class S_{constructor(e,n,s){var i;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new xe,this.Op=new xe,this.Rc=new xe,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=s,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(i=this.Xd).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),va(this.cn)&&this.hb(!0),this.$i=new r_(this.Vc.bind(this),this.cn,s),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new w_(this,this.q_),this.sb.appendChild(this.ab.lp());const r=n.autoSize&&this.ob();let l=this.cn.width,o=this.cn.height;if(r||l===0||o===0){const a=e.getBoundingClientRect();l=l||a.width,o=o||a.height}this._b(l,o),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],R(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,s=!1){if(this.ho===n&&this.__===e)return;const i=function(o){const a=Math.floor(o.width),c=Math.floor(o.height);return le({width:a-a%2,height:c-c%2})}(le({width:e,height:n}));this.ho=i.height,this.__=i.width;const r=this.ho+"px",l=this.__+"px";R(this.Xd).style.height=r,R(this.Xd).style.width=l,this.sb.style.height=r,this.sb.style.width=l,s?this.mb(Ce.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=Ce.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=va(this.cn);this.$i.$h(e);const s=va(this.cn);s!==n&&this.hb(s),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const s=R(n.getContext("2d"));return this.gb(s),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:R(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return Be(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,s=0;const i=this.Xm[0],r=(o,a)=>{let c=0;for(let h=0;h<this.Xm.length;h++){const d=this.Xm[h],f=R(o==="left"?d.wm():d.gm()),v=f.xp();e!==null&&f.Sp(e,a,c),c+=v.height}};this.xb()&&(r("left",0),n+=R(i.wm()).xp().width);for(let o=0;o<this.Xm.length;o++){const a=this.Xm[o],c=a.xp();e!==null&&a.Sp(e,n,s),s+=c.height}n+=i.xp().width,this.Sb()&&(r("right",n),n+=R(i.gm()).xp().width);const l=(o,a,c)=>{R(o==="left"?this.ab.Lm():this.ab.Em()).Sp(R(e),a,c)};if(this.cn.timeScale.visible){const o=this.ab.xp();if(e!==null){let a=0;this.xb()&&(l("left",a,s),a=R(i.wm()).xp().width),this.ab.Sp(e,a,s),a+=o.width,this.Sb()&&l("right",a,s)}s+=o.height}return le({width:n,height:s})}Pb(){let e=0,n=0,s=0;for(const p of this.Xm)this.xb()&&(n=Math.max(n,R(p.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(s=Math.max(s,R(p.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=p.M_();n=zu(n),s=zu(s);const i=this.__,r=this.ho,l=Math.max(i-n-s,0),o=this.cn.timeScale.visible;let a=o?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var c;a=(c=a)+c%2;const h=0+a,d=r<h?0:r-h,f=d/e;let v=0;for(let p=0;p<this.Xm.length;++p){const g=this.Xm[p];g.qp(this.$i.qc()[p]);let y=0,m=0;m=p===this.Xm.length-1?d-v:Math.round(g.M_()*f),y=Math.max(m,2),v+=y,g.cp(le({width:l,height:y})),this.xb()&&g._m(n,"left"),this.Sb()&&g._m(s,"right"),g.fp()&&this.$i.Kc(g.fp(),y)}this.ab.Fm(le({width:o?l:0,height:a}),o?n:0,o?s:0),this.$i.S_(l),this.Gm!==n&&(this.Gm=n),this.Jm!==s&&(this.Jm=s)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return b_?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),s=n*e.deltaX/100,i=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(i)*Math.min(1,Math.abs(i)),l=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(l,r)}s!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*s)}mb(e,n){var s;const i=e.jn();i===3&&this.Db(),i!==3&&i!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((s=this.Qm)===null||s===void 0?void 0:s.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const s of e.Qn())this.ns(s,n)}Vb(e){const n=this.$i.qc();for(let s=0;s<n.length;s++)e.Hn(s).Wn&&n[s].N_()}ns(e,n){const s=this.$i.St();switch(e.qn){case 0:s.hc();break;case 1:s.lc(e.Vt);break;case 2:s.Gn(e.Vt);break;case 3:s.Jn(e.Vt);break;case 4:s.qu();break;case 5:e.Vt.Qu(n)||s.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const s=this.Qm;this.Qm=null,this.mb(s,n);for(const i of s.Qn())if(i.qn===5&&!i.Vt.Qu(n)){this.$t().Zn(i.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,s=this.Xm.length;for(let i=n;i<s;i++){const r=Be(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let i=s;i<n;i++){const r=new Yc(this,e[i]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let i=0;i<n;i++){const r=e[i],l=this.Xm[i];l.fp()!==r?l.qp(r):l.Up()}this.cb(),this.Pb()}Ib(e,n,s){var i;const r=new Map;e!==null&&this.$i.wt().forEach(h=>{const d=h.In().ll(e);d!==null&&r.set(h,d)});let l;if(e!==null){const h=(i=this.$i.St().Ui(e))===null||i===void 0?void 0:i.originalTime;h!==void 0&&(l=h)}const o=this.$t().Wc(),a=o!==null&&o.Hc instanceof Qc?o.Hc:void 0,c=o!==null&&o.Iv!==void 0?o.Iv.gr:void 0;return{zb:l,ee:e??void 0,Lb:n??void 0,Eb:a,Nb:r,Fb:c,Wb:s??void 0}}Bb(e,n,s){this.Vp.m(()=>this.Ib(e,n,s))}Ab(e,n,s){this.Op.m(()=>this.Ib(e,n,s))}lb(e,n,s){this.Rc.m(()=>this.Ib(e,n,s))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(s=>s.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function va(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function N_(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Mg(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]])}return n}function jf(t,e,n,s){const i=n.value,r={ee:e,ot:t,Vt:[i,i,i,i],zb:s};return n.color!==void 0&&(r.V=n.color),r}function __(t,e,n,s){const i=n.value,r={ee:e,ot:t,Vt:[i,i,i,i],zb:s};return n.lineColor!==void 0&&(r.lt=n.lineColor),n.topColor!==void 0&&(r.Ps=n.topColor),n.bottomColor!==void 0&&(r.Rs=n.bottomColor),r}function k_(t,e,n,s){const i=n.value,r={ee:e,ot:t,Vt:[i,i,i,i],zb:s};return n.topLineColor!==void 0&&(r.Re=n.topLineColor),n.bottomLineColor!==void 0&&(r.De=n.bottomLineColor),n.topFillColor1!==void 0&&(r.ke=n.topFillColor1),n.topFillColor2!==void 0&&(r.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(r.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(r.Te=n.bottomFillColor2),r}function E_(t,e,n,s){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:s};return n.color!==void 0&&(i.V=n.color),i}function C_(t,e,n,s){const i={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:s};return n.color!==void 0&&(i.V=n.color),n.borderColor!==void 0&&(i.Ot=n.borderColor),n.wickColor!==void 0&&(i.Xh=n.wickColor),i}function j_(t,e,n,s,i){const r=Be(i)(n),l=Math.max(...r),o=Math.min(...r),a=r[r.length-1],c=[a,l,o,a],h=n,{time:d,color:f}=h;return{ee:e,ot:t,Vt:c,zb:s,$e:Mg(h,["time","color"]),V:f}}function Ir(t){return t.Vt!==void 0}function Tf(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function $n(t){return(e,n,s,i,r,l)=>function(o,a){return a?a(o):(c=o).open===void 0&&c.value===void 0;var c}(s,l)?Tf({ot:e,ee:n,zb:i},s):Tf(t(e,n,s,i,r),s)}function Mf(t){return{Candlestick:$n(C_),Bar:$n(E_),Area:$n(__),Baseline:$n(k_),Histogram:$n(jf),Line:$n(jf),Custom:$n(j_)}[t]}function Rf(t){return{ee:0,Hb:new Map,la:t}}function Pf(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function Lf(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),Be(e)}class T_{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let s=this.qb.size!==0,i=!1;const r=this.Yb.get(e);if(r!==void 0)if(this.Yb.size===1)s=!1,i=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(e)&&(i=!0);let l=[];if(n.length!==0){const a=n.map(v=>v.time),c=this.q_.createConverterToInternalObj(n),h=Mf(e.Qh()),d=e.Ca(),f=e.Ta();l=n.map((v,p)=>{const g=c(v.time),y=this.q_.key(g);let m=this.qb.get(y);m===void 0&&(m=Rf(g),this.qb.set(y,m),i=!0);const x=h(g,m.ee,v,a[p],d,f);return m.Hb.set(e,x),x})}s&&this.Gb(),this.Jb(e,l);let o=-1;if(i){const a=[];this.qb.forEach(c=>{a.push({timeWeight:0,time:c.la,pointData:c,originalTime:Lf(c.Hb)})}),a.sort((c,h)=>this.q_.key(c.time)-this.q_.key(h.time)),o=this.Qb(a)}return this.tw(e,o,function(a,c,h){const d=Pf(a,h),f=Pf(c,h);if(d!==void 0&&f!==void 0)return{ta:d.Ub>=f.Ub&&d.$b>=f.$b}}(this.Yb.get(e),r,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const s=n;(function(g){g.zb===void 0&&(g.zb=g.time)})(s),this.q_.preprocessData(n);const i=this.q_.createConverterToInternalObj([n])(n.time),r=this.Zb.get(e);if(r!==void 0&&this.q_.key(i)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${i}`);let l=this.qb.get(this.q_.key(i));const o=l===void 0;l===void 0&&(l=Rf(i),this.qb.set(this.q_.key(i),l));const a=Mf(e.Qh()),c=e.Ca(),h=e.Ta(),d=a(i,l.ee,n,s.zb,c,h);l.Hb.set(e,d),this.nw(e,d);const f={ta:Ir(d)};if(!o)return this.tw(e,-1,f);const v={timeWeight:0,time:l.la,pointData:l,originalTime:Lf(l.Hb)},p=ur(this.Xb,this.q_.key(v.time),(g,y)=>this.q_.key(g.time)<y);this.Xb.splice(p,0,v);for(let g=p;g<this.Xb.length;++g)xa(this.Xb[g].pointData,g);return this.q_.fillWeightsForPoints(this.Xb,p),this.tw(e,p,f)}nw(e,n){let s=this.Yb.get(e);s===void 0&&(s=[],this.Yb.set(e,s));const i=s.length!==0?s[s.length-1]:null;i===null||this.q_.key(n.ot)>this.q_.key(i.ot)?Ir(n)&&s.push(n):Ir(n)?s[s.length-1]=n:s.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(Ir)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let s=0;s<this.Xb.length&&s<e.length;++s){const i=this.Xb[s],r=e[s];if(this.q_.key(i.time)!==this.q_.key(r.time)){n=s;break}r.timeWeight=i.timeWeight,xa(r.pointData,s)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let s=n;s<e.length;++s)xa(e[s].pointData,s);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,s){const i={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((r,l)=>{i.ew.set(l,{$e:r,rw:l===e?s:void 0})}),this.Yb.has(e)||i.ew.set(e,{$e:[],rw:s}),i.St.hw=this.Xb,i.St.lw=n;else{const r=this.Yb.get(e);i.ew.set(e,{$e:r||[],rw:s})}return i}}function xa(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function eh(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function zf(t){const e=eh(t);return t.V!==void 0&&(e.color=t.V),e}function M_(t){const e=eh(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function R_(t){const e=eh(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function Rg(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function P_(t){const e=Rg(t);return t.V!==void 0&&(e.color=t.V),e}function L_(t){const e=Rg(t),{V:n,Ot:s,Xh:i}=t;return n!==void 0&&(e.color=n),s!==void 0&&(e.borderColor=s),i!==void 0&&(e.wickColor=i),e}function Au(t){return{Area:M_,Line:zf,Baseline:R_,Histogram:zf,Bar:P_,Candlestick:L_,Custom:z_}[t]}function z_(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const O_={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},$_={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},A_={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Uc,attributionLogo:!0},ya={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},F_={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},D_={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Uc,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Of(){return{width:0,height:0,autoSize:!1,layout:A_,crosshair:O_,grid:$_,overlayPriceScales:Object.assign({},ya),leftPriceScale:Object.assign(Object.assign({},ya),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},ya),{visible:!0}),timeScale:F_,watermark:D_,localization:{locale:Us?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class B_{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return vo(this.ow)?this.aw.Mb(this.ow):0}Li(){return R(this.aw.$t().Uc(this.ow)).Dt}}function $f(t,e,n){const s=Mg(t,["time","originalTime"]),i=Object.assign({time:e},s);return n!==void 0&&(i.originalTime=n),i}const I_={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class V_{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class U_{constructor(e,n,s,i,r){this.uw=new xe,this.Es=e,this.cw=n,this.dw=s,this.q_=r,this.fw=i}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new Rs(new ji(e.from,e.to)).lu(),s=this.Es.In();if(s.Ni())return null;const i=s.ll(n.Os(),1),r=s.ll(n.ui(),-1),l=R(s.el()),o=R(s.An());if(i!==null&&r!==null&&i.ee>r.ee)return{barsBefore:e.from-l,barsAfter:o-e.to};const a={barsBefore:i===null||i.ee===l?e.from-l:i.ee-l,barsAfter:r===null||r.ee===o?o-e.to:o-r.ee};return i!==null&&r!==null&&(a.from=i.zb,a.to=r.zb),a}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const s=this.Es.In().ll(e,n);return s===null?null:Au(this.seriesType())(s)}data(){const e=Au(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(s=>$f(s,this.q_.convertHorzItemToInternal(s.time),s.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>$f(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return Gt(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=jt(Gt(I_),e),s=this.Es.ea(n);return new V_(s)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class W_{constructor(e,n,s){this.ww=new xe,this.mu=new xe,this.Om=new xe,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=s}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},s=this.yl.Iu(n);this.$i.pd(s)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Mn(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),s=this.yl.Va(n,!1);return s===null?null:this.yl.It(s)}coordinateToTime(e){const n=this.$i.St(),s=n.Nu(e),i=n.Ui(s);return i===null?null:i.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},Gt(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function H_(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let s=0;for(;s<8;s++){const i=Math.round(n);if(Math.abs(i-n)<1e-8)return s;n*=10}return s}(e.minMove))}function Af(t){return function(e){if(Pr(e.handleScale)){const s=e.handleScale;e.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:i}=e.handleScale;Pr(s)&&(e.handleScale.axisPressedMouseMove={time:s,price:s}),Pr(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const n=e.handleScroll;Pr(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class q_{constructor(e,n,s){this.Sw=new Map,this.kw=new Map,this.yw=new xe,this.Cw=new xe,this.Tw=new xe,this.Pw=new T_(n);const i=s===void 0?Gt(Of()):jt(Gt(Of()),Af(s));this.q_=n,this.aw=new S_(e,i,n),this.aw.lm().l(l=>{this.yw.M()&&this.yw.m(this.Rw(l()))},this),this.aw.am().l(l=>{this.Cw.M()&&this.Cw.m(this.Rw(l()))},this),this.aw.Xc().l(l=>{this.Tw.M()&&this.Tw.m(this.Rw(l()))},this);const r=this.aw.$t();this.Dw=new W_(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,s){this.autoSizeActive()||this.aw._b(e,n,s)}addCustomSeries(e,n){const s=Ns(e),i=Object.assign(Object.assign({},lg),s.defaultOptions());return this.Vw("Custom",i,n,s)}addAreaSeries(e){return this.Vw("Area",TS,e)}addBaselineSeries(e){return this.Vw("Baseline",MS,e)}addBarSeries(e){return this.Vw("Bar",CS,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",ES,e)}addHistogramSeries(e){return this.Vw("Histogram",RS,e)}addLineSeries(e){return this.Vw("Line",jS,e)}removeSeries(e){const n=Be(this.Sw.get(e)),s=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(s),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new B_(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(Af(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,s){const i=this.Sw.get(s);if(i===void 0)return;const r=this.aw.$t().dr(i);r!==null&&this.aw.$t().ad(e,n,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,s={},i){H_(s.priceFormat);const r=jt(Gt(og),Gt(n),s),l=this.aw.$t().dd(e,r,i),o=new U_(l,this,this,this,this.q_);return this.Sw.set(o,l),this.kw.set(l,o),o}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((s,i)=>i.J(s.$e,s.rw)),n.Wu()}Bw(e){return Be(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((i,r)=>{const l=r.Qh(),o=Au(l)(i);if(l!=="Custom")Mn(N_(o));else{const a=r.Ta();Mn(!a||a(o)===!1)}n.set(this.Bw(r),o)});const s=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:s,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function K_(t,e,n){let s;if(ar(t)){const r=document.getElementById(t);Mn(r!==null,`Cannot find element in DOM with id=${t}`),s=r}else s=t;const i=new q_(s,e,n);return e.setOptions(i.options()),i}function X_(t,e){return K_(t,new Sf,Sf.Id(e))}Object.assign(Object.assign({},og),lg);const Q_=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),J_=Q_,wa=500,G_=["15s","30s","1m","5m","10m","15m","1h","1d"];function Y_(t){const e=String(t).match(/^(\d+)([smhdwy])$/i);if(!e)return 60;const n=Number(e[1]);if(!Number.isFinite(n)||n<=0)return 60;const s=e[2].toLowerCase();return n*({s:1,m:60,h:3600,d:86400,w:604800,y:31536e3}[s]??60)}function th({symbol:t="BTCUSDT",trades:e=[],onPriceUpdate:n,timeframe:s="1m",onTimeframeChange:i,summary:r=[],timeframes:l=G_}){const o=b.useRef(null),a=b.useRef(null),c=b.useRef(null),h=b.useRef([]),d=b.useRef([]),f=b.useRef(n),v=Y_(s),p=70,g=b.useCallback(()=>{const y=a.current,m=h.current;if(!y||!m||m.length===0)return;const x=m.length,w=x+3,S=Math.max(0,x-p);y.timeScale().setVisibleLogicalRange({from:S,to:w})},[p]);return b.useEffect(()=>{f.current=n},[n]),b.useEffect(()=>{if(!o.current)return;const y=X_(o.current,{autoSize:!0,layout:{background:{color:"#ffffff"},textColor:"#0f172a"},grid:{vertLines:{color:"rgba(148,163,184,0.18)"},horzLines:{color:"rgba(148,163,184,0.18)"}},timeScale:{timeVisible:!0,secondsVisible:v<60,borderVisible:!1,barSpacing:12,rightOffset:8},rightPriceScale:{borderVisible:!1},crosshair:{mode:Ru.Magnet}}),m=y.addCandlestickSeries({upColor:"#0ddf9a",borderUpColor:"#0ddf9a",wickUpColor:"#0ddf9a",downColor:"#f87171",borderDownColor:"#f87171",wickDownColor:"#f87171"});a.current=y,c.current=m,h.current=[];let x=!1;async function w(){try{const T=await(await fetch(`${J_}/api/market/candles?symbol=${t}&limit=${wa}&tf=${s}`)).json();if(x)return;const M=T.map(j=>({time:j.time??j.ts,open:j.open,high:j.high,low:j.low,close:j.close}));h.current=M,m.setData(M),g()}catch(C){console.error("Failed to load candles",C)}}w();const S=C=>{var A;if(C.symbol!==t)return;const T=Number(C.price);if(!Number.isFinite(T))return;(A=f.current)==null||A.call(f,T);const M=Math.floor(C.ts/v)*v;let j=h.current.slice(),D=j[j.length-1];if(!D){j=[{time:M,open:T,high:T,low:T,close:T}],h.current=j,m.setData(j),g();return}if(D.time===M){D={...D,high:Math.max(D.high,T),low:Math.min(D.low,T),close:T},j[j.length-1]=D,h.current=j,m.update(D),g();return}if(M>D.time){const V={time:M,open:D.close??T,high:T,low:T,close:T};j.push(V),j.length>wa&&(j=j.slice(-wa)),h.current=j,m.update(V),g()}};return $l.on("tick",S),()=>{x=!0,$l.off("tick",S),y.remove(),c.current=null,a.current=null,h.current=[],d.current=[]}},[t,s,v,g]),b.useEffect(()=>{if(!c.current)return;d.current.forEach(m=>c.current.removePriceLine(m));const y=(e||[]).filter(m=>Number.isFinite(m==null?void 0:m.price)&&((m==null?void 0:m.remaining_qty)??(m==null?void 0:m.qty)??0)>1e-8).map(m=>{const x=Number(m.pip_value??m.stake_amount??0),w=m.side==="sell"?"Sell":"Buy",S=Number.isFinite(x)?`$${x.toFixed(2)}`:"";return c.current.createPriceLine({price:m.price,color:m.side==="sell"?"#f97316":"#00df9a",lineStyle:Mu.Dashed,lineWidth:1,axisLabelVisible:!0,title:`${w}${S?` ${S}`:""} @ ${m.price.toFixed(2)}`})});d.current=y},[e]),u.jsxs("div",{className:"rounded-3xl bg-white text-slate-900 p-3 sm:p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px] uppercase tracking-[0.14em] text-slate-400",children:[u.jsx("span",{children:"Time Unit"}),u.jsx("select",{value:s,onChange:y=>i==null?void 0:i(y.target.value),className:"rounded-xl border border-emerald-400/70 bg-emerald-50/30 px-3 py-1.5 text-[11px] font-medium text-slate-800 focus:outline-none focus:ring-2 focus:ring-brand",children:l.map(y=>u.jsx("option",{value:y,className:"text-slate-900",children:y.toUpperCase()},y))})]}),r.length>0&&u.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 text-[9px] uppercase tracking-[0.12em] text-slate-400",children:r.map(y=>{let m="text-slate-600";y.tone==="primary"&&(m="text-slate-900"),y.tone==="success"&&(m="text-emerald-500"),y.tone==="danger"&&(m="text-rose-500"),y.tone==="muted"&&(m="text-slate-500");const x=y.monospace?"font-mono":"font-semibold";return u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{children:y.label}),u.jsx("div",{className:`text-[12px] tracking-normal ${m} ${x}`,children:y.value})]},y.label)})}),u.jsx("div",{className:"w-full h-[360px] sm:h-[480px]",ref:o})]})}function Z_({onPlaced:t,className:e="",variant:n="standalone"}){const{token:s}=Tt(),[i,r]=b.useState(100),[l,o]=b.useState(null),[a,c]=b.useState("");async function h(f){var p,g,y;if(!s){c("Login required");return}const v=Number(i);if(!Number.isFinite(v)||v<=0){c("Enter a valid amount");return}o(f),c("");try{const m=await X(s).post("/api/trades",{side:f,amount:v}),x=Number((p=m.data)==null?void 0:p.price);if(!Number.isFinite(x))throw new Error("Invalid fill price");c(`${f==="buy"?"Bought":"Sold"} $${v.toFixed(2)} @ ${x.toFixed(2)}`),t&&t(m.data)}catch(m){c(((y=(g=m==null?void 0:m.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed")}finally{o(null)}}const d=["space-y-3",n==="embedded"?"":"md:space-y-4",e].filter(Boolean).join(" ");return u.jsxs("div",{className:d,children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.16em] text-white/45",children:"Amount (USD)"}),u.jsx("input",{className:"input text-sm",type:"number",min:"0",step:"0.01",value:i,onChange:f=>r(f.target.value)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{className:"trade-btn trade-btn-buy text-sm",onClick:()=>h("buy"),disabled:l==="buy",children:l==="buy"?"Buying":"Buy @ Market"}),u.jsx("button",{className:"trade-btn trade-btn-sell text-sm",onClick:()=>h("sell"),disabled:l==="sell",children:l==="sell"?"Selling":"Sell @ Market"})]}),a&&u.jsx("div",{className:"text-[11px] text-white/60",children:a})]})}const ek=[30,60,120,300],tk=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function qt(t){const e=Number(t);return Number.isFinite(e)?tk.format(e):"$0.00"}function nk(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),s=e%60;return n<=0?`${s}s`:`${n}m ${s.toString().padStart(2,"0")}s`}function sk({summary:t,timeframe:e,onTimeframeChange:n,onAccountRefresh:s,symbol:i="BTCUSDT",onPriceUpdate:r,onBalanceSnapshot:l}){var K;const{token:o}=Tt(),[a,c]=b.useState(25),[h,d]=b.useState(60),[f,v]=b.useState(null),[p,g]=b.useState("Loading binary overview"),[y,m]=b.useState(null),[x,w]=b.useState(!1),[S,C]=b.useState(()=>Math.floor(Date.now()/1e3));b.useEffect(()=>{const B=setInterval(()=>C(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(B)},[]);const T=(K=y==null?void 0:y.durations)!=null&&K.length?y.durations:ek,M=(y==null?void 0:y.payoutRate)??.8,j=b.useCallback(async()=>{var B,O,G,N,k,P,$,I,ne;if(!o){m(null),g("Sign in to trade binary options");return}try{w(!0);const W=await X(o).get("/api/binary-trades/overview",{params:{limit:20}});m(W.data),(O=(B=W.data)==null?void 0:B.open)!=null&&O.length||(N=(G=W.data)==null?void 0:G.history)!=null&&N.length?g(""):g("No binary trades yet  place your first position to see results here."),(P=(k=W.data)==null?void 0:k.durations)!=null&&P.length&&!W.data.durations.includes(h)&&d(W.data.durations[0]),($=W.data)!=null&&$.balance&&(l==null||l(W.data.balance))}catch(W){g(((ne=(I=W==null?void 0:W.response)==null?void 0:I.data)==null?void 0:ne.error)||"Failed to load binary trades")}finally{w(!1)}},[o,h,l]);b.useEffect(()=>{j();const B=setInterval(()=>j(),5e3);return()=>clearInterval(B)},[j]);const D=b.useMemo(()=>{const B=S;return((y==null?void 0:y.open)||[]).map(O=>({...O,time_left:Math.max(0,Number(O.expiry_ts)-B)}))},[y==null?void 0:y.open,S]),A=b.useMemo(()=>(y==null?void 0:y.history)||[],[y==null?void 0:y.history]),V=(y==null?void 0:y.stats)||{total:0,win:0,lose:0,push:0,net:0},Z=(y==null?void 0:y.balance)||null;if(!o)return u.jsxs("div",{className:"rounded-3xl bg-white text-slate-900 p-4 sm:p-5 space-y-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-emerald-500",children:"Binary Options"}),u.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-3 py-2 text-[12px] text-amber-600",children:"Sign in to trade binary options."})]});async function ee(B){var G,N;if(!o){g("Sign in to trade binary options");return}const O=Number(a);if(!Number.isFinite(O)||O<=0){g("Enter a valid stake");return}v(B),g("");try{await X(o).post("/api/binary-trades",{direction:B,amount:O,duration:h}),await j(),s==null||s()}catch(k){g(((N=(G=k==null?void 0:k.response)==null?void 0:G.data)==null?void 0:N.error)||"Unable to place binary trade")}finally{v(null)}}return u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,320px)] items-start",children:[u.jsx(th,{symbol:i,summary:t,timeframe:e,onTimeframeChange:n,onPriceUpdate:r}),u.jsxs("div",{className:"rounded-3xl bg-white text-slate-900 p-4 sm:p-5 space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-emerald-500",children:"Binary Options"}),u.jsxs("div",{className:"text-sm text-slate-500",children:["Fixed payout ",Math.round(M*100),"%  Instant expiry settlement"]})]}),p&&u.jsx("div",{className:`rounded-2xl border px-3 py-2 text-[12px] ${p.includes("Failed")?"border-rose-200 bg-rose-50 text-rose-600":p.includes("Sign in")?"border-amber-200 bg-amber-50 text-amber-600":p.includes("No binary trades")?"border-slate-200 bg-slate-50 text-slate-600":"border-emerald-200 bg-emerald-50 text-emerald-600"}`,children:p}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(B=>u.jsx("button",{onClick:()=>d(B),className:`rounded-full border px-3 py-1.5 text-[11px] font-semibold transition ${h===B?"border-emerald-500 bg-emerald-100 text-emerald-700":"border-slate-200 bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:B>=60?`${B/60}m`:`${B}s`},B))}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.14em] text-slate-500",children:"Stake (USD)"}),u.jsx("input",{type:"number",min:"1",step:"1",value:a,onChange:B=>c(B.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-400",disabled:!o})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:()=>ee("call"),disabled:f==="call"||!o,className:"rounded-2xl bg-emerald-500 hover:bg-emerald-400 text-white font-semibold py-2 transition disabled:opacity-70",children:f==="call"?"Placing":"Call ()"}),u.jsx("button",{onClick:()=>ee("put"),disabled:f==="put"||!o,className:"rounded-2xl bg-rose-500 hover:bg-rose-400 text-white font-semibold py-2 transition disabled:opacity-70",children:f==="put"?"Placing":"Put ()"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[12px] rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.14em] text-slate-500",children:"Available"}),u.jsx("div",{className:"font-semibold",children:Z?qt(Z.available):"--"})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.14em] text-slate-500",children:"Locked"}),u.jsx("div",{className:"font-semibold",children:Z?qt(Z.locked):"--"})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-[12px] text-slate-600",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Trades"}),u.jsx("span",{children:V.total})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Wins"}),u.jsx("span",{className:"text-emerald-500 font-semibold",children:V.win})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Losses"}),u.jsx("span",{className:"text-rose-500 font-semibold",children:V.lose})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Push"}),u.jsx("span",{children:V.push})]}),u.jsxs("div",{className:"mt-2 border-t border-slate-200 pt-2 flex justify-between font-semibold",children:[u.jsx("span",{children:"Net Payout"}),u.jsx("span",{className:V.net>=0?"text-emerald-500":"text-rose-500",children:qt(V.net)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-500",children:"Open positions"}),u.jsxs("div",{className:"space-y-2",children:[D.length===0&&u.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-[12px] text-slate-500",children:"No open positions."}),D.map(B=>u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-[12px] flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold",children:B.direction==="call"?u.jsx("span",{className:"text-emerald-500",children:"Call "}):u.jsx("span",{className:"text-rose-500",children:"Put "})}),u.jsxs("div",{className:"text-slate-500",children:["Stake ",qt(B.stake)]}),u.jsxs("div",{className:"text-slate-500",children:["Potential ",qt(B.potential_return)]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-400",children:"Time Left"}),u.jsx("div",{className:"font-semibold text-slate-700",children:nk(B.time_left)}),u.jsxs("div",{className:"text-[11px] text-slate-400",children:["Entry ",qt(B.entry_price)]})]})]},B.id))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-500",children:"Recent results"}),u.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:[A.length===0&&u.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-[12px] text-slate-500",children:"No settlements yet."}),A.map(B=>u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-[12px] flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-slate-700",children:new Date((B.settled_ts||B.expiry_ts)*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),u.jsx("div",{className:"text-slate-500 capitalize",children:B.direction})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:`font-semibold ${B.result==="win"?"text-emerald-500":B.result==="lose"?"text-rose-500":B.result==="push"?"text-slate-500":"text-slate-400"}`,children:B.result==="win"?`+${qt(B.payout)}`:B.result==="lose"?`-${qt(B.stake)}`:B.result==="push"?"Push":"Pending"}),u.jsxs("div",{className:"text-[11px] text-slate-400",children:["Close ",qt(B.settlement_price??B.entry_price)]})]})]},B.id))]})]}),x&&u.jsx("div",{className:"text-[11px] text-slate-400 text-right",children:"Refreshing"})]})]})}const ik=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Ff(t){const e=Number(t);return Number.isFinite(e)?ik.format(e):"$0.00"}function Df(t){const e=Number(t);return Number.isFinite(e)?Math.abs(e)>=1?e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):e.toFixed(6):"0.0000"}function rk({onSelectPrice:t}){const{token:e}=Tt(),[n,s]=b.useState([]),[i,r]=b.useState(""),[l,o]=b.useState(!1),[a,c]=b.useState(""),[h,d]=b.useState("buy"),[f,v]=b.useState("limit"),[p,g]=b.useState(""),[y,m]=b.useState(""),[x,w]=b.useState(0),[S,C]=b.useState(!1),[T,M]=b.useState(!1),[j,D]=b.useState("orders"),[A,V]=b.useState(!1),Z=[25,50,75,100],ee=b.useRef(0),K=b.useMemo(()=>[{key:"orders",label:"Open Orders (0)",headers:["Pair","Type","Price","Amount","Filled","Status"],description:"No open orders yet. Submit a trade to see it appear here instantly."},{key:"holdings",label:"Holdings",headers:["Asset","Balance","Available","Value (USDT)"],description:"Connect your spot wallet to track balances and mark-to-market values."},{key:"grid",label:"Spot Grid",headers:[],description:"Grid trading unlocks soon. Configure price bands and auto-orders once released."}],[]),B=b.useMemo(()=>["Convert","Spot","Margin","Bots","Copy","Buy","P2P"],[]);b.useEffect(()=>{async function z(){var Ze,Me,lt;try{o(!0);const Ht=((Ze=(await X(e).get("/api/spot/markets")).data)==null?void 0:Ze.markets)||[];s(Ht),Ht.length&&r(cr=>cr||Ht[0].symbol),c("")}catch(ot){c(((lt=(Me=ot==null?void 0:ot.response)==null?void 0:Me.data)==null?void 0:lt.error)||"Failed to load spot markets")}finally{o(!1)}}z();const J=setInterval(z,45e3);return()=>clearInterval(J)},[e]),b.useEffect(()=>{const z=n.find(J=>J.symbol===i);z&&(g(String(z.price)),t==null||t(z),ee.current>0&&m(G(ee.current,z)))},[i,n,t]),b.useEffect(()=>{ee.current=x},[x]);const O=b.useMemo(()=>n.find(z=>z.symbol===i)||null,[n,i]);function G(z,J=O){if(!J)return"0.0000";const Ze=Number(J.price);if(!Number.isFinite(Ze)||Ze<=0)return(z/100).toFixed(4);const Me=z/100*(1/Ze);return!Number.isFinite(Me)||Me<=0?"0.0000":Me>=1?Me.toFixed(4):Me.toFixed(6)}const N=b.useMemo(()=>({background:`linear-gradient(90deg, rgba(16,185,129,0.8) 0%, rgba(16,185,129,0.8) ${x}%, rgba(226,232,240,0.8) ${x}%, rgba(226,232,240,0.8) 100%)`}),[x]);function k(z){const J=Math.min(100,Math.max(0,z));w(J),m(G(J))}function P(z){k(z)}function $(z){r(z),V(!1)}const I=b.useMemo(()=>{if(!O)return{asks:[],bids:[]};const z=Number(O.price)||0,J=Array.from({length:12}).map((Me,lt)=>{const ot=z*(1+(lt+1)*8e-4),Ht=Math.max(5e-4,z/ot)*(1+lt*.2);return{price:ot,amount:Ht}}),Ze=Array.from({length:12}).map((Me,lt)=>{const ot=z*(1-(lt+1)*8e-4),Ht=Math.max(5e-4,z/ot)*(1+lt*.2);return{price:ot,amount:Ht}});return{asks:J.reverse(),bids:Ze}},[O]),ne=O&&Number(O.change_24h)>=0?"text-emerald-500":"text-rose-500",W=b.useMemo(()=>{const z=Number(p),J=Number(y||x/100*1);return!Number.isFinite(z)||!Number.isFinite(J)?"0.00":(z*J).toFixed(2)},[p,y,x]),ge=b.useMemo(()=>K.find(z=>z.key===j)||K[0],[K,j]);function vt(){if(!ge)return null;if(ge.key==="grid")return u.jsx("div",{className:"rounded-2xl border border-dashed border-emerald-200 bg-emerald-50 px-6 py-8 text-center text-sm text-emerald-600 shadow-inner",children:ge.description});const z=ge.headers.length||1;return u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full table-auto text-sm text-slate-600",children:[u.jsx("thead",{className:"bg-slate-100 text-[11px] uppercase tracking-[0.12em] text-slate-400",children:u.jsx("tr",{children:ge.headers.map(J=>u.jsx("th",{className:`px-4 py-3 font-semibold ${J==="Pair"||J==="Asset"?"text-left":"text-right"}`,children:J},J))})}),u.jsx("tbody",{children:u.jsx("tr",{children:u.jsx("td",{colSpan:z,className:"px-4 py-10 text-center text-sm text-slate-400",children:ge.description})})})]})})})}return u.jsxs("div",{className:"space-y-6 text-slate-900 max-w-full overflow-x-hidden",children:[u.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 space-y-5",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-[11px] uppercase tracking-[0.14em] text-slate-400",children:[u.jsx("nav",{className:"flex w-full flex-wrap items-center justify-center gap-x-3 gap-y-2 sm:w-auto sm:justify-start",children:B.map(z=>u.jsx("span",{className:`cursor-pointer transition ${z==="Spot"?"text-emerald-500 font-semibold":"hover:text-slate-700"}`,children:z},z))}),l&&u.jsx("div",{className:"text-[11px] text-slate-500",children:"Refreshing"})]}),u.jsx("div",{className:"text-sm text-slate-500",children:"Top 100 Binance pairs mirrored for demo trading."}),a&&u.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-3 py-2 text-[12px] text-rose-600",children:a}),u.jsxs("div",{className:"grid w-full gap-4 lg:grid-cols-1 xl:grid-cols-[minmax(0,1fr)_minmax(0,320px)] items-start",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white w-full overflow-hidden min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 text-[11px] uppercase tracking-[0.16em] text-slate-500 border-b border-slate-200",children:[u.jsx("span",{children:"Order Book"}),u.jsx("div",{className:"text-[10px] text-slate-400",children:"Depth  Demo"})]}),u.jsxs("div",{className:"px-4 py-3 space-y-3",children:[u.jsx("div",{className:"space-y-1",children:I.asks.map((z,J)=>u.jsxs("div",{className:"flex items-center justify-between text-[12px] text-rose-500",children:[u.jsx("span",{className:"font-semibold",children:z.price.toFixed(2)}),u.jsx("span",{children:Df(z.amount)})]},`ask-${J}`))}),u.jsxs("div",{className:"py-3 border-y border-slate-200 text-center space-y-1",children:[u.jsx("div",{className:"text-xl font-bold tracking-tight text-slate-900",children:O?O.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"--"}),u.jsx("div",{className:`text-[12px] font-semibold ${ne}`,children:O?`${Number(O.change_24h)>=0?"+":""}${Number(O.change_24h).toFixed(2)}%`:"--"})]}),u.jsx("div",{className:"space-y-1",children:I.bids.map((z,J)=>u.jsxs("div",{className:"flex items-center justify-between text-[12px] text-emerald-500",children:[u.jsx("span",{className:"font-semibold",children:z.price.toFixed(2)}),u.jsx("span",{children:Df(z.amount)})]},`bid-${J}`))})]})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 space-y-4 w-full overflow-hidden min-w-0",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-start sm:justify-between",children:[u.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:min-w-[220px]",children:[u.jsxs("button",{type:"button",onClick:()=>V(!0),className:"inline-flex w-full items-center justify-between gap-3 rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 outline-none transition hover:border-emerald-300 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200 sm:w-56",children:[u.jsx("span",{children:i||"Select pair"}),u.jsx("span",{className:"text-xs text-slate-400",children:""})]}),O&&u.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[u.jsxs("span",{className:"flex items-center gap-1",children:["24h Change",u.jsxs("span",{className:`font-semibold ${ne}`,children:[Number(O.change_24h)>=0?"+":"",Number(O.change_24h).toFixed(2),"%"]})]}),u.jsxs("span",{className:"flex items-center gap-1",children:["Volume",u.jsx("span",{className:"font-semibold text-slate-700",children:Ff(O.volume_24h)})]})]})]}),O&&u.jsxs("div",{className:"order-3 w-full space-y-1 text-left sm:order-none sm:w-auto sm:text-right sm:min-w-[160px]",children:[u.jsx("div",{className:"text-2xl font-semibold text-slate-900",children:O.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),u.jsxs("div",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:["Last Price (",O.quote_asset,")"]})]})]}),u.jsxs("div",{className:"flex w-full rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] uppercase tracking-[0.12em] font-semibold",children:[u.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 transition ${h==="buy"?"bg-emerald-500 text-white shadow":"text-slate-600 hover:text-emerald-500"}`,onClick:()=>d("buy"),children:"Buy"}),u.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 transition ${h==="sell"?"bg-rose-500 text-white shadow":"text-slate-600 hover:text-rose-500"}`,onClick:()=>d("sell"),children:"Sell"})]}),u.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] uppercase tracking-[0.12em] text-slate-500",children:[u.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 font-semibold transition ${f==="limit"?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:text-slate-900"}`,onClick:()=>v("limit"),children:"Limit"}),u.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 font-semibold transition ${f==="market"?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:text-slate-900"}`,onClick:()=>v("market"),children:"Market"}),u.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 font-semibold transition ${f==="stop"?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:text-slate-900"}`,onClick:()=>v("stop"),children:"Stop"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-xs text-slate-500 uppercase tracking-[0.12em]",children:["Price (",(O==null?void 0:O.quote_asset)||"USDT",")"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{value:p,onChange:z=>g(z.target.value),className:"flex-1 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 text-sm font-medium text-slate-700 outline-none transition focus:border-emerald-400 focus:bg-white focus:ring-2 focus:ring-emerald-200",placeholder:"0.00"}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("button",{type:"button",className:"rounded-full border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-500 transition hover:border-emerald-300 hover:text-emerald-600",onClick:()=>g(z=>String(Number(z||(O==null?void 0:O.price)||0)+1)),children:"+"}),u.jsx("button",{type:"button",className:"rounded-full border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-500 transition hover:border-rose-300 hover:text-rose-500",onClick:()=>g(z=>String(Math.max(0,Number(z||(O==null?void 0:O.price)||0)-1))),children:"-"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"block text-xs text-slate-500 uppercase tracking-[0.12em]",children:["Amount (",(O==null?void 0:O.base_asset)||"BTC",")"]}),u.jsx("input",{value:y,onChange:z=>m(z.target.value),className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 text-sm font-medium text-slate-700 outline-none transition focus:border-emerald-400 focus:bg-white focus:ring-2 focus:ring-emerald-200",placeholder:"0.00"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:"Amount Slider"}),u.jsxs("span",{children:[x,"%"]})]}),u.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:x,onChange:z=>k(Number(z.target.value)),style:N,className:"w-full h-2 cursor-pointer rounded-full border-none bg-slate-200 outline-none transition focus:ring-2 focus:ring-emerald-300"}),u.jsx("div",{className:"flex items-center justify-between gap-2",children:Z.map(z=>u.jsxs("button",{type:"button",onClick:()=>P(z),className:`flex-1 rounded-full border text-xs font-semibold transition ${x===z?"border-emerald-400 bg-emerald-50 text-emerald-600 shadow-sm":"border-slate-200 bg-white text-slate-500 hover:border-emerald-300 hover:text-emerald-500"}`,children:[z,"%"]},z))})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-xs text-slate-500 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold uppercase tracking-[0.12em] text-slate-400",children:[u.jsx("span",{children:"Order Settings"}),u.jsx("span",{children:f==="market"?"Market":"Limit"})]}),u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsxs("label",{className:"inline-flex items-center gap-2 font-semibold text-slate-600",children:[u.jsx("input",{type:"checkbox",checked:S,onChange:z=>C(z.target.checked)})," TP/SL"]}),u.jsxs("label",{className:"inline-flex items-center gap-2 font-semibold text-slate-600",children:[u.jsx("input",{type:"checkbox",checked:T,onChange:z=>M(z.target.checked)})," Iceberg"]})]}),u.jsxs("dl",{className:"grid grid-cols-2 gap-x-6 gap-y-2 text-[13px] text-slate-600",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:"Available"}),u.jsx("dd",{className:"font-semibold text-slate-700",children:""})]}),u.jsxs("div",{className:"space-y-0.5 text-right",children:[u.jsx("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:h==="buy"?"Max Buy":"Max Sell"}),u.jsx("dd",{className:"font-semibold text-slate-700",children:""})]}),u.jsxs("div",{className:"space-y-0.5",children:[u.jsx("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:"Est. Fee"}),u.jsx("dd",{className:"font-semibold text-slate-700",children:""})]}),u.jsxs("div",{className:"space-y-0.5 text-right",children:[u.jsxs("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:["Total (",(O==null?void 0:O.quote_asset)||"USDT",")"]}),u.jsx("dd",{className:"text-sm font-bold text-slate-900",children:W})]})]})]}),u.jsx("button",{type:"button",className:`w-full rounded-2xl py-3 text-sm font-semibold text-white transition ${h==="buy"?"bg-gradient-to-r from-emerald-500 to-emerald-400 hover:brightness-110":"bg-gradient-to-r from-rose-500 to-rose-400 hover:brightness-110"}`,onClick:()=>alert("Spot trading engine is under development. This action will be enabled in a later step."),children:h==="buy"?`Buy ${(O==null?void 0:O.base_asset)||""}`:`Sell ${(O==null?void 0:O.base_asset)||""}`})]})]})]}),u.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white text-slate-900 p-4 sm:p-5 space-y-4 w-full overflow-hidden",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 pb-1",children:[u.jsx("nav",{className:"flex w-full flex-wrap items-center justify-center gap-3 text-sm font-semibold sm:w-auto sm:justify-start",children:K.map(z=>u.jsxs("button",{type:"button",onClick:()=>D(z.key),className:`relative pb-3 transition ${j===z.key?"text-emerald-500":"text-slate-500 hover:text-slate-700"}`,children:[z.label,j===z.key&&u.jsx("span",{className:"absolute inset-x-0 -bottom-px h-[2px] rounded-full bg-emerald-500"})]},z.key))}),u.jsx("button",{type:"button",className:"text-xs font-semibold uppercase tracking-[0.16em] text-slate-400 hover:text-emerald-500",children:"Export CSV"})]}),vt()]}),A&&u.jsx("div",{className:"fixed inset-0 z-50 flex flex-col bg-slate-900/50 backdrop-blur-sm",children:u.jsxs("div",{className:"mt-auto rounded-t-3xl border-t border-slate-200 bg-white shadow-xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-5 py-4 text-slate-900",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold",children:"Markets"}),u.jsx("div",{className:"text-[12px] text-slate-500",children:"Select from the full pair list"})]}),u.jsx("button",{type:"button",onClick:()=>V(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 hover:text-slate-600",children:""})]}),u.jsx("div",{className:"max-h-[65vh] overflow-y-auto px-5 pb-6 space-y-2",children:n.map(z=>{const J=Number(z.change_24h),Ze=Number.isFinite(J)?J>=0?"text-emerald-500":"text-rose-500":"text-slate-400",Me=i===z.symbol;return u.jsxs("button",{onClick:()=>$(z.symbol),className:`flex w-full items-center justify-between rounded-2xl border px-4 py-3 text-left text-sm transition ${Me?"border-emerald-300 bg-emerald-50 text-emerald-700 shadow-sm":"border-slate-200 bg-white text-slate-700 hover:border-emerald-200"}`,children:[u.jsxs("span",{className:"flex items-center gap-3",children:[u.jsx("img",{src:z.logo_url,alt:z.base_asset,className:"h-8 w-8 rounded-full border border-slate-100 bg-white object-contain",onError:lt=>{lt.currentTarget.style.visibility="hidden"}}),u.jsxs("span",{className:"flex flex-col",children:[u.jsx("span",{className:"font-semibold",children:z.symbol}),u.jsx("span",{className:"text-[12px] text-slate-400",children:Ff(z.price)})]})]}),u.jsx("span",{className:`text-sm font-semibold ${Ze}`,children:Number.isFinite(J)?`${J>=0?"+":""}${J.toFixed(2)}%`:"--"})]},z.symbol)})})]})})]})}function lk(){const{token:t}=Tt(),[e,n]=b.useState(null),[s,i]=b.useState(!1);if(b.useEffect(()=>{if(!t){n(null);return}let o=!0;return X(t).get("/api/referrals").then(a=>{o&&n(a.data)}).catch(a=>{console.error("Failed to load referrals",a)}),()=>{o=!1}},[t]),!e)return null;const r=typeof window<"u"?`${window.location.origin}/signup?ref=${e.referral_code}`:e.referral_code,l=async()=>{if(!(typeof navigator>"u"||!navigator.clipboard))try{await navigator.clipboard.writeText(r),i(!0),setTimeout(()=>i(!1),2e3)}catch(o){console.error("Failed to copy referral link",o)}};return u.jsxs("div",{className:"card space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.2em] text-white/45",children:"Referral"}),u.jsx("div",{className:"text-lg font-semibold",children:"Share & earn"})]}),u.jsx("p",{className:"text-[12px] text-white/60",children:"Invite friends and receive bonuses when they start trading."}),u.jsx("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-2 text-[12px] font-mono break-all",children:r}),u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[12px]",children:[u.jsxs("span",{className:"text-white/60",children:["Total referred: ",u.jsx("span",{className:"text-brand font-semibold",children:e.referred_count})]}),u.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/10 transition",children:s?"Copied!":"Copy link"})]})]})}const ok=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function ak(){const[t,e]=b.useState([]);return b.useEffect(()=>{X().get("/api/trades/leaderboard").then(n=>e(n.data||[])).catch(n=>console.error("Failed to load leaderboard",n))},[]),u.jsxs("div",{className:"card space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.2em] text-white/45",children:"Top Traders"}),u.jsx("div",{className:"text-lg font-semibold",children:"Leaderboard"})]}),u.jsxs("span",{className:"text-[11px] text-white/50",children:[t.length," entries"]})]}),t.length===0?u.jsx("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-4 text-center text-[12px] text-white/55",children:"No leaderboard entries yet."}):u.jsx("div",{className:"space-y-2",children:t.map((n,s)=>{const i=Number(n.realized_pnl||0),r=i>=0?"text-emerald-400":"text-rose-400";return u.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/5 bg-black/15 px-3 py-2.5 text-[13px]",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"w-6 text-[12px] text-white/45 font-medium",children:["#",s+1]}),u.jsx("span",{className:"font-semibold text-white/80",children:n.handle||n.email||"anon"})]}),u.jsx("div",{className:`font-mono ${r}`,children:ok.format(i)})]},n.user_id??s)})})]})}const uk=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),ck=uk,hk=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function At(t){const e=Number(t);if(!Number.isFinite(e))return"$0.00";const n=Math.abs(e);return n>0&&n<.01?`${e<0?"-":""}$${n.toFixed(4)}`:hk.format(e)}function dk(){const{token:t}=Tt(),[e,n]=b.useState(null),[s,i]=b.useState(null),[r,l]=b.useState([]),[o,a]=b.useState([]),[c,h]=b.useState({available:0,locked:0,total:0}),[d,f]=b.useState(0),[v,p]=b.useState(0),[g,y]=b.useState(0),[m,x]=b.useState(1e4),[w,S]=b.useState(!1),[C,T]=b.useState(1e-4),[M,j]=b.useState(!1),[D,A]=b.useState([]),[V,Z]=b.useState(0),[ee,K]=b.useState(0),[B,O]=b.useState(null),G=qn(_=>_.setSummary),N=qn(_=>_.clear),[k,P]=b.useState("1m"),[$,I]=b.useState("forex");b.useEffect(()=>{async function _(){try{const se=await(await fetch(`${ck}/api/market/state`)).json();n(se),i((se==null?void 0:se.currentPrice)??null)}catch(Y){console.error("Failed to load market state",Y)}}_()},[]);const ne=b.useCallback(_=>{_&&(_.currentPrice!=null&&i(_.currentPrice),_.openTrades&&l(_.openTrades),_.recentTrades&&a(_.recentTrades),_.balance&&h({available:Number(_.balance.available??0),locked:Number(_.balance.locked??0),total:Number(_.balance.total??Number(_.balance.available??0)+Number(_.balance.locked??0))}),_.equity!=null&&f(Number(_.equity)),_.openPnl!=null&&p(Number(_.openPnl)),_.openPips!=null&&y(Number(_.openPips)),_.initialBalance!=null&&x(Number(_.initialBalance)),_.pipSize!=null&&T(Number(_.pipSize)),_.marginUsed!=null&&Z(Number(_.marginUsed)),_.freeMargin!=null&&K(Number(_.freeMargin)),_.marginLevel!=null&&O(Number(_.marginLevel)),G(_))},[G]),W=b.useCallback(async()=>{if(!t){l([]),a([]),h({available:0,locked:0,total:0}),f(0),p(0),y(0),Z(0),K(0),O(null),N();return}S(!0);try{const _=await X(t).get("/api/trades/overview",{params:{limit:10}});ne(_.data)}catch(_){console.error("Failed to load trades",_)}finally{S(!1)}},[t,ne,N]),ge=b.useCallback(_=>{if(!_)return;const Y=Number(_.available??0),se=Number(_.locked??0),fe=_.total!=null?Number(_.total):Y+se,pe=Math.round(fe*100)/100,$e=Math.round((pe-se)*100)/100,at=se>0?Math.round(pe/se*100*100)/100:null;h({available:Y,locked:se,total:pe}),f(pe),Z(Math.round(se*100)/100),K($e),O(at);const xt=qn.getState().summary||{};G({...xt,balance:{available:Y,locked:se,total:pe},equity:pe,marginUsed:Math.round(se*100)/100,freeMargin:$e,marginLevel:at})},[G]);b.useEffect(()=>{t&&W()},[t,W]),b.useEffect(()=>{if(!Number.isFinite(s)){p(0),y(0),f(Number((c.available+c.locked).toFixed(2)));return}let _=0,Y=0;for(const fe of r){const pe=Number(fe.qty||0),$e=Number(fe.remaining_qty??pe);if(!pe||!$e)continue;const at=Number(fe.price||0),xt=fe.side==="sell"?-1:1,Ue=Number(fe.pip_size??C),Pt=Ue>0?(s-at)/Ue*xt:0,Ae=Number(fe.pip_value??$e/pe),Lt=Pt*Ae;Y+=Lt,_+=Lt}const se=c.available+c.locked+_;p(Number(_.toFixed(2))),y(Number(Y.toFixed(2))),f(Number(se.toFixed(2)))},[s,r,c,C]);const vt=s??(e==null?void 0:e.currentPrice),z=Number(vt),J=Number((e==null?void 0:e.volatility)??0),Ze=!!(e!=null&&e.paused),Me=e!=null&&e.updated_at?new Date(e.updated_at):null,lt=Number.isFinite(J)?`${(J*100).toFixed(1)}%`:"--",ot=Me?`${Me.toLocaleDateString()} ${Me.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"--",Ht=Ze?"Paused":"Live",cr=[{label:"Pair",value:`${(e==null?void 0:e.symbol)||"BTCUSDT"}  Spot`,tone:"muted"},{label:"Price",value:Number.isFinite(z)?z.toFixed(2):"--",tone:"primary",monospace:!0},{label:"Market",value:Ht,tone:Ze?"danger":"success"},{label:"Updated",value:ot,tone:"muted"}],hr=b.useMemo(()=>(o||[]).map(_=>{const Y=Number(_.qty||0),se=Number(_.remaining_qty??Y),fe=_.status==="open"&&se>1e-8,pe=Number(_.price||0),$e=Number(_.exit_price||_.price||0),at=Number(_.pip_size??C),xt=Number(_.notional??pe*Y),Ue=Number(_.stake_amount??xt),Pt=Number(_.pip_value??(fe?Ue:0)),Ae=fe&&Number.isFinite(s)?s:$e,Lt=_.side==="sell"?-1:1,an=at>0?(Ae-pe)/at*Lt:0,Ys=fe?an:Number(_.pips_realized??an),$g=fe?an*Pt:Number(_.pnl??Ys*Ue),Ag=Number(_.pips_realized??0);return{..._,qty:Y,remaining:se,isOpen:fe,stakeAmount:Ue,remainingStake:Pt,totalNotional:xt,pipValue:Pt,realizedPips:Ag,displayPrice:Number.isFinite(Ae)?Ae:null,livePnl:$g,livePips:Ys}}),[o,s,C]),wo=b.useMemo(()=>new Set(D),[D]),nh=r.some(_=>Number(_.remaining_qty||0)>1e-8),Pg=Number.isFinite(g)?`${g>=0?"+":""}${g.toFixed(2)} pips`:"--",Lg=[{label:"Balance",value:c.total,accentClass:"text-white"},{label:"Available",value:c.available,accentClass:"text-emerald-400"},{label:"Equity",value:d,accentClass:"text-white"},{label:"Margin Used",value:V,accentClass:"text-sky-300"},{label:"Free Margin",value:ee,accentClass:"text-emerald-400"},{label:"Open P/L",value:v,accentClass:v>=0?"text-emerald-400":"text-rose-400",secondary:Pg},{label:"Margin Level",value:B,formatter:_=>_==null?"":`${Number(_).toFixed(2)}%`}];function zg({label:_,value:Y,accentClass:se="",secondary:fe,formatter:pe=At}){const $e=pe?pe(Y):Y;return u.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/20 px-3 py-3 sm:px-4 sm:py-4 flex flex-col gap-1.5",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:_}),u.jsx("div",{className:`text-sm sm:text-base font-mono leading-tight ${se}`,children:$e??"--"}),fe!=null&&u.jsx("div",{className:"text-[11px] text-white/55 leading-tight",children:fe})]},_)}async function sh(_){if(!(!t||wo.has(_))){A(Y=>[...Y,_]);try{const Y=await X(t).post(`/api/trades/${_}/close`);ne(Y.data)}catch(Y){console.error("Failed to close trade",Y)}finally{A(Y=>Y.filter(se=>se!==_))}}}async function Og(){if(!(!t||!nh)){j(!0);try{const _=await X(t).post("/api/trades/close-all");ne(_.data),A([])}catch(_){console.error("Failed to close all trades",_)}finally{j(!1)}}}return u.jsxs("div",{className:"grid gap-4 lg:gap-5 xl:grid-cols-[minmax(0,1.85fr)_minmax(0,1fr)]",children:[u.jsxs("div",{className:"space-y-4 lg:space-y-5",children:[u.jsxs("section",{className:"space-y-4 md:space-y-5",children:[u.jsx("div",{className:"flex items-center gap-1.5 text-xs font-semibold uppercase tracking-[0.22em] text-white/50",children:[{key:"forex",label:"Forex"},{key:"binary",label:"Binary"},{key:"spot",label:"Spot"},{key:"web3",label:"Web3"}].map(({key:_,label:Y})=>u.jsx("button",{onClick:()=>I(_),className:`rounded-full border px-3 py-1.5 transition ${$===_?"border-brand/80 bg-brand text-black shadow-[0_12px_24px_rgba(0,223,154,0.35)]":"border-white/15 bg-white/5 text-white/70 hover:bg-white/10"}`,children:Y},_))}),$==="forex"&&u.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,320px)] items-start",children:[u.jsx(th,{symbol:(e==null?void 0:e.symbol)||"BTCUSDT",trades:r,onPriceUpdate:i,timeframe:k,onTimeframeChange:P,summary:cr}),u.jsxs("div",{className:"rounded-3xl border border-white/10 bg-black/20 p-4 sm:p-5",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-white/60 mb-3",children:"Forex Order"}),u.jsx(Z_,{variant:"embedded",onPlaced:_=>{ne(_)}})]})]}),$==="binary"&&u.jsx(sk,{summary:cr,timeframe:k,onTimeframeChange:P,onAccountRefresh:W,symbol:(e==null?void 0:e.symbol)||"BTCUSDT",onPriceUpdate:i,onBalanceSnapshot:ge}),$==="spot"&&u.jsx(rk,{onSelectPrice:_=>{i((_==null?void 0:_.price)??s)}}),$==="web3"&&u.jsx("div",{className:"rounded-3xl border border-white/10 bg-black/20 p-6 text-sm text-white/60",children:"Web3 trading module is on the way."})]}),u.jsxs("section",{className:"card space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:"Account"}),u.jsx("div",{className:"text-lg font-semibold text-white/90",children:"Demo Balance"}),u.jsxs("div",{className:"text-[11px] text-white/55",children:["Initial deposit ",At(m)]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px] sm:text-xs sm:min-w-[240px]",children:[u.jsxs("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-[0.16em] text-white/45",children:"Pip Size"}),u.jsx("div",{className:"font-mono text-sm",children:C})]}),u.jsxs("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-[0.16em] text-white/45",children:"Volatility"}),u.jsx("div",{className:"font-mono text-sm",children:lt})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 xl:grid-cols-4",children:Lg.map(zg)})]}),u.jsxs("section",{className:"card space-y-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:"Current Orders"}),u.jsx("div",{className:"text-lg font-semibold",children:"Recent Trades"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[w&&u.jsx("span",{className:"text-white/50",children:"Updating"}),nh&&u.jsx("button",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 font-medium hover:bg-white/10 transition disabled:opacity-60",onClick:Og,disabled:M,children:M?"Closing":"Close All"})]})]}),u.jsx("div",{className:"hidden md:block overflow-auto",children:u.jsxs("table",{className:"w-full text-[12px]",children:[u.jsx("thead",{className:"text-white/55 uppercase tracking-[0.12em] text-[10px]",children:u.jsxs("tr",{className:"text-left",children:[u.jsx("th",{className:"p-2",children:"Time"}),u.jsx("th",{className:"p-2",children:"Side"}),u.jsx("th",{className:"p-2 text-right",children:"Amount"}),u.jsx("th",{className:"p-2 text-right",children:"Size"}),u.jsx("th",{className:"p-2 text-right",children:"Entry"}),u.jsx("th",{className:"p-2 text-right",children:"Current"}),u.jsx("th",{className:"p-2 text-right",children:"P/L"}),u.jsx("th",{className:"p-2 text-right",children:"Status"}),u.jsx("th",{className:"p-2 text-right",children:"Action"})]})}),u.jsxs("tbody",{className:"divide-y divide-white/5",children:[hr.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:9,className:"p-4 text-center text-white/50",children:"No trades yet."})}),hr.map(_=>{var Ae,Lt,an,Ys;const Y=_.created_at?new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",se=Number.isFinite(_.remaining)&&_.isOpen?`${_.remaining.toFixed(6)} / ${_.qty.toFixed(6)}`:_.qty.toFixed(6),fe=_.displayPrice!=null?_.displayPrice.toFixed(2):"--",pe=Number.isFinite(_.livePnl)?_.livePnl:0,$e=_.isOpen?_.livePips:_.realizedPips,at=Number.isFinite($e)?$e:0,xt=pe>=0?"text-emerald-400":"text-rose-400",Ue=wo.has(_.id),Pt=_.isOpen&&_.stakeAmount?`${At(_.remainingStake)} / ${At(_.stakeAmount)}`:At(_.stakeAmount||_.remainingStake);return u.jsxs("tr",{children:[u.jsx("td",{className:"p-2 text-white/70",children:Y}),u.jsx("td",{className:`p-2 font-semibold ${_.side==="buy"?"text-emerald-400":"text-rose-400"}`,children:((Lt=(Ae=_.side)==null?void 0:Ae.toUpperCase)==null?void 0:Lt.call(Ae))||_.side}),u.jsx("td",{className:"p-2 text-right font-mono",children:Pt}),u.jsx("td",{className:"p-2 text-right font-mono",children:se}),u.jsx("td",{className:"p-2 text-right font-mono",children:((Ys=(an=_.price)==null?void 0:an.toFixed)==null?void 0:Ys.call(an,2))??"--"}),u.jsx("td",{className:"p-2 text-right font-mono",children:fe}),u.jsxs("td",{className:`p-2 text-right font-mono ${xt}`,children:[u.jsx("div",{children:At(pe)}),u.jsxs("div",{className:"text-[10px] text-white/55",children:[at>=0?"+":"",at.toFixed(2)," pips"]})]}),u.jsx("td",{className:"p-2 text-right text-white/50",children:_.isOpen?"Open":"Closed"}),u.jsx("td",{className:"p-2 text-right",children:_.isOpen?u.jsx("button",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/10 transition disabled:opacity-60",onClick:()=>sh(_.id),disabled:Ue,children:Ue?"Closing":"Close"}):u.jsx("span",{className:"text-white/35 text-[11px]",children:""})})]},_.id)})]})]})}),u.jsxs("div",{className:"space-y-3 md:hidden",children:[hr.length===0&&u.jsx("div",{className:"text-center text-white/50 text-[12px]",children:"No trades yet."}),hr.map(_=>{var Ue,Pt,Ae,Lt;const Y=_.created_at?new Date(_.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",se=Number.isFinite(_.remaining)&&_.isOpen?`${_.remaining.toFixed(5)} / ${_.qty.toFixed(5)}`:_.qty.toFixed(5),fe=Number.isFinite(_.livePnl)?_.livePnl:0,pe=_.isOpen?_.livePips:_.realizedPips,$e=Number.isFinite(pe)?pe:0,at=fe>=0?"text-emerald-400":"text-rose-400",xt=wo.has(_.id);return u.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/15 p-3 space-y-2 text-[11px]",children:[u.jsxs("div",{className:"flex justify-between text-white/50 text-[10px] uppercase tracking-[0.12em]",children:[u.jsx("span",{children:Y}),u.jsx("span",{children:_.isOpen?"Open":"Closed"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:`font-semibold ${_.side==="buy"?"text-emerald-400":"text-rose-400"}`,children:((Pt=(Ue=_.side)==null?void 0:Ue.toUpperCase)==null?void 0:Pt.call(Ue))||_.side}),u.jsx("div",{className:"text-white/60 text-[11px]",children:se})]}),u.jsxs("div",{className:"text-white/55 text-[10px]",children:["Entry ",((Lt=(Ae=_.price)==null?void 0:Ae.toFixed)==null?void 0:Lt.call(Ae,2))??"--","  Current ",_.displayPrice!=null?_.displayPrice.toFixed(2):"--"]}),u.jsxs("div",{className:"flex items-end justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-white/45 text-[9px] uppercase tracking-[0.14em]",children:"Amount"}),u.jsx("div",{className:"font-mono text-[11px]",children:_.isOpen&&_.stakeAmount?`${At(_.remainingStake)} / ${At(_.stakeAmount)}`:At(_.stakeAmount||_.remainingStake)})]}),u.jsxs("div",{className:`font-mono text-right ${at}`,children:[u.jsx("div",{children:At(fe)}),u.jsxs("div",{className:"text-[9px] text-white/55",children:[$e>=0?"+":"",$e.toFixed(2)," pips"]})]}),_.isOpen?u.jsx("button",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-[10px] font-medium hover:bg-white/10 transition disabled:opacity-60",onClick:()=>sh(_.id),disabled:xt,children:xt?"...":"Close"}):u.jsx("span",{className:"text-white/35 text-[10px]",children:""})]})]},_.id)})]})]})]}),u.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[u.jsx(ak,{}),u.jsx(lk,{}),u.jsxs("div",{className:"card space-y-2 text-[11px] text-white/65",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:"Notes"}),u.jsx("p",{children:"Market is simulated and may be paused or moved by Admin. This build is for demo/testing."})]})]})]})}function fk(){const{token:t,user:e,login:n}=Tt(),[s,i]=b.useState((e==null?void 0:e.name)||""),[r,l]=b.useState((e==null?void 0:e.handle)||""),[o,a]=b.useState("");async function c(){var h,d;a("");try{const f=await X(t).put("/api/me",{name:s,handle:r}),v={...e,...f.data};n(localStorage.getItem("token"),v),a("Saved")}catch(f){a(((d=(h=f==null?void 0:f.response)==null?void 0:h.data)==null?void 0:d.error)||"Failed")}}return u.jsxs("div",{className:"card space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Display name"}),u.jsx("input",{className:"input",value:s,onChange:h=>i(h.target.value)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Handle"}),u.jsx("input",{className:"input",value:r,onChange:h=>l(h.target.value)})]}),u.jsx("button",{className:"btn",onClick:c,children:"Save changes"}),o&&u.jsx("div",{className:"text-xs text-white/60",children:o})]})}function pk(){const{user:t}=Tt();return u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsx(fk,{}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"font-bold mb-2",children:"Your account"}),u.jsxs("div",{className:"text-sm space-y-1",children:[u.jsxs("div",{children:["Email: ",u.jsx("span",{className:"text-white/70",children:t==null?void 0:t.email})]}),u.jsxs("div",{children:["Role: ",u.jsx("span",{className:"text-white/70",children:t==null?void 0:t.role})]}),u.jsxs("div",{children:["Referral code: ",u.jsx("span",{className:"text-brand",children:t==null?void 0:t.referral_code})]})]})]})]})}const mk=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function Bf(t){const e=Number(t);return Number.isFinite(e)?mk.format(e):"$0.00"}function gk(){const{token:t}=Tt(),[e,n]=b.useState([]);return b.useEffect(()=>{X(t).get("/api/trades").then(s=>n(s.data))},[t]),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"text-lg font-bold mb-2",children:"Your trades"}),u.jsx("div",{className:"overflow-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"text-white/60",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-2",children:"Time"}),u.jsx("th",{className:"text-right p-2",children:"Side"}),u.jsx("th",{className:"text-right p-2",children:"Amount ($)"}),u.jsx("th",{className:"text-right p-2",children:"Size"}),u.jsx("th",{className:"text-right p-2",children:"Entry"}),u.jsx("th",{className:"text-right p-2",children:"Exit"}),u.jsx("th",{className:"text-right p-2",children:"Pips"}),u.jsx("th",{className:"text-right p-2",children:"PnL"})]})}),u.jsx("tbody",{children:e.map(s=>{const i=Number(s.qty||0),r=Number(s.stake_amount??s.notional??s.price*i),l=Number(s.pip_size??1e-4),o=Number(s.pip_value??i*l),a=Number(s.pnl??0),c=Number(s.pips_realized??(o>0?a/o:0));return u.jsxs("tr",{className:"border-t border-white/10",children:[u.jsx("td",{className:"p-2",children:new Date(s.created_at).toLocaleString()}),u.jsx("td",{className:"p-2 text-right",children:s.side}),u.jsx("td",{className:"p-2 text-right font-mono",children:Bf(r)}),u.jsx("td",{className:"p-2 text-right font-mono",children:i.toFixed(6)}),u.jsx("td",{className:"p-2 text-right font-mono",children:Number(s.price||0).toFixed(2)}),u.jsx("td",{className:"p-2 text-right font-mono",children:Number(s.exit_price??s.price??0).toFixed(2)}),u.jsx("td",{className:"p-2 text-right font-mono",children:`${c>=0?"+":""}${c.toFixed(2)}`}),u.jsx("td",{className:"p-2 text-right font-mono",children:Bf(a)})]},s.id)})})]})})]})}function vk(){const[t]=v0(),e=t.get("token")||"",[n,s]=b.useState(""),[i,r]=b.useState(""),[l,o]=b.useState(!1),[a,c]=b.useState(!1),[h,d]=b.useState("");async function f(){d("");try{await X().post("/api/auth/request-password-reset",{email:n}),o(!0)}catch{d("Failed to request reset")}}async function v(){var p,g;d("");try{await X().post("/api/auth/reset-password",{token:e,new_password:i}),c(!0)}catch(y){d(((g=(p=y==null?void 0:y.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to reset")}}return e?u.jsxs("div",{className:"max-w-md mx-auto card",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Set a new password"}),a?u.jsx("div",{className:"text-green-400",children:"Password updated. You can now log in."}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"New password"}),u.jsx("input",{className:"input",type:"password",value:i,onChange:p=>r(p.target.value)})]}),u.jsx("button",{className:"btn w-full",onClick:v,children:"Update password"}),h&&u.jsx("div",{className:"text-red-400",children:h})]})]}):u.jsxs("div",{className:"max-w-md mx-auto card",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"Reset your password"}),u.jsx("p",{className:"text-white/70 mb-4 text-sm",children:"Enter your email. A reset link (for dev) is printed in the server logs."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"label",children:"Email"}),u.jsx("input",{className:"input",value:n,onChange:p=>s(p.target.value),placeholder:"you@example.com"})]}),u.jsx("button",{className:"btn w-full",onClick:f,children:"Send reset link"}),l&&u.jsx("div",{className:"text-green-400 text-sm",children:"If that email exists, a link has been generated (see server logs)."}),h&&u.jsx("div",{className:"text-red-400",children:h})]})]})}function xk(){const[t,e]=b.useState(""),[n,s]=b.useState(""),[i,r]=b.useState(!1),[l,o]=b.useState(""),a=os(d=>d.login),c=On(),h=async d=>{var f,v;d.preventDefault(),o(""),r(!0);try{const p=await X().post("/api/auth/admin/login",{email:t,password:n});a(p.data.token,p.data.user),c("/admin",{replace:!0})}catch(p){o(((v=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:v.error)||"Invalid admin credentials")}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center px-4",children:u.jsxs("div",{className:"w-full max-w-md rounded-3xl bg-white shadow-2xl border border-slate-100 p-8 space-y-6",children:[u.jsxs("div",{className:"space-y-2 text-center",children:[u.jsx("div",{className:"text-sm uppercase tracking-[0.4em] text-slate-400",children:"Administrator"}),u.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Secure Console"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Sign in with your admin credentials to orchestrate the market."})]}),u.jsxs("form",{className:"space-y-4",onSubmit:h,children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Email"}),u.jsx("input",{className:"mt-1 w-full rounded-2xl border border-slate-200 px-4 py-3 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-400 text-slate-800",value:t,onChange:d=>e(d.target.value),placeholder:"admin@example.com",type:"email",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Password"}),u.jsx("input",{className:"mt-1 w-full rounded-2xl border border-slate-200 px-4 py-3 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-indigo-400 text-slate-800",value:n,onChange:d=>s(d.target.value),placeholder:"",type:"password",required:!0})]}),l?u.jsx("div",{className:"rounded-2xl bg-rose-50 border border-rose-200 px-4 py-3 text-sm text-rose-600",children:l}):null,u.jsx("button",{type:"submit",disabled:i,className:"w-full rounded-2xl bg-indigo-600 text-white font-semibold py-3 shadow-lg shadow-indigo-200 hover:bg-indigo-500 transition disabled:opacity-60",children:i?"Authorizing":"Enter Console"})]})]})})}const yk=[{label:"Dashboard",icon:"",path:"/admin",permission:"analytics"},{label:"Users",icon:"",path:"/admin/users",permission:"users"},{label:"Notifications",icon:"",path:"/admin/notifications",permission:"notifications"},{label:"Roles",icon:"",path:"/admin/roles",permission:"admin_manage"}];function wk(){var r;const{token:t,admin:e,logout:n}=os(),s=On();zn(),b.useEffect(()=>{t||s("/admin/login",{replace:!0})},[t,s]);const i=l=>{if((e==null?void 0:e.role)==="admin")return!0;if(!l)return!!e;const o=(e==null?void 0:e.permissions)||[];return o.includes("all")||o.includes(l)};return t?u.jsxs("div",{className:"min-h-screen bg-slate-100 text-slate-900 flex",children:[u.jsxs("aside",{className:"w-60 bg-white border-r border-slate-200 flex flex-col",children:[u.jsxs("div",{className:"px-6 py-5 border-b border-slate-200 flex items-center gap-2 font-semibold text-lg",children:[u.jsx("span",{className:"w-9 h-9 rounded-2xl bg-indigo-600 text-white flex items-center justify-center",children:"FX"}),"Velzon Admin"]}),u.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:yk.filter(l=>i(l.permission)).map(l=>u.jsxs("div",{children:[u.jsxs(gw,{to:l.path,end:l.path==="/admin",className:({isActive:o})=>`flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-medium ${o?"bg-indigo-50 text-indigo-600":"text-slate-600 hover:bg-slate-50"}`,children:[u.jsx("span",{className:"text-lg",children:l.icon}),l.label]}),l.label==="Dashboard"&&i("market")?u.jsxs(Et,{to:"/admin#market-control",className:"mt-1 flex items-center gap-3 px-3 py-2 rounded-2xl text-sm font-semibold bg-gradient-to-r from-indigo-500 to-sky-500 text-white shadow-lg hover:opacity-90 transition",children:[u.jsx("span",{className:"text-lg",children:""}),"Market Control"]}):null]},l.path))}),u.jsx("div",{className:"px-4 py-4 border-t border-slate-200",children:u.jsx("button",{className:"w-full rounded-xl border border-slate-200 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",onClick:()=>{n(),s("/admin/login",{replace:!0})},children:"Log out"})})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx("span",{className:"text-slate-400 text-lg",children:""}),u.jsx("span",{children:"Search the console"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs text-slate-500",children:(r=e==null?void 0:e.permissions)!=null&&r.includes("all")?"Super Admin":"Sub Admin"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm font-semibold",children:(e==null?void 0:e.name)||(e==null?void 0:e.email)}),u.jsx("div",{className:"text-xs text-slate-500",children:e==null?void 0:e.email})]}),u.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-sky-400 text-white flex items-center justify-center font-semibold",children:((e==null?void 0:e.name)||(e==null?void 0:e.email)||"A").charAt(0).toUpperCase()})]})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:u.jsx(nw,{})})]})]}):null}const bk=["1m","5m","15m","1h","1d","1w","1y"],If={live:{label:"Live",badge:"bg-emerald-50 text-emerald-600 border border-emerald-100"},paused:{label:"Paused",badge:"bg-amber-50 text-amber-600 border border-amber-200"},maintenance:{label:"Maintenance",badge:"bg-slate-100 text-slate-600 border border-slate-200"}},Sk=[{label:"Calm",value:.6},{label:"Balanced",value:1},{label:"Turbo",value:1.6}],Nk=[-5,-2,-1,1,2,5],Vf=t=>t?If[t]||{label:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),badge:"bg-slate-100 text-slate-600 border border-slate-200"}:If.live,cs=(t=0,e={})=>new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:e.maximumFractionDigits??2,minimumFractionDigits:e.minimumFractionDigits??2}).format(Number(t)||0),Vr=(t=0)=>{const e=Number(t)||0;return`${e>=0?"+":""}${e.toFixed(2)}%`},Uf=({title:t,action:e})=>u.jsxs("div",{className:"flex items-center justify-between gap-3",children:[u.jsx("div",{className:"text-lg font-semibold text-slate-800 tracking-tight",children:t}),e||null]});function _k(){var V,Z,ee,K,B,O,G;const{token:t,admin:e}=os(),[n,s]=b.useState(null),[i,r]=b.useState("5m"),[l,o]=b.useState(""),[a,c]=b.useState("OTC"),[h,d]=b.useState({}),f=N=>{if((e==null?void 0:e.role)==="admin")return!0;if(!N)return(e==null?void 0:e.role)==="subadmin";const k=(e==null?void 0:e.permissions)||[];return k.includes("all")||k.includes(N)},v=async()=>{if(!(!t||!f("analytics")))try{const N=await X(t).get("/api/admin/dashboard");s(N.data)}catch(N){console.error("dashboard error",N)}};b.useEffect(()=>{t&&v()},[t]),b.useEffect(()=>{if(!t)return;const N=n==null?void 0:n.channels;if(!N)return;const k={};N.forEach(P=>{k[P.channel]={price:typeof P.base_price=="number"?String(P.base_price):"",volatility:typeof P.volatility=="number"?String(P.volatility):"",speed:Number(P.speed??1),status:P.status||"live",pulse:""}}),d(k)},[n,t]);const p=b.useMemo(()=>{const N=["OTC","BINARY","SPOT","FUTURE","ALPHA"],k=(n==null?void 0:n.channels)||[],P=[];return N.forEach($=>{const I=k.find(ne=>ne.channel===$);I&&P.push(I)}),k.forEach($=>{N.includes($.channel)||P.push($)}),P},[n]),g=b.useMemo(()=>p.find(N=>N.channel===a)||p[0],[p,a]);b.useEffect(()=>{if(!p.length)return;!p.find(k=>k.channel===a)&&p[0]&&c(p[0].channel)},[p,a]);const y={price:"",volatility:"",speed:1,status:"live",pulse:""},m=g?{...y,...h[g.channel]||{}}:y,x=(()=>{const N=Number(m.speed);return Number.isFinite(N)&&N>0?N:1})(),w=(N,k)=>{g&&d(P=>({...P,[g.channel]:{...P[g.channel]||{},[N]:k}}))},S=async()=>{var P,$;if(!t||!g||!f("market"))return;const N=h[g.channel]||{},k={};if(N.price!==""&&Number.isFinite(Number(N.price))&&(k.base_price=Number(N.price)),N.volatility!==""&&Number.isFinite(Number(N.volatility))&&(k.volatility=Number(N.volatility)),Number.isFinite(Number(N.speed))&&(k.speed=Number(N.speed)),N.status&&(k.status=N.status),Object.keys(k).length===0){o("Enter at least one field to update the market.");return}try{await X(t).post(`/api/admin/markets/${g.channel}`,k),o(`${g.label} updated`),v()}catch(I){o((($=(P=I==null?void 0:I.response)==null?void 0:P.data)==null?void 0:$.error)||"Failed to update market")}},C=async N=>{var P,$;if(!t||!g||!f("market"))return;const k=Number(N);if(!Number.isFinite(k)||k===0){o("Enter a non-zero percentage to pulse the market.");return}try{await X(t).post(`/api/admin/markets/${g.channel}/pulse`,{percentage:k}),o(`${g.label} ${k>0?"pumped":"dumped"} ${k}%`),v()}catch(I){o((($=(P=I==null?void 0:I.response)==null?void 0:P.data)==null?void 0:$.error)||"Failed to apply pulse")}},T=N=>{w("speed",N)},M=()=>{g&&(d(N=>({...N,[g.channel]:{price:typeof g.base_price=="number"?String(g.base_price):"",volatility:typeof g.volatility=="number"?String(g.volatility):"",speed:Number(g.speed??1),status:g.status||"live",pulse:""}})),o(""))},j=()=>{var P;if(!g)return;const N=(((P=h[g.channel])==null?void 0:P.pulse)??"").toString().trim(),k=Number(N);if(!Number.isFinite(k)||k===0){o("Enter a non-zero percentage to pump or dump the market.");return}C(k),w("pulse","")},D=b.useMemo(()=>{var N,k;return!(n!=null&&n.stats)||!f("analytics")?[]:[{label:"Total Invested",value:cs(n.stats.totalInvested),change:Vr(n.stats.totalPnL/Math.max(1,n.stats.totalInvested)*100),badge:"+",tone:"emerald"},{label:"Total P&L",value:cs(n.stats.totalPnL),change:Vr((n.stats.dayChange||0)/Math.max(1,n.stats.totalPnL||1)*100),badge:"24h",tone:n.stats.totalPnL>=0?"emerald":"rose"},{label:"Liquidity On Platform",value:cs(n.stats.totalBalance),change:`${cs(n.stats.availableLiquidity)} liquid`,badge:"Vault",tone:"indigo"},{label:"Total Users",value:(N=n.stats.totalUsers)==null?void 0:N.toLocaleString(),change:`${(k=n.stats.totalTrades)==null?void 0:k.toLocaleString()} trades`,badge:"Accounts",tone:"sky"}]},[n]),A=N=>u.jsx("div",{className:"rounded-2xl bg-white border border-dashed border-slate-200 p-4 text-sm text-slate-500",children:N});return u.jsxs("div",{className:"space-y-6",children:[l?u.jsx("div",{className:"rounded-2xl bg-amber-50 border border-amber-200 px-4 py-3 text-sm text-amber-900 shadow-soft",children:l}):null,f("analytics")?u.jsx("section",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2 xl:grid-cols-4",children:D.map(N=>u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.2em] text-slate-400",children:[u.jsx("span",{children:N.label}),u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-semibold ${N.tone==="emerald"?"bg-emerald-50 text-emerald-600":N.tone==="rose"?"bg-rose-50 text-rose-600":N.tone==="indigo"?"bg-indigo-50 text-indigo-600":"bg-sky-50 text-sky-600"}`,children:N.badge})]}),u.jsx("div",{className:"text-3xl font-semibold text-slate-900",children:N.value}),u.jsx("div",{className:"text-sm font-medium text-slate-500",children:N.change})]},N.label))}):A("Analytics permission required to view KPI cards."),u.jsx("section",{children:u.jsxs("div",{className:"rounded-3xl bg-white p-5 shadow-soft border border-slate-100 space-y-5",children:[u.jsx(Uf,{title:"Market Graph",action:u.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 rounded-full px-2 py-1 text-xs text-slate-600",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live  ",(V=n==null?void 0:n.market)==null?void 0:V.symbol]})}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-xs text-slate-500",children:[u.jsxs("div",{children:[u.jsx("div",{className:"uppercase tracking-[0.2em]",children:"Spot"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:cs((Z=n==null?void 0:n.market)==null?void 0:Z.currentPrice)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"uppercase tracking-[0.2em]",children:"Volatility"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:Vr((((ee=n==null?void 0:n.market)==null?void 0:ee.volatility)||0)*100)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"uppercase tracking-[0.2em]",children:"Symbol"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:(K=n==null?void 0:n.market)==null?void 0:K.symbol})]}),u.jsxs("div",{children:[u.jsx("div",{className:"uppercase tracking-[0.2em]",children:"Paused"}),u.jsx("div",{className:"text-xl font-semibold text-slate-900",children:(B=n==null?void 0:n.market)!=null&&B.paused?"Yes":"No"})]})]}),f("analytics")?u.jsx(th,{symbol:((O=n==null?void 0:n.market)==null?void 0:O.symbol)||"BTCUSDT",timeframe:i,onTimeframeChange:r,trades:((G=n==null?void 0:n.recentTrades)==null?void 0:G.filter(N=>N.status==="open"))??[],timeframes:bk}):A("Analytics permission required to view market graph.")]})}),u.jsx("section",{children:u.jsxs("div",{id:"market-control",className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-5",children:[u.jsx(Uf,{title:"Market Control",action:f("market")?u.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700",onClick:v,children:"Refresh"}):null}),f("market")?p.length&&g?u.jsxs("div",{className:"space-y-5",children:[u.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(N=>{const k=N.channel===a,P=Vf(N.status);return u.jsxs("button",{type:"button",onClick:()=>c(N.channel),className:`flex flex-col rounded-2xl border px-4 py-3 text-left transition ${k?"border-indigo-400 bg-indigo-50 shadow-soft":"border-slate-200 bg-slate-50 hover:border-indigo-200"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-800",children:[N.label,u.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${P.badge}`,children:P.label})]}),u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-slate-400",children:N.channel})]},N.channel)})}),u.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-100 bg-slate-50/40 p-4",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-lg font-semibold text-slate-900",children:g.label}),u.jsx("p",{className:"text-sm text-slate-500",children:g.description||"Admin controlled feed"})]}),u.jsxs("div",{className:"text-xs text-slate-500 text-right",children:[u.jsx("div",{children:"Last update"}),u.jsx("div",{className:"font-semibold text-slate-800",children:g.updated_at?new Date(g.updated_at).toLocaleString():""})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Base"}),u.jsx("div",{className:"font-semibold text-slate-900",children:cs(g.base_price)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Volatility"}),u.jsx("div",{className:"font-semibold text-slate-900",children:Vr((g.volatility||0)*100)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Speed"}),u.jsxs("div",{className:"font-semibold text-slate-900",children:[Number(g.speed||1).toFixed(2),"x"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Status"}),u.jsx("div",{className:"font-semibold text-slate-900 capitalize",children:g.status})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Target Spot Price (USD)"}),u.jsx("input",{className:"input bg-white text-slate-800 border-slate-200",placeholder:"60000",value:m.price,onChange:N=>w("price",N.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Volatility (0 - 1)"}),u.jsx("input",{className:"input bg-white text-slate-800 border-slate-200",placeholder:"0.02",value:m.volatility,onChange:N=>w("volatility",N.target.value)})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Speed Multiplier"}),u.jsxs("span",{className:"text-xs font-semibold text-slate-700",children:[x.toFixed(2),"x"]})]}),u.jsx("input",{type:"range",min:"0.2",max:"2",step:"0.1",value:x,onChange:N=>w("speed",Number(N.target.value)),className:"w-full accent-indigo-500"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Sk.map(N=>u.jsxs("button",{type:"button",className:`flex-1 rounded-2xl border px-3 py-2 text-xs font-semibold ${x===N.value?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-slate-200 text-slate-600 hover:border-indigo-200"}`,onClick:()=>T(N.value),children:[N.label,"  ",N.value,"x"]},N.label))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Market Status"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(["live","paused","maintenance",g.status].filter(Boolean))].map(N=>{const k=Vf(N),P=m.status===N;return u.jsx("button",{type:"button",className:`rounded-2xl border px-3 py-2 text-xs font-semibold ${P?"border-indigo-500 bg-indigo-50 text-indigo-600":"border-slate-200 text-slate-600 hover:border-indigo-200"}`,onClick:()=>w("status",N),children:k.label},N)})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-[0.2em]",children:"Pulse Market"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:Nk.map(N=>u.jsxs("button",{type:"button",className:"flex-1 rounded-2xl border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 hover:border-indigo-200 hover:text-indigo-600",onClick:()=>C(N),children:[N>0?"+":"",N,"%"]},N))}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"input bg-white text-slate-800 border-slate-200",placeholder:"Custom %",value:m.pulse,onChange:N=>w("pulse",N.target.value)}),u.jsx("button",{type:"button",className:"btn",onClick:j,children:"Apply"})]})]}),u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[u.jsx("button",{type:"button",className:"btn flex-1",onClick:S,children:"Save Channel"}),u.jsx("button",{type:"button",className:"btn flex-1 bg-slate-100 text-slate-700 hover:bg-slate-200",onClick:M,children:"Reset Fields"})]})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 p-4 text-sm text-slate-500",children:"Market channels have not loaded yet. Refresh or ensure analytics permission is granted."}):A("Market permission required to update controls.")]})})]})}const Wf=(t=0)=>new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(Number(t)||0);function kk(){const{token:t,admin:e}=os(),n=(e==null?void 0:e.role)==="admin"||((e==null?void 0:e.permissions)||[]).includes("all")||((e==null?void 0:e.permissions)||[]).includes("users"),[s,i]=b.useState([]),[r,l]=b.useState(""),[o,a]=b.useState(!1),[c,h]=b.useState({email:"",amount:""}),[d,f]=b.useState(""),v=async(y="")=>{var m,x;if(t){a(!0);try{const w=await X(t).get("/api/admin/users",{params:{q:y}});i(w.data)}catch(w){f(((x=(m=w==null?void 0:w.response)==null?void 0:m.data)==null?void 0:x.error)||"Failed to load users")}finally{a(!1)}}};b.useEffect(()=>{n&&v()},[t,n]);const p=async()=>{var y,m;if(t){f("");try{await X(t).post("/api/admin/users/set-balance",{email:c.email,amount:Number(c.amount)}),h({email:"",amount:""}),f("Balance updated"),v(r)}catch(x){f(((m=(y=x==null?void 0:x.response)==null?void 0:y.data)==null?void 0:m.error)||"Failed to update balance")}}},g=async y=>{var m,x;if(!(!t||!n||!window.confirm("Delete this user?")))try{await X(t).delete(`/api/admin/users/${y}`),v(r)}catch(w){f(((x=(m=w==null?void 0:w.response)==null?void 0:m.data)==null?void 0:x.error)||"Delete failed")}};return n?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Admin"}),u.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"User Management"})]}),u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800 w-64",placeholder:"Search users",value:r,onChange:y=>{const m=y.target.value;l(m),v(m)}})]}),d?u.jsx("div",{className:"rounded-2xl bg-indigo-50 border border-indigo-200 px-4 py-2 text-sm text-indigo-700",children:d}):null,u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-4",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em]",children:"Adjust Balance"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"user@example.com",value:c.email,onChange:y=>h(m=>({...m,email:y.target.value}))}),u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"Amount",value:c.amount,onChange:y=>h(m=>({...m,amount:y.target.value}))}),u.jsx("button",{className:"btn",onClick:p,children:"Set Balance"})]})]}),u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em] mb-4",children:"Accounts"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-2 text-left",children:"User"}),u.jsx("th",{className:"py-2 text-left",children:"Role"}),u.jsx("th",{className:"py-2 text-left",children:"Balance"}),u.jsx("th",{className:"py-2 text-left",children:"Trades"}),u.jsx("th",{className:"py-2 text-left",children:"Realized"}),u.jsx("th",{className:"py-2 text-right",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:o?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"py-6 text-center text-slate-500",children:"Loading"})}):s.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"py-6 text-center text-slate-500",children:"No users"})}):s.map(y=>u.jsxs("tr",{className:"text-slate-700",children:[u.jsxs("td",{className:"py-2",children:[u.jsx("div",{className:"font-semibold",children:y.name||y.email}),u.jsx("div",{className:"text-xs text-slate-500",children:y.email})]}),u.jsx("td",{className:"py-2 capitalize",children:y.role}),u.jsx("td",{className:"py-2",children:Wf((y.available||0)+(y.locked||0))}),u.jsx("td",{className:"py-2",children:y.trade_count}),u.jsx("td",{className:"py-2",children:u.jsx("span",{className:Number(y.realized_pnl)>=0?"text-emerald-600":"text-rose-500",children:Wf(y.realized_pnl)})}),u.jsx("td",{className:"py-2 text-right",children:u.jsx("button",{className:"text-xs text-rose-500 font-semibold",onClick:()=>g(y.id),children:"Delete"})})]},y.id))})]})})]})]}):u.jsx("div",{className:"rounded-3xl bg-white border border-dashed border-slate-200 p-6 text-slate-500",children:"You do not have permission to manage users."})}function Ek(){const{token:t,admin:e}=os(),n=(e==null?void 0:e.role)==="admin"||((e==null?void 0:e.permissions)||[]).includes("all")||((e==null?void 0:e.permissions)||[]).includes("notifications"),[s,i]=b.useState([]),[r,l]=b.useState([]),[o,a]=b.useState({title:"",message:"",email:""}),[c,h]=b.useState(""),d=async()=>{var v,p,g;if(t)try{const[y,m]=await Promise.all([X(t).get("/api/admin/dashboard"),X(t).get("/api/admin/audit")]);i(((v=y.data)==null?void 0:v.notifications)??[]),l(m.data??[])}catch(y){h(((g=(p=y==null?void 0:y.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to load notifications")}};b.useEffect(()=>{n&&d()},[t,n]);const f=async()=>{var v,p;if(!(!t||!n)){if(!o.title||!o.message){h("Title and message required");return}try{await X(t).post("/api/admin/notifications",{title:o.title,message:o.message,email:o.email||void 0}),h("Notification sent"),a({title:"",message:"",email:""}),d()}catch(g){h(((p=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:p.error)||"Failed to send notification")}}};return n?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Admin"}),u.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Messaging Center"})]}),c?u.jsx("div",{className:"rounded-2xl bg-indigo-50 border border-indigo-200 px-4 py-2 text-sm text-indigo-700",children:c}):null,u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-3",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em]",children:"Broadcast"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"Optional email",value:o.email,onChange:v=>a(p=>({...p,email:v.target.value}))}),u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"Title",value:o.title,onChange:v=>a(p=>({...p,title:v.target.value}))}),u.jsx("button",{className:"btn",onClick:f,children:"Send"})]}),u.jsx("textarea",{className:"input bg-white border-slate-200 text-slate-800 min-h-[120px]",placeholder:"Message body",value:o.message,onChange:v=>a(p=>({...p,message:v.target.value}))})]}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-4",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em]",children:"Recent Notifications"}),u.jsx("div",{className:"space-y-3",children:(s||[]).map(v=>u.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:v.email||"Broadcast"}),u.jsx("span",{children:new Date(v.created_at).toLocaleString()})]}),u.jsx("div",{className:"text-sm font-semibold text-slate-800 mt-1",children:v.title}),u.jsx("div",{className:"text-sm text-slate-600",children:v.message})]},v.id))})]}),u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-4",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em]",children:"Audit Log"}),u.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:(r||[]).map(v=>u.jsxs("div",{className:"text-sm text-slate-600 border-b border-slate-100 pb-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[u.jsx("span",{children:v.actor_role}),u.jsx("span",{children:new Date(v.ts).toLocaleString()})]}),u.jsx("div",{className:"font-semibold text-slate-800",children:v.action.replace(/_/g," ")}),v.meta?u.jsx("pre",{className:"bg-slate-100 rounded-xl px-3 py-2 text-[11px] mt-1",children:v.meta}):null]},v.id))})]})]})]}):u.jsx("div",{className:"rounded-3xl bg-white border border-dashed border-slate-200 p-6 text-slate-500",children:"Notifications permission required."})}const Hf=["analytics","market","users","notifications","audit"];function Ck(){const{token:t,admin:e}=os(),[n,s]=b.useState([]),[i,r]=b.useState({email:"",name:"",password:"",permissions:["analytics"]}),[l,o]=b.useState(""),a=async()=>{var f,v;if(!(!t||(e==null?void 0:e.role)!=="admin"))try{const p=await X(t).get("/api/admin/subadmins");s(p.data)}catch(p){o(((v=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:v.error)||"Failed to load sub admins")}};b.useEffect(()=>{a()},[t]);const c=async()=>{var f,v;if(!(!t||(e==null?void 0:e.role)!=="admin")){if(!i.email||!i.password){o("Email and password required");return}try{await X(t).post("/api/admin/subadmins",i),o("Sub admin created"),r({email:"",name:"",password:"",permissions:["analytics"]}),a()}catch(p){o(((v=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:v.error)||"Failed to create sub admin")}}},h=async(f,v)=>{var p,g;if(!(!t||(e==null?void 0:e.role)!=="admin"))try{await X(t).put(`/api/admin/subadmins/${f}`,{permissions:v}),a()}catch(y){o(((g=(p=y==null?void 0:y.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to update permissions")}},d=async f=>{var v,p;if(!(!t||(e==null?void 0:e.role)!=="admin")&&window.confirm("Remove this sub admin?"))try{await X(t).delete(`/api/admin/subadmins/${f}`),a()}catch(g){o(((p=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:p.error)||"Failed to remove sub admin")}};return(e==null?void 0:e.role)!=="admin"?u.jsx("div",{className:"rounded-3xl bg-white border border-dashed border-slate-200 p-6 text-slate-500",children:"Only the main admin can manage roles."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Admin"}),u.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Role Management"})]}),l?u.jsx("div",{className:"rounded-2xl bg-indigo-50 border border-indigo-200 px-4 py-2 text-sm text-indigo-700",children:l}):null,u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-4",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em]",children:"Create Sub Admin"}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"Email",value:i.email,onChange:f=>r(v=>({...v,email:f.target.value}))}),u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"Name",value:i.name,onChange:f=>r(v=>({...v,name:f.target.value}))}),u.jsx("input",{className:"input bg-white border-slate-200 text-slate-800",placeholder:"Temp password",type:"password",value:i.password,onChange:f=>r(v=>({...v,password:f.target.value}))})]}),u.jsx("div",{className:"flex flex-wrap gap-3",children:Hf.map(f=>{const v=i.permissions.includes(f);return u.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-600",children:[u.jsx("input",{type:"checkbox",checked:v,onChange:p=>{r(g=>({...g,permissions:p.target.checked?Array.from(new Set([...g.permissions,f])):g.permissions.filter(y=>y!==f)}))}}),f]},f)})}),u.jsx("button",{className:"btn",onClick:c,children:"Create"})]}),u.jsxs("div",{className:"rounded-3xl bg-white shadow-soft border border-slate-100 p-5 space-y-3",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-[0.2em]",children:"Existing Sub Admins"}),u.jsxs("div",{className:"grid gap-4",children:[n.map(f=>u.jsxs("div",{className:"border border-slate-200 rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-slate-800",children:f.name||f.email}),u.jsx("div",{className:"text-xs text-slate-500",children:f.email})]}),u.jsx("button",{className:"text-xs text-rose-500 font-semibold",onClick:()=>d(f.id),children:"Remove"})]}),u.jsx("div",{className:"flex flex-wrap gap-3 mt-3",children:Hf.map(v=>{const p=(f.permissions||[]).includes(v);return u.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-600",children:[u.jsx("input",{type:"checkbox",checked:p,onChange:g=>{const y=g.target.checked?Array.from(new Set([...f.permissions||[],v])):(f.permissions||[]).filter(m=>m!==v);h(f.id,y)}}),v]},`${f.id}-${v}`)})})]},f.id)),n.length===0?u.jsx("div",{className:"text-sm text-slate-500",children:"No sub admins yet."}):null]})]})]})}const jk=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function qf({className:t}){return u.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),u.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}function Tk({className:t}){return u.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"4"}),u.jsx("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}function Mk({className:t}){return u.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function An({children:t}){var Z,ee,K,B,O,G,N;const{user:e,token:n,logout:s}=Tt(),i=qn(k=>k.summary),r=qn(k=>k.setSummary),l=ai(k=>k.notifications),o=ai(k=>k.unread),a=ai(k=>k.setNotifications),c=ai(k=>k.appendNotification),h=ai(k=>k.markAllRead),[d,f]=b.useState(!1),[v,p]=b.useState(!1),[g,y]=b.useState(()=>localStorage.getItem("balance_hidden")==="1"),[m,x]=b.useState(()=>localStorage.getItem("theme")||"dark"),w=On(),S=b.useRef(null),C=b.useRef(null);b.useEffect(()=>{const k=document.documentElement,P=document.body,$=m==="light"?"theme-light":"theme-dark";k.classList.remove("theme-light","theme-dark"),P.classList.remove("theme-light","theme-dark"),k.classList.add($),P.classList.add($),localStorage.setItem("theme",m)},[m]),b.useEffect(()=>{n&&(i||X(n).get("/api/trades/overview",{params:{limit:1}}).then(k=>r(k.data)).catch(k=>console.error("Failed to load account summary",k)))},[n,i,r]),b.useEffect(()=>{function k(P){S.current&&!S.current.contains(P.target)&&f(!1),C.current&&!C.current.contains(P.target)&&p(!1)}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]),b.useEffect(()=>{n&&X(n).get("/api/notifications").then(k=>a(k.data.notifications||[],k.data.unread||0)).catch(k=>console.error("Failed to load notifications",k))},[n,a]),b.useEffect(()=>{if(!n)return;const k=()=>{if(typeof window>"u")return;const $=window.AudioContext||window.webkitAudioContext;if($)try{const I=new $,ne=I.createOscillator(),W=I.createGain();ne.type="sine",ne.frequency.value=880,ne.connect(W),W.connect(I.destination);const ge=I.currentTime;W.gain.setValueAtTime(1e-4,ge),W.gain.exponentialRampToValueAtTime(.1,ge+.02),W.gain.exponentialRampToValueAtTime(1e-4,ge+.4),ne.start(ge),ne.stop(ge+.4),setTimeout(()=>I.close(),500)}catch{}},P=({notification:$})=>{if(!$||$.user_id&&(e!=null&&e.id)&&$.user_id!==e.id)return;const I=v;c($,{read:I}),I?X(n).post("/api/notifications/read",{ids:[$.id]}).catch(()=>{}):k()};return $l.on("notification",P),()=>{$l.off("notification",P)}},[n,e==null?void 0:e.id,c,v]);const T=((Z=i==null?void 0:i.balance)==null?void 0:Z.total)??0,M=g?"":jk.format(T),j=()=>{y(k=>{const P=!k;return localStorage.setItem("balance_hidden",P?"1":"0"),P})},D=k=>{f(!1),w(k)},A=()=>{x(k=>k==="light"?"dark":"light")},V=[];return e&&(V.push({label:"Trade",path:"/dashboard"}),V.push({label:"History",path:"/history"}),V.push({label:"Profile",path:"/profile"})),u.jsxs("div",{className:"min-h-screen grid grid-rows-[auto,1fr]",children:[u.jsx("header",{className:"sticky top-0 z-50 bg-black/50 backdrop-blur-md border-b border-white/10",children:u.jsxs("div",{className:"max-w-6xl mx-auto flex flex-wrap items-center justify-between gap-2 px-3 py-2.5 sm:px-4 sm:py-3",children:[u.jsx(Et,{to:"/",className:"flex items-center gap-2",children:u.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-brand via-emerald-400 to-sky-500 flex items-center justify-center font-black text-black text-sm shadow-soft",children:"FX"})}),u.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-end flex-1",children:[e&&u.jsxs("div",{className:"balance-chip flex items-center gap-2 bg-black/30 border border-white/10 rounded-full px-4 py-1.5 text-xs sm:text-sm font-mono",children:[u.jsx("span",{className:"tracking-tight",children:M}),u.jsx("button",{onClick:j,className:"text-brand hover:text-brand-dark transition-colors",children:g?u.jsx(zk,{className:"w-4 h-4"}):u.jsx(Lk,{className:"w-4 h-4"})})]}),!e&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Et,{to:"/login",className:"btn",children:"Login"}),u.jsx(Et,{to:"/signup",className:"btn bg-white text-black",children:"Sign up"})]}),e&&u.jsxs("div",{className:"relative",ref:C,children:[u.jsxs("button",{className:"nav-icon relative flex items-center justify-center w-9 h-9 rounded-full bg-black/30 border border-white/10 text-white/80 hover:text-white transition-colors",onClick:()=>{const k=!v;p(k),k&&o>0&&X(n).post("/api/notifications/read-all").then(()=>h()).catch(()=>{})},"aria-label":"Toggle notifications",children:[u.jsx(qf,{className:"w-4 h-4"}),o>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-brand text-black text-[10px] font-semibold rounded-full px-1 min-w-[16px] h-4 flex items-center justify-center",children:o>9?"9+":o})]}),v&&u.jsxs("div",{className:"fixed inset-0 z-[75] flex items-start justify-center sm:absolute sm:inset-auto sm:top-full sm:right-0 sm:z-50 sm:block sm:flex-none",children:[u.jsx("button",{type:"button",className:"absolute inset-0 bg-black/60 backdrop-blur-sm sm:hidden",onClick:()=>p(!1),"aria-label":"Close notifications overlay"}),u.jsxs("div",{className:"notification-panel relative mt-16 w-[min(420px,calc(100%-2rem))] sm:mt-2 mx-auto sm:mx-0 sm:w-72 md:w-80 max-h-[70vh] sm:max-h-[55vh] overflow-hidden rounded-3xl sm:rounded-2xl border border-white/10 bg-[#0b0f13]/95 shadow-soft backdrop-blur text-[11px]",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-white/10 font-semibold flex items-center justify-between sticky top-0 bg-[#0b0f13]/95 z-10 text-[10px] uppercase tracking-wide",children:[u.jsx("span",{className:"truncate",children:"Notifications"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-[9px] text-white/45 flex-shrink-0",children:[l.length," total"]}),u.jsx("button",{type:"button",onClick:()=>p(!1),className:"text-[10px] text-white/60 hover:text-white transition-colors sm:hidden",children:"Close"})]})]}),u.jsxs("div",{className:"divide-y divide-white/5 max-h-[calc(70vh-72px)] sm:max-h-[calc(55vh-56px)] overflow-y-auto px-1",children:[l.length===0&&u.jsxs("div",{className:"px-4 py-8 text-white/50 text-[11px] text-center space-y-2",children:[u.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-full bg-white/5 flex items-center justify-center",children:u.jsx(qf,{className:"w-5 h-5 text-white/30"})}),"No notifications yet"]}),l.map(k=>u.jsx("div",{className:`px-2 py-2.5 hover:bg-white/5 transition-colors ${k.is_read?"bg-transparent":"bg-brand/10 border-l-[3px] border-brand/70"}`,children:u.jsxs("div",{className:"w-full space-y-1",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] text-white/40 font-mono",children:[u.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${k.is_read?"bg-white/20":"bg-brand"}`}),u.jsxs("span",{children:[new Date(k.created_at).toLocaleDateString()," ",new Date(k.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),u.jsx("div",{className:"font-semibold text-white leading-tight text-[11px] notification-content break-words whitespace-pre-wrap",children:k.title}),u.jsx("div",{className:"text-white/65 text-[10px] leading-snug notification-message break-words whitespace-pre-wrap",children:k.message})]})},k.id))]}),l.length>0&&u.jsx("div",{className:"px-4 py-3 border-t border-white/10",children:u.jsx("button",{onClick:()=>{X(n).post("/api/notifications/read-all").then(()=>h()).catch(()=>{})},className:"text-[10px] text-brand hover:text-brand-dark transition-colors notification-content",children:"Mark all as read"})})]})]})]}),e&&u.jsxs("div",{className:"relative",ref:S,children:[u.jsxs("button",{className:"nav-icon flex items-center gap-2 bg-black/30 border border-white/10 rounded-full px-3 py-1 text-sm",onClick:()=>f(k=>!k),children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-brand/20 flex items-center justify-center text-brand font-semibold",children:((B=(K=(ee=e.name)==null?void 0:ee[0])==null?void 0:K.toUpperCase)==null?void 0:B.call(K))||((N=(G=(O=e.email)==null?void 0:O[0])==null?void 0:G.toUpperCase)==null?void 0:N.call(G))||"U"}),u.jsx("span",{className:"hidden sm:block",children:e.name||e.email})]}),d&&u.jsxs("div",{className:"absolute right-0 mt-2 w-52 rounded-xl border border-white/10 bg-[#0b0f13] shadow-soft p-2 space-y-1 text-sm",children:[V.map(k=>u.jsx("button",{onClick:()=>D(k.path),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10",children:k.label},k.path)),u.jsxs("button",{onClick:A,className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 flex items-center gap-2",children:[u.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-white text-slate-900",children:m==="light"?u.jsx(Mk,{className:"w-3.5 h-3.5"}):u.jsx(Tk,{className:"w-3.5 h-3.5"})}),u.jsx("span",{children:m==="light"?"Night mode":"Day mode"})]}),u.jsx("button",{onClick:()=>{f(!1),s(),w("/")},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 text-rose-400",children:"Log out"})]})]})]})]})}),u.jsx("main",{className:"max-w-6xl mx-auto w-full p-4",children:t}),u.jsxs("footer",{className:"border-t border-white/10 p-4 text-center text-xs text-white/50",children:[" ",new Date().getFullYear()," OTC Market  Demo build"]})]})}function Rk(){return u.jsxs(iw,{children:[u.jsx(We,{path:"/",element:u.jsx(An,{children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold leading-tight",children:["Trade a simulated ",u.jsx("span",{className:"text-brand",children:"AdminControlled"})," OTC Market"]}),u.jsx("p",{className:"text-white/70",children:"Live candlesticks, manual trading, referrals, and a full admin dashboard to orchestrate the market."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Et,{to:"/signup",className:"btn",children:"Get started"}),u.jsx(Et,{to:"/login",className:"btn bg-white text-black",children:"Sign in"}),u.jsx(Et,{to:"/admin/login",className:"btn bg-indigo-500 text-white",children:"Admin Console"})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("p",{className:"text-white/70",children:"Login as admin to control price, volatility and more."}),u.jsx("div",{className:"mt-3 p-3 bg-black/30 rounded-xl text-xs",children:"Admin (dev): admin@example.com / Admin#12345"})]})]})})}),u.jsx(We,{path:"/login",element:u.jsx(An,{children:u.jsx(vS,{})})}),u.jsx(We,{path:"/signup",element:u.jsx(An,{children:u.jsx(xS,{})})}),u.jsx(We,{path:"/reset-password",element:u.jsx(An,{children:u.jsx(vk,{})})}),u.jsx(We,{path:"/dashboard",element:u.jsx(An,{children:u.jsx(dk,{})})}),u.jsx(We,{path:"/profile",element:u.jsx(An,{children:u.jsx(pk,{})})}),u.jsx(We,{path:"/history",element:u.jsx(An,{children:u.jsx(gk,{})})}),u.jsx(We,{path:"/admin/login",element:u.jsx(xk,{})}),u.jsxs(We,{path:"/admin",element:u.jsx(Pk,{children:u.jsx(wk,{})}),children:[u.jsx(We,{index:!0,element:u.jsx(_k,{})}),u.jsx(We,{path:"users",element:u.jsx(kk,{})}),u.jsx(We,{path:"notifications",element:u.jsx(Ek,{})}),u.jsx(We,{path:"roles",element:u.jsx(Ck,{})})]})]})}function Pk({children:t}){const{token:e}=os();return e?t:u.jsx(tw,{to:"/admin/login",replace:!0})}function Lk({className:t}){return u.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function zk({className:t}){return u.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 19c-7 0-11-7-11-7a18.45 18.45 0 0 1 5.06-5.94"}),u.jsx("path",{d:"M3 3l18 18"}),u.jsx("path",{d:"M9.88 9.88A3 3 0 0 0 12 15a3 3 0 0 0 2.12-.88"})]})}ba.createRoot(document.getElementById("root")).render(u.jsx(Vu.StrictMode,{children:u.jsx(fw,{children:u.jsx(Rk,{})})}));
