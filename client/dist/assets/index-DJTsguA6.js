function Cv(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Df(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Af={exports:{}},Fl={},Bf={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=Symbol.for("react.element"),jv=Symbol.for("react.portal"),Mv=Symbol.for("react.fragment"),Rv=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),Pv=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),zv=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),$v=Symbol.for("react.memo"),Fv=Symbol.for("react.lazy"),Zc=Symbol.iterator;function Dv(t){return t===null||typeof t!="object"?null:(t=Zc&&t[Zc]||t["@@iterator"],typeof t=="function"?t:null)}var Vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},If=Object.assign,Uf={};function Vi(t,e,n){this.props=t,this.context=e,this.refs=Uf,this.updater=n||Vf}Vi.prototype.isReactComponent={};Vi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wf(){}Wf.prototype=Vi.prototype;function Ou(t,e,n){this.props=t,this.context=e,this.refs=Uf,this.updater=n||Vf}var $u=Ou.prototype=new Wf;$u.constructor=Ou;If($u,Vi.prototype);$u.isPureReactComponent=!0;var eh=Array.isArray,Hf=Object.prototype.hasOwnProperty,Fu={current:null},qf={key:!0,ref:!0,__self:!0,__source:!0};function Kf(t,e,n){var i,s={},r=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)Hf.call(e,i)&&!qf.hasOwnProperty(i)&&(s[i]=e[i]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)s[i]===void 0&&(s[i]=o[i]);return{$$typeof:Js,type:t,key:r,ref:l,props:s,_owner:Fu.current}}function Av(t,e){return{$$typeof:Js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Du(t){return typeof t=="object"&&t!==null&&t.$$typeof===Js}function Bv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var th=/\/+/g;function xo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bv(""+t.key):e.toString(36)}function Ir(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Js:case jv:l=!0}}if(l)return l=t,s=s(l),t=i===""?"."+xo(l,0):i,eh(s)?(n="",t!=null&&(n=t.replace(th,"$&/")+"/"),Ir(s,e,n,"",function(u){return u})):s!=null&&(Du(s)&&(s=Av(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(th,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=i===""?".":i+":",eh(t))for(var o=0;o<t.length;o++){r=t[o];var a=i+xo(r,o);l+=Ir(r,e,n,a,s)}else if(a=Dv(t),typeof a=="function")for(t=a.call(t),o=0;!(r=t.next()).done;)r=r.value,a=i+xo(r,o++),l+=Ir(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function dr(t,e,n){if(t==null)return t;var i=[],s=0;return Ir(t,i,"","",function(r){return e.call(n,r,s++)}),i}function Vv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qe={current:null},Ur={transition:null},Iv={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:Ur,ReactCurrentOwner:Fu};function Xf(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:dr,forEach:function(t,e,n){dr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dr(t,function(){e++}),e},toArray:function(t){return dr(t,function(e){return e})||[]},only:function(t){if(!Du(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Vi;X.Fragment=Mv;X.Profiler=Tv;X.PureComponent=Ou;X.StrictMode=Rv;X.Suspense=Ov;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;X.act=Xf;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=If({},t.props),s=t.key,r=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Fu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)Hf.call(e,a)&&!qf.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:Js,type:t.type,key:s,ref:r,props:i,_owner:l}};X.createContext=function(t){return t={$$typeof:Lv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Pv,_context:t},t.Consumer=t};X.createElement=Kf;X.createFactory=function(t){var e=Kf.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:zv,render:t}};X.isValidElement=Du;X.lazy=function(t){return{$$typeof:Fv,_payload:{_status:-1,_result:t},_init:Vv}};X.memo=function(t,e){return{$$typeof:$v,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Ur.transition;Ur.transition={};try{t()}finally{Ur.transition=e}};X.unstable_act=Xf;X.useCallback=function(t,e){return qe.current.useCallback(t,e)};X.useContext=function(t){return qe.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return qe.current.useDeferredValue(t)};X.useEffect=function(t,e){return qe.current.useEffect(t,e)};X.useId=function(){return qe.current.useId()};X.useImperativeHandle=function(t,e,n){return qe.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return qe.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return qe.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return qe.current.useMemo(t,e)};X.useReducer=function(t,e,n){return qe.current.useReducer(t,e,n)};X.useRef=function(t){return qe.current.useRef(t)};X.useState=function(t){return qe.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return qe.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return qe.current.useTransition()};X.version="18.3.1";Bf.exports=X;var S=Bf.exports;const Au=Df(S),Uv=Cv({__proto__:null,default:Au},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=S,Hv=Symbol.for("react.element"),qv=Symbol.for("react.fragment"),Kv=Object.prototype.hasOwnProperty,Xv=Wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qv={key:!0,ref:!0,__self:!0,__source:!0};function Qf(t,e,n){var i,s={},r=null,l=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)Kv.call(e,i)&&!Qv.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Hv,type:t,key:r,ref:l,props:s,_owner:Xv.current}}Fl.Fragment=qv;Fl.jsx=Qf;Fl.jsxs=Qf;Af.exports=Fl;var c=Af.exports,xa={},Jf={exports:{}},ot={},Gf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,C){var O=R.length;R.push(C);e:for(;0<O;){var B=O-1>>>1,U=R[B];if(0<s(U,C))R[B]=C,R[O]=U,O=B;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var C=R[0],O=R.pop();if(O!==C){R[0]=O;e:for(var B=0,U=R.length,se=U>>>1;B<se;){var q=2*(B+1)-1,oe=R[q],Ve=q+1,L=R[Ve];if(0>s(oe,O))Ve<U&&0>s(L,oe)?(R[B]=L,R[Ve]=O,B=Ve):(R[B]=oe,R[q]=O,B=q);else if(Ve<U&&0>s(L,O))R[B]=L,R[Ve]=O,B=Ve;else break e}}return C}function s(R,C){var O=R.sortIndex-C.sortIndex;return O!==0?O:R.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var a=[],u=[],h=1,d=null,f=3,y=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var C=n(u);C!==null;){if(C.callback===null)i(u);else if(C.startTime<=R)i(u),C.sortIndex=C.expirationTime,e(a,C);else break;C=n(u)}}function N(R){if(m=!1,w(R),!p)if(n(a)!==null)p=!0,z(k);else{var C=n(u);C!==null&&ee(N,C.startTime-R)}}function k(R,C){p=!1,m&&(m=!1,v(j),j=-1),y=!0;var O=f;try{for(w(C),d=n(a);d!==null&&(!(d.expirationTime>C)||R&&!K());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var U=B(d.expirationTime<=C);C=t.unstable_now(),typeof U=="function"?d.callback=U:d===n(a)&&i(a),w(C)}else i(a);d=n(a)}if(d!==null)var se=!0;else{var q=n(u);q!==null&&ee(N,q.startTime-C),se=!1}return se}finally{d=null,f=O,y=!1}}var M=!1,E=null,j=-1,I=5,F=-1;function K(){return!(t.unstable_now()-F<I)}function ne(){if(E!==null){var R=t.unstable_now();F=R;var C=!0;try{C=E(!0,R)}finally{C?ie():(M=!1,E=null)}}else M=!1}var ie;if(typeof g=="function")ie=function(){g(ne)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,A=Q.port2;Q.port1.onmessage=ne,ie=function(){A.postMessage(null)}}else ie=function(){x(ne,0)};function z(R){E=R,M||(M=!0,ie())}function ee(R,C){j=x(function(){R(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||y||(p=!0,z(k))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var O=f;f=C;try{return R()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,C){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=f;f=R;try{return C()}finally{f=O}},t.unstable_scheduleCallback=function(R,C,O){var B=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=O+U,R={id:h++,callback:C,priorityLevel:R,startTime:O,expirationTime:U,sortIndex:-1},O>B?(R.sortIndex=O,e(u,R),n(a)===null&&R===n(u)&&(m?(v(j),j=-1):m=!0,ee(N,O-B))):(R.sortIndex=U,e(a,R),p||y||(p=!0,z(k))),R},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(R){var C=f;return function(){var O=f;f=C;try{return R.apply(this,arguments)}finally{f=O}}}})(Yf);Gf.exports=Yf;var Jv=Gf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=S,lt=Jv;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zf=new Set,Es={};function ti(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(Es[t]=e,t=0;t<e.length;t++)Zf.add(e[t])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=Object.prototype.hasOwnProperty,Yv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nh={},ih={};function Zv(t){return wa.call(ih,t)?!0:wa.call(nh,t)?!1:Yv.test(t)?ih[t]=!0:(nh[t]=!0,!1)}function eg(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tg(t,e,n,i){if(e===null||typeof e>"u"||eg(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ke(t,e,n,i,s,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Oe[t]=new Ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Oe[e]=new Ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Oe[t]=new Ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Oe[t]=new Ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Oe[t]=new Ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Oe[t]=new Ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Oe[t]=new Ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Oe[t]=new Ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Oe[t]=new Ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bu=/[\-:]([a-z])/g;function Vu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bu,Vu);Oe[e]=new Ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bu,Vu);Oe[e]=new Ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bu,Vu);Oe[e]=new Ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Oe[t]=new Ke(t,1,!1,t.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Oe[t]=new Ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,n,i){var s=Oe.hasOwnProperty(e)?Oe[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tg(e,n,s,i)&&(n=null),i||s===null?Zv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var sn=Gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fr=Symbol.for("react.element"),ui=Symbol.for("react.portal"),ci=Symbol.for("react.fragment"),Uu=Symbol.for("react.strict_mode"),ba=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),Sa=Symbol.for("react.suspense"),Na=Symbol.for("react.suspense_list"),Hu=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),np=Symbol.for("react.offscreen"),sh=Symbol.iterator;function Ji(t){return t===null||typeof t!="object"?null:(t=sh&&t[sh]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,wo;function as(t){if(wo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wo=e&&e[1]||""}return`
`+wo+t}var bo=!1;function So(t,e){if(!t||bo)return"";bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),l=s.length-1,o=r.length-1;1<=l&&0<=o&&s[l]!==r[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==r[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==r[o]){var a=`
`+s[l].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=l&&0<=o);break}}}finally{bo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?as(t):""}function ng(t){switch(t.tag){case 5:return as(t.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return t=So(t.type,!1),t;case 11:return t=So(t.type.render,!1),t;case 1:return t=So(t.type,!0),t;default:return""}}function _a(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ci:return"Fragment";case ui:return"Portal";case ba:return"Profiler";case Uu:return"StrictMode";case Sa:return"Suspense";case Na:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tp:return(t.displayName||"Context")+".Consumer";case ep:return(t._context.displayName||"Context")+".Provider";case Wu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hu:return e=t.displayName||null,e!==null?e:_a(t.type)||"Memo";case un:e=t._payload,t=t._init;try{return _a(t(e))}catch{}}return null}function ig(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _a(e);case 8:return e===Uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ip(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sg(t){var e=ip(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pr(t){t._valueTracker||(t._valueTracker=sg(t))}function sp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ip(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ka(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rh(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rp(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function Ea(t,e){rp(t,e);var n=Cn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ca(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ca(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ca(t,e,n){(e!=="number"||al(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var us=Array.isArray;function Ni(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ja(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(us(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cn(n)}}function lp(t,e){var n=Cn(e.value),i=Cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ah(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function op(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ma(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?op(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mr,ap=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rg=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){rg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fs[e]=fs[t]})});function up(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fs.hasOwnProperty(t)&&fs[t]?(""+e).trim():e+"px"}function cp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=up(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var lg=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(t,e){if(e){if(lg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Ta(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pa=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var La=null,_i=null,ki=null;function uh(t){if(t=Zs(t)){if(typeof La!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Il(e),La(t.stateNode,t.type,e))}}function hp(t){_i?ki?ki.push(t):ki=[t]:_i=t}function dp(){if(_i){var t=_i,e=ki;if(ki=_i=null,uh(t),e)for(t=0;t<e.length;t++)uh(e[t])}}function fp(t,e){return t(e)}function pp(){}var No=!1;function mp(t,e,n){if(No)return t(e,n);No=!0;try{return fp(t,e,n)}finally{No=!1,(_i!==null||ki!==null)&&(pp(),dp())}}function js(t,e){var n=t.stateNode;if(n===null)return null;var i=Il(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var za=!1;if(Zt)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){za=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{za=!1}function og(t,e,n,i,s,r,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var ps=!1,ul=null,cl=!1,Oa=null,ag={onError:function(t){ps=!0,ul=t}};function ug(t,e,n,i,s,r,l,o,a){ps=!1,ul=null,og.apply(ag,arguments)}function cg(t,e,n,i,s,r,l,o,a){if(ug.apply(this,arguments),ps){if(ps){var u=ul;ps=!1,ul=null}else throw Error(P(198));cl||(cl=!0,Oa=u)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ch(t){if(ni(t)!==t)throw Error(P(188))}function hg(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return ch(s),t;if(r===i)return ch(s),e;r=r.sibling}throw Error(P(188))}if(n.return!==i.return)n=s,i=r;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,i=r;break}if(o===i){l=!0,i=s,n=r;break}o=o.sibling}if(!l){for(o=r.child;o;){if(o===n){l=!0,n=r,i=s;break}if(o===i){l=!0,i=r,n=s;break}o=o.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function gp(t){return t=hg(t),t!==null?yp(t):null}function yp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yp(t);if(e!==null)return e;t=t.sibling}return null}var xp=lt.unstable_scheduleCallback,hh=lt.unstable_cancelCallback,dg=lt.unstable_shouldYield,fg=lt.unstable_requestPaint,ye=lt.unstable_now,pg=lt.unstable_getCurrentPriorityLevel,Ku=lt.unstable_ImmediatePriority,wp=lt.unstable_UserBlockingPriority,hl=lt.unstable_NormalPriority,mg=lt.unstable_LowPriority,bp=lt.unstable_IdlePriority,Dl=null,Bt=null;function vg(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Dl,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:xg,gg=Math.log,yg=Math.LN2;function xg(t){return t>>>=0,t===0?32:31-(gg(t)/yg|0)|0}var vr=64,gr=4194304;function cs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?i=cs(o):(r&=l,r!==0&&(i=cs(r)))}else l=n&~s,l!==0?i=cs(l):r!==0&&(i=cs(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-kt(e),s=1<<n,i|=t[n],e&=~s;return i}function wg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var l=31-kt(r),o=1<<l,a=s[l];a===-1?(!(o&n)||o&i)&&(s[l]=wg(o,e)):a<=e&&(t.expiredLanes|=o),r&=~o}}function $a(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sp(){var t=vr;return vr<<=1,!(vr&4194240)&&(vr=64),t}function _o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function Sg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Xu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-kt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var re=0;function Np(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _p,Qu,kp,Ep,Cp,Fa=!1,yr=[],vn=null,gn=null,yn=null,Ms=new Map,Rs=new Map,hn=[],Ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dh(t,e){switch(t){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(e.pointerId)}}function Yi(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Zs(e),e!==null&&Qu(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _g(t,e,n,i,s){switch(e){case"focusin":return vn=Yi(vn,t,e,n,i,s),!0;case"dragenter":return gn=Yi(gn,t,e,n,i,s),!0;case"mouseover":return yn=Yi(yn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Ms.set(r,Yi(Ms.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Rs.set(r,Yi(Rs.get(r)||null,t,e,n,i,s)),!0}return!1}function jp(t){var e=$n(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=vp(n),e!==null){t.blockedOn=e,Cp(t.priority,function(){kp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Pa=i,n.target.dispatchEvent(i),Pa=null}else return e=Zs(n),e!==null&&Qu(e),t.blockedOn=n,!1;e.shift()}return!0}function fh(t,e,n){Wr(t)&&n.delete(e)}function kg(){Fa=!1,vn!==null&&Wr(vn)&&(vn=null),gn!==null&&Wr(gn)&&(gn=null),yn!==null&&Wr(yn)&&(yn=null),Ms.forEach(fh),Rs.forEach(fh)}function Zi(t,e){t.blockedOn===e&&(t.blockedOn=null,Fa||(Fa=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,kg)))}function Ts(t){function e(s){return Zi(s,t)}if(0<yr.length){Zi(yr[0],t);for(var n=1;n<yr.length;n++){var i=yr[n];i.blockedOn===t&&(i.blockedOn=null)}}for(vn!==null&&Zi(vn,t),gn!==null&&Zi(gn,t),yn!==null&&Zi(yn,t),Ms.forEach(e),Rs.forEach(e),n=0;n<hn.length;n++)i=hn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)jp(n),n.blockedOn===null&&hn.shift()}var Ei=sn.ReactCurrentBatchConfig,fl=!0;function Eg(t,e,n,i){var s=re,r=Ei.transition;Ei.transition=null;try{re=1,Ju(t,e,n,i)}finally{re=s,Ei.transition=r}}function Cg(t,e,n,i){var s=re,r=Ei.transition;Ei.transition=null;try{re=4,Ju(t,e,n,i)}finally{re=s,Ei.transition=r}}function Ju(t,e,n,i){if(fl){var s=Da(t,e,n,i);if(s===null)zo(t,e,i,pl,n),dh(t,i);else if(_g(s,t,e,n,i))i.stopPropagation();else if(dh(t,i),e&4&&-1<Ng.indexOf(t)){for(;s!==null;){var r=Zs(s);if(r!==null&&_p(r),r=Da(t,e,n,i),r===null&&zo(t,e,i,pl,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else zo(t,e,i,null,n)}}var pl=null;function Da(t,e,n,i){if(pl=null,t=qu(i),t=$n(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pl=t,null}function Mp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pg()){case Ku:return 1;case wp:return 4;case hl:case mg:return 16;case bp:return 536870912;default:return 16}default:return 16}}var fn=null,Gu=null,Hr=null;function Rp(){if(Hr)return Hr;var t,e=Gu,n=e.length,i,s="value"in fn?fn.value:fn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[r-i];i++);return Hr=s.slice(t,1<i?1-i:void 0)}function qr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xr(){return!0}function ph(){return!1}function at(t){function e(n,i,s,r,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?xr:ph,this.isPropagationStopped=ph,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),e}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=at(Ii),Ys=me({},Ii,{view:0,detail:0}),jg=at(Ys),ko,Eo,es,Al=me({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(ko=t.screenX-es.screenX,Eo=t.screenY-es.screenY):Eo=ko=0,es=t),ko)},movementY:function(t){return"movementY"in t?t.movementY:Eo}}),mh=at(Al),Mg=me({},Al,{dataTransfer:0}),Rg=at(Mg),Tg=me({},Ys,{relatedTarget:0}),Co=at(Tg),Pg=me({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Lg=at(Pg),zg=me({},Ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Og=at(zg),$g=me({},Ii,{data:0}),vh=at($g),Fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bg(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ag[t])?!!e[t]:!1}function Zu(){return Bg}var Vg=me({},Ys,{key:function(t){if(t.key){var e=Fg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ig=at(Vg),Ug=me({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=at(Ug),Wg=me({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),Hg=at(Wg),qg=me({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kg=at(qg),Xg=me({},Al,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qg=at(Xg),Jg=[9,13,27,32],ec=Zt&&"CompositionEvent"in window,ms=null;Zt&&"documentMode"in document&&(ms=document.documentMode);var Gg=Zt&&"TextEvent"in window&&!ms,Tp=Zt&&(!ec||ms&&8<ms&&11>=ms),yh=" ",xh=!1;function Pp(t,e){switch(t){case"keyup":return Jg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hi=!1;function Yg(t,e){switch(t){case"compositionend":return Lp(e);case"keypress":return e.which!==32?null:(xh=!0,yh);case"textInput":return t=e.data,t===yh&&xh?null:t;default:return null}}function Zg(t,e){if(hi)return t==="compositionend"||!ec&&Pp(t,e)?(t=Rp(),Hr=Gu=fn=null,hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tp&&e.locale!=="ko"?null:e.data;default:return null}}var ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ey[t.type]:e==="textarea"}function zp(t,e,n,i){hp(i),e=ml(e,"onChange"),0<e.length&&(n=new Yu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var vs=null,Ps=null;function ty(t){Hp(t,0)}function Bl(t){var e=pi(t);if(sp(e))return t}function ny(t,e){if(t==="change")return e}var Op=!1;if(Zt){var jo;if(Zt){var Mo="oninput"in document;if(!Mo){var bh=document.createElement("div");bh.setAttribute("oninput","return;"),Mo=typeof bh.oninput=="function"}jo=Mo}else jo=!1;Op=jo&&(!document.documentMode||9<document.documentMode)}function Sh(){vs&&(vs.detachEvent("onpropertychange",$p),Ps=vs=null)}function $p(t){if(t.propertyName==="value"&&Bl(Ps)){var e=[];zp(e,Ps,t,qu(t)),mp(ty,e)}}function iy(t,e,n){t==="focusin"?(Sh(),vs=e,Ps=n,vs.attachEvent("onpropertychange",$p)):t==="focusout"&&Sh()}function sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(Ps)}function ry(t,e){if(t==="click")return Bl(e)}function ly(t,e){if(t==="input"||t==="change")return Bl(e)}function oy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ct=typeof Object.is=="function"?Object.is:oy;function Ls(t,e){if(Ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!wa.call(e,s)||!Ct(t[s],e[s]))return!1}return!0}function Nh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _h(t,e){var n=Nh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nh(n)}}function Fp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dp(){for(var t=window,e=al();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=al(t.document)}return e}function tc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ay(t){var e=Dp(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fp(n.ownerDocument.documentElement,n)){if(i!==null&&tc(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=_h(n,r);var l=_h(n,i);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uy=Zt&&"documentMode"in document&&11>=document.documentMode,di=null,Aa=null,gs=null,Ba=!1;function kh(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ba||di==null||di!==al(i)||(i=di,"selectionStart"in i&&tc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gs&&Ls(gs,i)||(gs=i,i=ml(Aa,"onSelect"),0<i.length&&(e=new Yu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=di)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fi={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ro={},Ap={};Zt&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Vl(t){if(Ro[t])return Ro[t];if(!fi[t])return t;var e=fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ap)return Ro[t]=e[n];return t}var Bp=Vl("animationend"),Vp=Vl("animationiteration"),Ip=Vl("animationstart"),Up=Vl("transitionend"),Wp=new Map,Eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(t,e){Wp.set(t,e),ti(e,[t])}for(var To=0;To<Eh.length;To++){var Po=Eh[To],cy=Po.toLowerCase(),hy=Po[0].toUpperCase()+Po.slice(1);Rn(cy,"on"+hy)}Rn(Bp,"onAnimationEnd");Rn(Vp,"onAnimationIteration");Rn(Ip,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(Up,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Ch(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,cg(i,e,void 0,t),t.currentTarget=null}function Hp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var l=i.length-1;0<=l;l--){var o=i[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==r&&s.isPropagationStopped())break e;Ch(s,o,u),r=a}else for(l=0;l<i.length;l++){if(o=i[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==r&&s.isPropagationStopped())break e;Ch(s,o,u),r=a}}}if(cl)throw t=Oa,cl=!1,Oa=null,t}function ae(t,e){var n=e[Ha];n===void 0&&(n=e[Ha]=new Set);var i=t+"__bubble";n.has(i)||(qp(e,t,2,!1),n.add(i))}function Lo(t,e,n){var i=0;e&&(i|=4),qp(n,t,i,e)}var br="_reactListening"+Math.random().toString(36).slice(2);function zs(t){if(!t[br]){t[br]=!0,Zf.forEach(function(n){n!=="selectionchange"&&(dy.has(n)||Lo(n,!1,t),Lo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[br]||(e[br]=!0,Lo("selectionchange",!1,e))}}function qp(t,e,n,i){switch(Mp(e)){case 1:var s=Eg;break;case 4:s=Cg;break;default:s=Ju}n=s.bind(null,e,n,t),s=void 0,!za||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zo(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var o=i.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;l=l.return}for(;o!==null;){if(l=$n(o),l===null)return;if(a=l.tag,a===5||a===6){i=r=l;continue e}o=o.parentNode}}i=i.return}mp(function(){var u=r,h=qu(n),d=[];e:{var f=Wp.get(t);if(f!==void 0){var y=Yu,p=t;switch(t){case"keypress":if(qr(n)===0)break e;case"keydown":case"keyup":y=Ig;break;case"focusin":p="focus",y=Co;break;case"focusout":p="blur",y=Co;break;case"beforeblur":case"afterblur":y=Co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Hg;break;case Bp:case Vp:case Ip:y=Lg;break;case Up:y=Kg;break;case"scroll":y=jg;break;case"wheel":y=Qg;break;case"copy":case"cut":case"paste":y=Og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gh}var m=(e&4)!==0,x=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,w;g!==null;){w=g;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,v!==null&&(N=js(g,v),N!=null&&m.push(Os(g,N,w)))),x)break;g=g.return}0<m.length&&(f=new y(f,p,null,n,h),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Pa&&(p=n.relatedTarget||n.fromElement)&&($n(p)||p[en]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(p=n.relatedTarget||n.toElement,y=u,p=p?$n(p):null,p!==null&&(x=ni(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(y=null,p=u),y!==p)){if(m=mh,N="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=gh,N="onPointerLeave",v="onPointerEnter",g="pointer"),x=y==null?f:pi(y),w=p==null?f:pi(p),f=new m(N,g+"leave",y,n,h),f.target=x,f.relatedTarget=w,N=null,$n(h)===u&&(m=new m(v,g+"enter",p,n,h),m.target=w,m.relatedTarget=x,N=m),x=N,y&&p)t:{for(m=y,v=p,g=0,w=m;w;w=oi(w))g++;for(w=0,N=v;N;N=oi(N))w++;for(;0<g-w;)m=oi(m),g--;for(;0<w-g;)v=oi(v),w--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=oi(m),v=oi(v)}m=null}else m=null;y!==null&&jh(d,f,y,m,!1),p!==null&&x!==null&&jh(d,x,p,m,!0)}}e:{if(f=u?pi(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=ny;else if(wh(f))if(Op)k=ly;else{k=sy;var M=iy}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=ry);if(k&&(k=k(t,u))){zp(d,k,n,h);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Ca(f,"number",f.value)}switch(M=u?pi(u):window,t){case"focusin":(wh(M)||M.contentEditable==="true")&&(di=M,Aa=u,gs=null);break;case"focusout":gs=Aa=di=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,kh(d,n,h);break;case"selectionchange":if(uy)break;case"keydown":case"keyup":kh(d,n,h)}var E;if(ec)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else hi?Pp(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Tp&&n.locale!=="ko"&&(hi||j!=="onCompositionStart"?j==="onCompositionEnd"&&hi&&(E=Rp()):(fn=h,Gu="value"in fn?fn.value:fn.textContent,hi=!0)),M=ml(u,j),0<M.length&&(j=new vh(j,t,null,n,h),d.push({event:j,listeners:M}),E?j.data=E:(E=Lp(n),E!==null&&(j.data=E)))),(E=Gg?Yg(t,n):Zg(t,n))&&(u=ml(u,"onBeforeInput"),0<u.length&&(h=new vh("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=E))}Hp(d,e)})}function Os(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ml(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=js(t,n),r!=null&&i.unshift(Os(t,r,s)),r=js(t,e),r!=null&&i.push(Os(t,r,s))),t=t.return}return i}function oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jh(t,e,n,i,s){for(var r=e._reactName,l=[];n!==null&&n!==i;){var o=n,a=o.alternate,u=o.stateNode;if(a!==null&&a===i)break;o.tag===5&&u!==null&&(o=u,s?(a=js(n,r),a!=null&&l.unshift(Os(n,a,o))):s||(a=js(n,r),a!=null&&l.push(Os(n,a,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var fy=/\r\n?/g,py=/\u0000|\uFFFD/g;function Mh(t){return(typeof t=="string"?t:""+t).replace(fy,`
`).replace(py,"")}function Sr(t,e,n){if(e=Mh(e),Mh(t)!==e&&n)throw Error(P(425))}function vl(){}var Va=null,Ia=null;function Ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,vy=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(t){return Rh.resolve(null).then(t).catch(gy)}:Wa;function gy(t){setTimeout(function(){throw t})}function Oo(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Ts(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Ts(e)}function xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Th(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Ui,$s="__reactProps$"+Ui,en="__reactContainer$"+Ui,Ha="__reactEvents$"+Ui,yy="__reactListeners$"+Ui,xy="__reactHandles$"+Ui;function $n(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[Dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Th(t);t!==null;){if(n=t[Dt])return n;t=Th(t)}return e}t=n,n=t.parentNode}return null}function Zs(t){return t=t[Dt]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Il(t){return t[$s]||null}var qa=[],mi=-1;function Tn(t){return{current:t}}function ce(t){0>mi||(t.current=qa[mi],qa[mi]=null,mi--)}function le(t,e){mi++,qa[mi]=t.current,t.current=e}var jn={},Be=Tn(jn),Ge=Tn(!1),Hn=jn;function Ti(t,e){var n=t.type.contextTypes;if(!n)return jn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(t){return t=t.childContextTypes,t!=null}function gl(){ce(Ge),ce(Be)}function Ph(t,e,n){if(Be.current!==jn)throw Error(P(168));le(Be,e),le(Ge,n)}function Kp(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(P(108,ig(t)||"Unknown",s));return me({},n,i)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,Hn=Be.current,le(Be,t),le(Ge,Ge.current),!0}function Lh(t,e,n){var i=t.stateNode;if(!i)throw Error(P(169));n?(t=Kp(t,e,Hn),i.__reactInternalMemoizedMergedChildContext=t,ce(Ge),ce(Be),le(Be,t)):ce(Ge),le(Ge,n)}var Kt=null,Ul=!1,$o=!1;function Xp(t){Kt===null?Kt=[t]:Kt.push(t)}function wy(t){Ul=!0,Xp(t)}function Pn(){if(!$o&&Kt!==null){$o=!0;var t=0,e=re;try{var n=Kt;for(re=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Kt=null,Ul=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(t+1)),xp(Ku,Pn),s}finally{re=e,$o=!1}}return null}var vi=[],gi=0,xl=null,wl=0,ct=[],ht=0,qn=null,Xt=1,Qt="";function zn(t,e){vi[gi++]=wl,vi[gi++]=xl,xl=t,wl=e}function Qp(t,e,n){ct[ht++]=Xt,ct[ht++]=Qt,ct[ht++]=qn,qn=t;var i=Xt;t=Qt;var s=32-kt(i)-1;i&=~(1<<s),n+=1;var r=32-kt(e)+s;if(30<r){var l=s-s%5;r=(i&(1<<l)-1).toString(32),i>>=l,s-=l,Xt=1<<32-kt(e)+s|n<<s|i,Qt=r+t}else Xt=1<<r|n<<s|i,Qt=t}function nc(t){t.return!==null&&(zn(t,1),Qp(t,1,0))}function ic(t){for(;t===xl;)xl=vi[--gi],vi[gi]=null,wl=vi[--gi],vi[gi]=null;for(;t===qn;)qn=ct[--ht],ct[ht]=null,Qt=ct[--ht],ct[ht]=null,Xt=ct[--ht],ct[ht]=null}var rt=null,st=null,he=!1,_t=null;function Jp(t,e){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rt=t,st=xn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rt=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qn!==null?{id:Xt,overflow:Qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rt=t,st=null,!0):!1;default:return!1}}function Ka(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xa(t){if(he){var e=st;if(e){var n=e;if(!zh(t,e)){if(Ka(t))throw Error(P(418));e=xn(n.nextSibling);var i=rt;e&&zh(t,e)?Jp(i,n):(t.flags=t.flags&-4097|2,he=!1,rt=t)}}else{if(Ka(t))throw Error(P(418));t.flags=t.flags&-4097|2,he=!1,rt=t}}}function Oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rt=t}function Nr(t){if(t!==rt)return!1;if(!he)return Oh(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ua(t.type,t.memoizedProps)),e&&(e=st)){if(Ka(t))throw Gp(),Error(P(418));for(;e;)Jp(t,e),e=xn(e.nextSibling)}if(Oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){st=xn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}st=null}}else st=rt?xn(t.stateNode.nextSibling):null;return!0}function Gp(){for(var t=st;t;)t=xn(t.nextSibling)}function Pi(){st=rt=null,he=!1}function sc(t){_t===null?_t=[t]:_t.push(t)}var by=sn.ReactCurrentBatchConfig;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var i=n.stateNode}if(!i)throw Error(P(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var o=s.refs;l===null?delete o[r]:o[r]=l},e._stringRef=r,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function _r(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $h(t){var e=t._init;return e(t._payload)}function Yp(t){function e(v,g){if(t){var w=v.deletions;w===null?(v.deletions=[g],v.flags|=16):w.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function i(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Nn(v,g),v.index=0,v.sibling=null,v}function r(v,g,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<g?(v.flags|=2,g):w):(v.flags|=2,g)):(v.flags|=1048576,g)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,g,w,N){return g===null||g.tag!==6?(g=Uo(w,v.mode,N),g.return=v,g):(g=s(g,w),g.return=v,g)}function a(v,g,w,N){var k=w.type;return k===ci?h(v,g,w.props.children,N,w.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===un&&$h(k)===g.type)?(N=s(g,w.props),N.ref=ts(v,g,w),N.return=v,N):(N=Zr(w.type,w.key,w.props,null,v.mode,N),N.ref=ts(v,g,w),N.return=v,N)}function u(v,g,w,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Wo(w,v.mode,N),g.return=v,g):(g=s(g,w.children||[]),g.return=v,g)}function h(v,g,w,N,k){return g===null||g.tag!==7?(g=Vn(w,v.mode,N,k),g.return=v,g):(g=s(g,w),g.return=v,g)}function d(v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Uo(""+g,v.mode,w),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fr:return w=Zr(g.type,g.key,g.props,null,v.mode,w),w.ref=ts(v,null,g),w.return=v,w;case ui:return g=Wo(g,v.mode,w),g.return=v,g;case un:var N=g._init;return d(v,N(g._payload),w)}if(us(g)||Ji(g))return g=Vn(g,v.mode,w,null),g.return=v,g;_r(v,g)}return null}function f(v,g,w,N){var k=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(v,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fr:return w.key===k?a(v,g,w,N):null;case ui:return w.key===k?u(v,g,w,N):null;case un:return k=w._init,f(v,g,k(w._payload),N)}if(us(w)||Ji(w))return k!==null?null:h(v,g,w,N,null);_r(v,w)}return null}function y(v,g,w,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(w)||null,o(g,v,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fr:return v=v.get(N.key===null?w:N.key)||null,a(g,v,N,k);case ui:return v=v.get(N.key===null?w:N.key)||null,u(g,v,N,k);case un:var M=N._init;return y(v,g,w,M(N._payload),k)}if(us(N)||Ji(N))return v=v.get(w)||null,h(g,v,N,k,null);_r(g,N)}return null}function p(v,g,w,N){for(var k=null,M=null,E=g,j=g=0,I=null;E!==null&&j<w.length;j++){E.index>j?(I=E,E=null):I=E.sibling;var F=f(v,E,w[j],N);if(F===null){E===null&&(E=I);break}t&&E&&F.alternate===null&&e(v,E),g=r(F,g,j),M===null?k=F:M.sibling=F,M=F,E=I}if(j===w.length)return n(v,E),he&&zn(v,j),k;if(E===null){for(;j<w.length;j++)E=d(v,w[j],N),E!==null&&(g=r(E,g,j),M===null?k=E:M.sibling=E,M=E);return he&&zn(v,j),k}for(E=i(v,E);j<w.length;j++)I=y(E,v,j,w[j],N),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?j:I.key),g=r(I,g,j),M===null?k=I:M.sibling=I,M=I);return t&&E.forEach(function(K){return e(v,K)}),he&&zn(v,j),k}function m(v,g,w,N){var k=Ji(w);if(typeof k!="function")throw Error(P(150));if(w=k.call(w),w==null)throw Error(P(151));for(var M=k=null,E=g,j=g=0,I=null,F=w.next();E!==null&&!F.done;j++,F=w.next()){E.index>j?(I=E,E=null):I=E.sibling;var K=f(v,E,F.value,N);if(K===null){E===null&&(E=I);break}t&&E&&K.alternate===null&&e(v,E),g=r(K,g,j),M===null?k=K:M.sibling=K,M=K,E=I}if(F.done)return n(v,E),he&&zn(v,j),k;if(E===null){for(;!F.done;j++,F=w.next())F=d(v,F.value,N),F!==null&&(g=r(F,g,j),M===null?k=F:M.sibling=F,M=F);return he&&zn(v,j),k}for(E=i(v,E);!F.done;j++,F=w.next())F=y(E,v,j,F.value,N),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?j:F.key),g=r(F,g,j),M===null?k=F:M.sibling=F,M=F);return t&&E.forEach(function(ne){return e(v,ne)}),he&&zn(v,j),k}function x(v,g,w,N){if(typeof w=="object"&&w!==null&&w.type===ci&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fr:e:{for(var k=w.key,M=g;M!==null;){if(M.key===k){if(k=w.type,k===ci){if(M.tag===7){n(v,M.sibling),g=s(M,w.props.children),g.return=v,v=g;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===un&&$h(k)===M.type){n(v,M.sibling),g=s(M,w.props),g.ref=ts(v,M,w),g.return=v,v=g;break e}n(v,M);break}else e(v,M);M=M.sibling}w.type===ci?(g=Vn(w.props.children,v.mode,N,w.key),g.return=v,v=g):(N=Zr(w.type,w.key,w.props,null,v.mode,N),N.ref=ts(v,g,w),N.return=v,v=N)}return l(v);case ui:e:{for(M=w.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(v,g.sibling),g=s(g,w.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Wo(w,v.mode,N),g.return=v,v=g}return l(v);case un:return M=w._init,x(v,g,M(w._payload),N)}if(us(w))return p(v,g,w,N);if(Ji(w))return m(v,g,w,N);_r(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,w),g.return=v,v=g):(n(v,g),g=Uo(w,v.mode,N),g.return=v,v=g),l(v)):n(v,g)}return x}var Li=Yp(!0),Zp=Yp(!1),bl=Tn(null),Sl=null,yi=null,rc=null;function lc(){rc=yi=Sl=null}function oc(t){var e=bl.current;ce(bl),t._currentValue=e}function Qa(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ci(t,e){Sl=t,rc=yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Je=!0),t.firstContext=null)}function mt(t){var e=t._currentValue;if(rc!==t)if(t={context:t,memoizedValue:e,next:null},yi===null){if(Sl===null)throw Error(P(308));yi=t,Sl.dependencies={lanes:0,firstContext:t}}else yi=yi.next=t;return e}var Fn=null;function ac(t){Fn===null?Fn=[t]:Fn.push(t)}function em(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,ac(e)):(n.next=s.next,s.next=n),e.interleaved=n,tn(t,i)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cn=!1;function uc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Y&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,tn(t,n)}return s=i.interleaved,s===null?(e.next=e,ac(i)):(e.next=s.next,s.next=e),i.interleaved=e,tn(t,n)}function Kr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xu(t,n)}}function Fh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=l:r=r.next=l,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nl(t,e,n,i){var s=t.updateQueue;cn=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?r=u:l.next=u,l=a;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=a))}if(r!==null){var d=s.baseState;l=0,h=u=a=null,o=r;do{var f=o.lane,y=o.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(f=e,y=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(y,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(y,d,f):p,f==null)break e;d=me({},d,f);break e;case 2:cn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=y,a=d):h=h.next=y,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Xn|=l,t.lanes=l,t.memoizedState=d}}function Dh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(P(191,s));s.call(i)}}}var er={},Vt=Tn(er),Fs=Tn(er),Ds=Tn(er);function Dn(t){if(t===er)throw Error(P(174));return t}function cc(t,e){switch(le(Ds,e),le(Fs,t),le(Vt,er),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ma(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ma(e,t)}ce(Vt),le(Vt,e)}function zi(){ce(Vt),ce(Fs),ce(Ds)}function nm(t){Dn(Ds.current);var e=Dn(Vt.current),n=Ma(e,t.type);e!==n&&(le(Fs,t),le(Vt,n))}function hc(t){Fs.current===t&&(ce(Vt),ce(Fs))}var fe=Tn(0);function _l(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fo=[];function dc(){for(var t=0;t<Fo.length;t++)Fo[t]._workInProgressVersionPrimary=null;Fo.length=0}var Xr=sn.ReactCurrentDispatcher,Do=sn.ReactCurrentBatchConfig,Kn=0,pe=null,Ee=null,je=null,kl=!1,ys=!1,As=0,Sy=0;function $e(){throw Error(P(321))}function fc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ct(t[n],e[n]))return!1;return!0}function pc(t,e,n,i,s,r){if(Kn=r,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xr.current=t===null||t.memoizedState===null?Ey:Cy,t=n(i,s),ys){r=0;do{if(ys=!1,As=0,25<=r)throw Error(P(301));r+=1,je=Ee=null,e.updateQueue=null,Xr.current=jy,t=n(i,s)}while(ys)}if(Xr.current=El,e=Ee!==null&&Ee.next!==null,Kn=0,je=Ee=pe=null,kl=!1,e)throw Error(P(300));return t}function mc(){var t=As!==0;return As=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?pe.memoizedState=je=t:je=je.next=t,je}function vt(){if(Ee===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=je===null?pe.memoizedState:je.next;if(e!==null)je=e,Ee=t;else{if(t===null)throw Error(P(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},je===null?pe.memoizedState=je=t:je=je.next=t}return je}function Bs(t,e){return typeof e=="function"?e(t):e}function Ao(t){var e=vt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=Ee,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var l=s.next;s.next=r.next,r.next=l}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var o=l=null,a=null,u=r;do{var h=u.lane;if((Kn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=d,l=i):a=a.next=d,pe.lanes|=h,Xn|=h}u=u.next}while(u!==null&&u!==r);a===null?l=i:a.next=o,Ct(i,e.memoizedState)||(Je=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,pe.lanes|=r,Xn|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bo(t){var e=vt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do r=t(r,l.action),l=l.next;while(l!==s);Ct(r,e.memoizedState)||(Je=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function im(){}function sm(t,e){var n=pe,i=vt(),s=e(),r=!Ct(i.memoizedState,s);if(r&&(i.memoizedState=s,Je=!0),i=i.queue,vc(om.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Vs(9,lm.bind(null,n,i,s,e),void 0,null),Me===null)throw Error(P(349));Kn&30||rm(n,e,s)}return s}function rm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lm(t,e,n,i){e.value=n,e.getSnapshot=i,am(e)&&um(t)}function om(t,e,n){return n(function(){am(e)&&um(t)})}function am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ct(t,n)}catch{return!0}}function um(t){var e=tn(t,1);e!==null&&Et(e,t,1,-1)}function Ah(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=ky.bind(null,pe,t),[e.memoizedState,t]}function Vs(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function cm(){return vt().memoizedState}function Qr(t,e,n,i){var s=Ft();pe.flags|=t,s.memoizedState=Vs(1|e,n,void 0,i===void 0?null:i)}function Wl(t,e,n,i){var s=vt();i=i===void 0?null:i;var r=void 0;if(Ee!==null){var l=Ee.memoizedState;if(r=l.destroy,i!==null&&fc(i,l.deps)){s.memoizedState=Vs(e,n,r,i);return}}pe.flags|=t,s.memoizedState=Vs(1|e,n,r,i)}function Bh(t,e){return Qr(8390656,8,t,e)}function vc(t,e){return Wl(2048,8,t,e)}function hm(t,e){return Wl(4,2,t,e)}function dm(t,e){return Wl(4,4,t,e)}function fm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pm(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4,4,fm.bind(null,e,t),n)}function gc(){}function mm(t,e){var n=vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&fc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function vm(t,e){var n=vt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&fc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function gm(t,e,n){return Kn&21?(Ct(n,e)||(n=Sp(),pe.lanes|=n,Xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Je=!0),t.memoizedState=n)}function Ny(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var i=Do.transition;Do.transition={};try{t(!1),e()}finally{re=n,Do.transition=i}}function ym(){return vt().memoizedState}function _y(t,e,n){var i=Sn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},xm(t))wm(e,n);else if(n=em(t,e,n,i),n!==null){var s=We();Et(n,t,i,s),bm(n,e,i)}}function ky(t,e,n){var i=Sn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(xm(t))wm(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,o=r(l,n);if(s.hasEagerState=!0,s.eagerState=o,Ct(o,l)){var a=e.interleaved;a===null?(s.next=s,ac(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=em(t,e,s,i),n!==null&&(s=We(),Et(n,t,i,s),bm(n,e,i))}}function xm(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function wm(t,e){ys=kl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bm(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Xu(t,n)}}var El={readContext:mt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Ey={readContext:mt,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:mt,useEffect:Bh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qr(4194308,4,fm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qr(4,2,t,e)},useMemo:function(t,e){var n=Ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ft();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=_y.bind(null,pe,t),[i.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:Ah,useDebugValue:gc,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=Ah(!1),e=t[0];return t=Ny.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=pe,s=Ft();if(he){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Me===null)throw Error(P(349));Kn&30||rm(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Bh(om.bind(null,i,r,t),[t]),i.flags|=2048,Vs(9,lm.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Ft(),e=Me.identifierPrefix;if(he){var n=Qt,i=Xt;n=(i&~(1<<32-kt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=As++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cy={readContext:mt,useCallback:mm,useContext:mt,useEffect:vc,useImperativeHandle:pm,useInsertionEffect:hm,useLayoutEffect:dm,useMemo:vm,useReducer:Ao,useRef:cm,useState:function(){return Ao(Bs)},useDebugValue:gc,useDeferredValue:function(t){var e=vt();return gm(e,Ee.memoizedState,t)},useTransition:function(){var t=Ao(Bs)[0],e=vt().memoizedState;return[t,e]},useMutableSource:im,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1},jy={readContext:mt,useCallback:mm,useContext:mt,useEffect:vc,useImperativeHandle:pm,useInsertionEffect:hm,useLayoutEffect:dm,useMemo:vm,useReducer:Bo,useRef:cm,useState:function(){return Bo(Bs)},useDebugValue:gc,useDeferredValue:function(t){var e=vt();return Ee===null?e.memoizedState=t:gm(e,Ee.memoizedState,t)},useTransition:function(){var t=Bo(Bs)[0],e=vt().memoizedState;return[t,e]},useMutableSource:im,useSyncExternalStore:sm,useId:ym,unstable_isNewReconciler:!1};function bt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ja(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hl={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=We(),s=Sn(t),r=Yt(i,s);r.payload=e,n!=null&&(r.callback=n),e=wn(t,r,s),e!==null&&(Et(e,t,s,i),Kr(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=We(),s=Sn(t),r=Yt(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=wn(t,r,s),e!==null&&(Et(e,t,s,i),Kr(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=We(),i=Sn(t),s=Yt(n,i);s.tag=2,e!=null&&(s.callback=e),e=wn(t,s,i),e!==null&&(Et(e,t,i,n),Kr(e,t,i))}};function Vh(t,e,n,i,s,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,l):e.prototype&&e.prototype.isPureReactComponent?!Ls(n,i)||!Ls(s,r):!0}function Sm(t,e,n){var i=!1,s=jn,r=e.contextType;return typeof r=="object"&&r!==null?r=mt(r):(s=Ye(e)?Hn:Be.current,i=e.contextTypes,r=(i=i!=null)?Ti(t,s):jn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ih(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Hl.enqueueReplaceState(e,e.state,null)}function Ga(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},uc(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=mt(r):(r=Ye(e)?Hn:Be.current,s.context=Ti(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ja(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hl.enqueueReplaceState(s,s.state,null),Nl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Oi(t,e){try{var n="",i=e;do n+=ng(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Vo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ya(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var My=typeof WeakMap=="function"?WeakMap:Map;function Nm(t,e,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){jl||(jl=!0,au=i),Ya(t,e)},n}function _m(t,e,n){n=Yt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Ya(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Ya(t,e),typeof i!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Uh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new My;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=Uy.bind(null,t,e,n),e.then(t,t))}function Wh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hh(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yt(-1,1),e.tag=2,wn(n,e,1))),n.lanes|=1),t)}var Ry=sn.ReactCurrentOwner,Je=!1;function Ue(t,e,n,i){e.child=t===null?Zp(e,null,n,i):Li(e,t.child,n,i)}function qh(t,e,n,i,s){n=n.render;var r=e.ref;return Ci(e,s),i=pc(t,e,n,i,r,s),n=mc(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nn(t,e,s)):(he&&n&&nc(e),e.flags|=1,Ue(t,e,i,s),e.child)}function Kh(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!kc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,km(t,e,r,i,s)):(t=Zr(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var l=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ls,n(l,i)&&t.ref===e.ref)return nn(t,e,s)}return e.flags|=1,t=Nn(r,i),t.ref=e.ref,t.return=e,e.child=t}function km(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Ls(r,i)&&t.ref===e.ref)if(Je=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Je=!0);else return e.lanes=t.lanes,nn(t,e,s)}return Za(t,e,n,i,s)}function Em(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(wi,it),it|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(wi,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,le(wi,it),it|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,le(wi,it),it|=i;return Ue(t,e,s,n),e.child}function Cm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Za(t,e,n,i,s){var r=Ye(n)?Hn:Be.current;return r=Ti(e,r),Ci(e,s),n=pc(t,e,n,i,r,s),i=mc(),t!==null&&!Je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nn(t,e,s)):(he&&i&&nc(e),e.flags|=1,Ue(t,e,n,s),e.child)}function Xh(t,e,n,i,s){if(Ye(n)){var r=!0;yl(e)}else r=!1;if(Ci(e,s),e.stateNode===null)Jr(t,e),Sm(e,n,i),Ga(e,n,i,s),i=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=Ye(n)?Hn:Be.current,u=Ti(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==i||a!==u)&&Ih(e,l,i,u),cn=!1;var f=e.memoizedState;l.state=f,Nl(e,i,l,s),a=e.memoizedState,o!==i||f!==a||Ge.current||cn?(typeof h=="function"&&(Ja(e,n,h,i),a=e.memoizedState),(o=cn||Vh(e,n,o,i,f,a,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),l.props=i,l.state=a,l.context=u,i=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,tm(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:bt(e.type,o),l.props=u,d=e.pendingProps,f=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=mt(a):(a=Ye(n)?Hn:Be.current,a=Ti(e,a));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||f!==a)&&Ih(e,l,i,a),cn=!1,f=e.memoizedState,l.state=f,Nl(e,i,l,s);var p=e.memoizedState;o!==d||f!==p||Ge.current||cn?(typeof y=="function"&&(Ja(e,n,y,i),p=e.memoizedState),(u=cn||Vh(e,n,u,i,f,p,a)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,p,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,p,a)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),l.props=i,l.state=p,l.context=a,i=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return eu(t,e,n,i,r,s)}function eu(t,e,n,i,s,r){Cm(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return s&&Lh(e,n,!1),nn(t,e,r);i=e.stateNode,Ry.current=e;var o=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Li(e,t.child,null,r),e.child=Li(e,null,o,r)):Ue(t,e,o,r),e.memoizedState=i.state,s&&Lh(e,n,!0),e.child}function jm(t){var e=t.stateNode;e.pendingContext?Ph(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ph(t,e.context,!1),cc(t,e.containerInfo)}function Qh(t,e,n,i,s){return Pi(),sc(s),e.flags|=256,Ue(t,e,n,i),e.child}var tu={dehydrated:null,treeContext:null,retryLane:0};function nu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mm(t,e,n){var i=e.pendingProps,s=fe.current,r=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),le(fe,s&1),t===null)return Xa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,r?(i=e.mode,r=e.child,l={mode:"hidden",children:l},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Xl(l,i,0,null),t=Vn(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=nu(n),e.memoizedState=tu,t):yc(e,l));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ty(t,e,l,i,o,s,n);if(r){r=i.fallback,l=e.mode,s=t.child,o=s.sibling;var a={mode:"hidden",children:i.children};return!(l&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Nn(s,a),i.subtreeFlags=s.subtreeFlags&14680064),o!==null?r=Nn(o,r):(r=Vn(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l=l===null?nu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=t.childLanes&~n,e.memoizedState=tu,i}return r=t.child,t=r.sibling,i=Nn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function yc(t,e){return e=Xl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kr(t,e,n,i){return i!==null&&sc(i),Li(e,t.child,null,n),t=yc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ty(t,e,n,i,s,r,l){if(n)return e.flags&256?(e.flags&=-257,i=Vo(Error(P(422))),kr(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Xl({mode:"visible",children:i.children},s,0,null),r=Vn(r,s,l,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Li(e,t.child,null,l),e.child.memoizedState=nu(l),e.memoizedState=tu,r);if(!(e.mode&1))return kr(t,e,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var o=i.dgst;return i=o,r=Error(P(419)),i=Vo(r,i,void 0),kr(t,e,l,i)}if(o=(l&t.childLanes)!==0,Je||o){if(i=Me,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,tn(t,s),Et(i,t,s,-1))}return _c(),i=Vo(Error(P(421))),kr(t,e,l,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Wy.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,st=xn(s.nextSibling),rt=e,he=!0,_t=null,t!==null&&(ct[ht++]=Xt,ct[ht++]=Qt,ct[ht++]=qn,Xt=t.id,Qt=t.overflow,qn=e),e=yc(e,i.children),e.flags|=4096,e)}function Jh(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Qa(t.return,e,n)}function Io(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Rm(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Ue(t,e,i.children,n),i=fe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,n,e);else if(t.tag===19)Jh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(le(fe,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&_l(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Io(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_l(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Io(e,!0,n,null,r);break;case"together":Io(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Py(t,e,n){switch(e.tag){case 3:jm(e),Pi();break;case 5:nm(e);break;case 1:Ye(e.type)&&yl(e);break;case 4:cc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;le(bl,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(le(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?Mm(t,e,n):(le(fe,fe.current&1),t=nn(t,e,n),t!==null?t.sibling:null);le(fe,fe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Rm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(fe,fe.current),i)break;return null;case 22:case 23:return e.lanes=0,Em(t,e,n)}return nn(t,e,n)}var Tm,iu,Pm,Lm;Tm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iu=function(){};Pm=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Dn(Vt.current);var r=null;switch(n){case"input":s=ka(t,s),i=ka(t,i),r=[];break;case"select":s=me({},s,{value:void 0}),i=me({},i,{value:void 0}),r=[];break;case"textarea":s=ja(t,s),i=ja(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=vl)}Ra(n,i);var l;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var a=i[u];if(o=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(r||(r=[]),r.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ae("scroll",t),r||o===a||(r=[])):(r=r||[]).push(u,a))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};Lm=function(t,e,n,i){n!==i&&(e.flags|=4)};function ns(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ly(t,e,n){var i=e.pendingProps;switch(ic(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return Ye(e.type)&&gl(),Fe(e),null;case 3:return i=e.stateNode,zi(),ce(Ge),ce(Be),dc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Nr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&(hu(_t),_t=null))),iu(t,e),Fe(e),null;case 5:hc(e);var s=Dn(Ds.current);if(n=e.type,t!==null&&e.stateNode!=null)Pm(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(P(166));return Fe(e),null}if(t=Dn(Vt.current),Nr(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Dt]=e,i[$s]=r,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",i),ae("close",i);break;case"iframe":case"object":case"embed":ae("load",i);break;case"video":case"audio":for(s=0;s<hs.length;s++)ae(hs[s],i);break;case"source":ae("error",i);break;case"img":case"image":case"link":ae("error",i),ae("load",i);break;case"details":ae("toggle",i);break;case"input":rh(i,r),ae("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},ae("invalid",i);break;case"textarea":oh(i,r),ae("invalid",i)}Ra(n,r),s=null;for(var l in r)if(r.hasOwnProperty(l)){var o=r[l];l==="children"?typeof o=="string"?i.textContent!==o&&(r.suppressHydrationWarning!==!0&&Sr(i.textContent,o,t),s=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Sr(i.textContent,o,t),s=["children",""+o]):Es.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ae("scroll",i)}switch(n){case"input":pr(i),lh(i,r,!0);break;case"textarea":pr(i),ah(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=vl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=op(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Dt]=e,t[$s]=i,Tm(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ta(n,i),n){case"dialog":ae("cancel",t),ae("close",t),s=i;break;case"iframe":case"object":case"embed":ae("load",t),s=i;break;case"video":case"audio":for(s=0;s<hs.length;s++)ae(hs[s],t);s=i;break;case"source":ae("error",t),s=i;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=i;break;case"details":ae("toggle",t),s=i;break;case"input":rh(t,i),s=ka(t,i),ae("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=me({},i,{value:void 0}),ae("invalid",t);break;case"textarea":oh(t,i),s=ja(t,i),ae("invalid",t);break;default:s=i}Ra(n,s),o=s;for(r in o)if(o.hasOwnProperty(r)){var a=o[r];r==="style"?cp(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ap(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cs(t,a):typeof a=="number"&&Cs(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Es.hasOwnProperty(r)?a!=null&&r==="onScroll"&&ae("scroll",t):a!=null&&Iu(t,r,a,l))}switch(n){case"input":pr(t),lh(t,i,!1);break;case"textarea":pr(t),ah(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Cn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Ni(t,!!i.multiple,r,!1):i.defaultValue!=null&&Ni(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fe(e),null;case 6:if(t&&e.stateNode!=null)Lm(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(n=Dn(Ds.current),Dn(Vt.current),Nr(e)){if(i=e.stateNode,n=e.memoizedProps,i[Dt]=e,(r=i.nodeValue!==n)&&(t=rt,t!==null))switch(t.tag){case 3:Sr(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sr(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Dt]=e,e.stateNode=i}return Fe(e),null;case 13:if(ce(fe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&st!==null&&e.mode&1&&!(e.flags&128))Gp(),Pi(),e.flags|=98560,r=!1;else if(r=Nr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[Dt]=e}else Pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),r=!1}else _t!==null&&(hu(_t),_t=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ce===0&&(Ce=3):_c())),e.updateQueue!==null&&(e.flags|=4),Fe(e),null);case 4:return zi(),iu(t,e),t===null&&zs(e.stateNode.containerInfo),Fe(e),null;case 10:return oc(e.type._context),Fe(e),null;case 17:return Ye(e.type)&&gl(),Fe(e),null;case 19:if(ce(fe),r=e.memoizedState,r===null)return Fe(e),null;if(i=(e.flags&128)!==0,l=r.rendering,l===null)if(i)ns(r,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=_l(t),l!==null){for(e.flags|=128,ns(r,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,t=l.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(fe,fe.current&1|2),e.child}t=t.sibling}r.tail!==null&&ye()>$i&&(e.flags|=128,i=!0,ns(r,!1),e.lanes=4194304)}else{if(!i)if(t=_l(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!he)return Fe(e),null}else 2*ye()-r.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,i=!0,ns(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(n=r.last,n!==null?n.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ye(),e.sibling=null,n=fe.current,le(fe,i?n&1|2:n&1),e):(Fe(e),null);case 22:case 23:return Nc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?it&1073741824&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function zy(t,e){switch(ic(e),e.tag){case 1:return Ye(e.type)&&gl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),ce(Ge),ce(Be),dc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hc(e),null;case 13:if(ce(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(fe),null;case 4:return zi(),null;case 10:return oc(e.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Er=!1,De=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,$=null;function xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ve(t,e,i)}else n.current=null}function su(t,e,n){try{n()}catch(i){ve(t,e,i)}}var Gh=!1;function $y(t,e){if(Va=fl,t=Dp(),tc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var l=0,o=-1,a=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(o=l+s),d!==r||i!==0&&d.nodeType!==3||(a=l+i),d.nodeType===3&&(l+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++u===s&&(o=l),f===r&&++h===i&&(a=l),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ia={focusedElem:t,selectionRange:n},fl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:bt(e.type,m),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(N){ve(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return p=Gh,Gh=!1,p}function xs(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&su(e,n,r)}s=s.next}while(s!==i)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ru(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zm(t){var e=t.alternate;e!==null&&(t.alternate=null,zm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dt],delete e[$s],delete e[Ha],delete e[yy],delete e[xy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Om(t){return t.tag===5||t.tag===3||t.tag===4}function Yh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Om(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vl));else if(i!==4&&(t=t.child,t!==null))for(lu(t,e,n),t=t.sibling;t!==null;)lu(t,e,n),t=t.sibling}function ou(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ou(t,e,n),t=t.sibling;t!==null;)ou(t,e,n),t=t.sibling}var Pe=null,St=!1;function ln(t,e,n){for(n=n.child;n!==null;)$m(t,e,n),n=n.sibling}function $m(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Dl,n)}catch{}switch(n.tag){case 5:De||xi(n,e);case 6:var i=Pe,s=St;Pe=null,ln(t,e,n),Pe=i,St=s,Pe!==null&&(St?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(St?(t=Pe,n=n.stateNode,t.nodeType===8?Oo(t.parentNode,n):t.nodeType===1&&Oo(t,n),Ts(t)):Oo(Pe,n.stateNode));break;case 4:i=Pe,s=St,Pe=n.stateNode.containerInfo,St=!0,ln(t,e,n),Pe=i,St=s;break;case 0:case 11:case 14:case 15:if(!De&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&su(n,e,l),s=s.next}while(s!==i)}ln(t,e,n);break;case 1:if(!De&&(xi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){ve(n,e,o)}ln(t,e,n);break;case 21:ln(t,e,n);break;case 22:n.mode&1?(De=(i=De)||n.memoizedState!==null,ln(t,e,n),De=i):ln(t,e,n);break;default:ln(t,e,n)}}function Zh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Oy),e.forEach(function(i){var s=Hy.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:Pe=o.stateNode,St=!1;break e;case 3:Pe=o.stateNode.containerInfo,St=!0;break e;case 4:Pe=o.stateNode.containerInfo,St=!0;break e}o=o.return}if(Pe===null)throw Error(P(160));$m(r,l,s),Pe=null,St=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ve(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fm(e,t),e=e.sibling}function Fm(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Lt(t),i&4){try{xs(3,t,t.return),ql(3,t)}catch(m){ve(t,t.return,m)}try{xs(5,t,t.return)}catch(m){ve(t,t.return,m)}}break;case 1:wt(e,t),Lt(t),i&512&&n!==null&&xi(n,n.return);break;case 5:if(wt(e,t),Lt(t),i&512&&n!==null&&xi(n,n.return),t.flags&32){var s=t.stateNode;try{Cs(s,"")}catch(m){ve(t,t.return,m)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,l=n!==null?n.memoizedProps:r,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&rp(s,r),Ta(o,l);var u=Ta(o,r);for(l=0;l<a.length;l+=2){var h=a[l],d=a[l+1];h==="style"?cp(s,d):h==="dangerouslySetInnerHTML"?ap(s,d):h==="children"?Cs(s,d):Iu(s,h,d,u)}switch(o){case"input":Ea(s,r);break;case"textarea":lp(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var y=r.value;y!=null?Ni(s,!!r.multiple,y,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ni(s,!!r.multiple,r.defaultValue,!0):Ni(s,!!r.multiple,r.multiple?[]:"",!1))}s[$s]=r}catch(m){ve(t,t.return,m)}}break;case 6:if(wt(e,t),Lt(t),i&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(m){ve(t,t.return,m)}}break;case 3:if(wt(e,t),Lt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(m){ve(t,t.return,m)}break;case 4:wt(e,t),Lt(t);break;case 13:wt(e,t),Lt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(bc=ye())),i&4&&Zh(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(De=(u=De)||h,wt(e,t),De=u):wt(e,t),Lt(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for($=t,h=t.child;h!==null;){for(d=$=h;$!==null;){switch(f=$,y=f.child,f.tag){case 0:case 11:case 14:case 15:xs(4,f,f.return);break;case 1:xi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){ve(i,n,m)}}break;case 5:xi(f,f.return);break;case 22:if(f.memoizedState!==null){td(d);continue}}y!==null?(y.return=f,$=y):td(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=up("display",l))}catch(m){ve(t,t.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){ve(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wt(e,t),Lt(t),i&4&&Zh(t);break;case 21:break;default:wt(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Om(n)){var i=n;break e}n=n.return}throw Error(P(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Cs(s,""),i.flags&=-33);var r=Yh(t);ou(t,r,s);break;case 3:case 4:var l=i.stateNode.containerInfo,o=Yh(t);lu(t,o,l);break;default:throw Error(P(161))}}catch(a){ve(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fy(t,e,n){$=t,Dm(t)}function Dm(t,e,n){for(var i=(t.mode&1)!==0;$!==null;){var s=$,r=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||Er;if(!l){var o=s.alternate,a=o!==null&&o.memoizedState!==null||De;o=Er;var u=De;if(Er=l,(De=a)&&!u)for($=s;$!==null;)l=$,a=l.child,l.tag===22&&l.memoizedState!==null?nd(s):a!==null?(a.return=l,$=a):nd(s);for(;r!==null;)$=r,Dm(r),r=r.sibling;$=s,Er=o,De=u}ed(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,$=r):ed(t)}}function ed(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||ql(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!De)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Dh(e,r,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dh(e,l,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ts(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}De||e.flags&512&&ru(e)}catch(f){ve(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function td(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function nd(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(a){ve(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){ve(e,s,a)}}var r=e.return;try{ru(e)}catch(a){ve(e,r,a)}break;case 5:var l=e.return;try{ru(e)}catch(a){ve(e,l,a)}}}catch(a){ve(e,e.return,a)}if(e===t){$=null;break}var o=e.sibling;if(o!==null){o.return=e.return,$=o;break}$=e.return}}var Dy=Math.ceil,Cl=sn.ReactCurrentDispatcher,xc=sn.ReactCurrentOwner,pt=sn.ReactCurrentBatchConfig,Y=0,Me=null,Se=null,ze=0,it=0,wi=Tn(0),Ce=0,Is=null,Xn=0,Kl=0,wc=0,ws=null,Qe=null,bc=0,$i=1/0,qt=null,jl=!1,au=null,bn=null,Cr=!1,pn=null,Ml=0,bs=0,uu=null,Gr=-1,Yr=0;function We(){return Y&6?ye():Gr!==-1?Gr:Gr=ye()}function Sn(t){return t.mode&1?Y&2&&ze!==0?ze&-ze:by.transition!==null?(Yr===0&&(Yr=Sp()),Yr):(t=re,t!==0||(t=window.event,t=t===void 0?16:Mp(t.type)),t):1}function Et(t,e,n,i){if(50<bs)throw bs=0,uu=null,Error(P(185));Gs(t,n,i),(!(Y&2)||t!==Me)&&(t===Me&&(!(Y&2)&&(Kl|=n),Ce===4&&dn(t,ze)),Ze(t,i),n===1&&Y===0&&!(e.mode&1)&&($i=ye()+500,Ul&&Pn()))}function Ze(t,e){var n=t.callbackNode;bg(t,e);var i=dl(t,t===Me?ze:0);if(i===0)n!==null&&hh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&hh(n),e===1)t.tag===0?wy(id.bind(null,t)):Xp(id.bind(null,t)),vy(function(){!(Y&6)&&Pn()}),n=null;else{switch(Np(i)){case 1:n=Ku;break;case 4:n=wp;break;case 16:n=hl;break;case 536870912:n=bp;break;default:n=hl}n=qm(n,Am.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Am(t,e){if(Gr=-1,Yr=0,Y&6)throw Error(P(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var i=dl(t,t===Me?ze:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Rl(t,i);else{e=i;var s=Y;Y|=2;var r=Vm();(Me!==t||ze!==e)&&(qt=null,$i=ye()+500,Bn(t,e));do try{Vy();break}catch(o){Bm(t,o)}while(!0);lc(),Cl.current=r,Y=s,Se!==null?e=0:(Me=null,ze=0,e=Ce)}if(e!==0){if(e===2&&(s=$a(t),s!==0&&(i=s,e=cu(t,s))),e===1)throw n=Is,Bn(t,0),dn(t,i),Ze(t,ye()),n;if(e===6)dn(t,i);else{if(s=t.current.alternate,!(i&30)&&!Ay(s)&&(e=Rl(t,i),e===2&&(r=$a(t),r!==0&&(i=r,e=cu(t,r))),e===1))throw n=Is,Bn(t,0),dn(t,i),Ze(t,ye()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(P(345));case 2:On(t,Qe,qt);break;case 3:if(dn(t,i),(i&130023424)===i&&(e=bc+500-ye(),10<e)){if(dl(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){We(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wa(On.bind(null,t,Qe,qt),e);break}On(t,Qe,qt);break;case 4:if(dn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var l=31-kt(i);r=1<<l,l=e[l],l>s&&(s=l),i&=~r}if(i=s,i=ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Dy(i/1960))-i,10<i){t.timeoutHandle=Wa(On.bind(null,t,Qe,qt),i);break}On(t,Qe,qt);break;case 5:On(t,Qe,qt);break;default:throw Error(P(329))}}}return Ze(t,ye()),t.callbackNode===n?Am.bind(null,t):null}function cu(t,e){var n=ws;return t.current.memoizedState.isDehydrated&&(Bn(t,e).flags|=256),t=Rl(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&hu(e)),t}function hu(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function Ay(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Ct(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~wc,e&=~Kl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),i=1<<n;t[n]=-1,e&=~i}}function id(t){if(Y&6)throw Error(P(327));ji();var e=dl(t,0);if(!(e&1))return Ze(t,ye()),null;var n=Rl(t,e);if(t.tag!==0&&n===2){var i=$a(t);i!==0&&(e=i,n=cu(t,i))}if(n===1)throw n=Is,Bn(t,0),dn(t,e),Ze(t,ye()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,Qe,qt),Ze(t,ye()),null}function Sc(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&($i=ye()+500,Ul&&Pn())}}function Qn(t){pn!==null&&pn.tag===0&&!(Y&6)&&ji();var e=Y;Y|=1;var n=pt.transition,i=re;try{if(pt.transition=null,re=1,t)return t()}finally{re=i,pt.transition=n,Y=e,!(Y&6)&&Pn()}}function Nc(){it=wi.current,ce(wi)}function Bn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,my(n)),Se!==null)for(n=Se.return;n!==null;){var i=n;switch(ic(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&gl();break;case 3:zi(),ce(Ge),ce(Be),dc();break;case 5:hc(i);break;case 4:zi();break;case 13:ce(fe);break;case 19:ce(fe);break;case 10:oc(i.type._context);break;case 22:case 23:Nc()}n=n.return}if(Me=t,Se=t=Nn(t.current,null),ze=it=e,Ce=0,Is=null,wc=Kl=Xn=0,Qe=ws=null,Fn!==null){for(e=0;e<Fn.length;e++)if(n=Fn[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var l=r.next;r.next=s,i.next=l}n.pending=i}Fn=null}return t}function Bm(t,e){do{var n=Se;try{if(lc(),Xr.current=El,kl){for(var i=pe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}kl=!1}if(Kn=0,je=Ee=pe=null,ys=!1,As=0,xc.current=null,n===null||n.return===null){Ce=1,Is=e,Se=null;break}e:{var r=t,l=n.return,o=n,a=e;if(e=ze,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Wh(l);if(y!==null){y.flags&=-257,Hh(y,l,o,r,e),y.mode&1&&Uh(r,u,e),e=y,a=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(a),e.updateQueue=m}else p.add(a);break e}else{if(!(e&1)){Uh(r,u,e),_c();break e}a=Error(P(426))}}else if(he&&o.mode&1){var x=Wh(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Hh(x,l,o,r,e),sc(Oi(a,o));break e}}r=a=Oi(a,o),Ce!==4&&(Ce=2),ws===null?ws=[r]:ws.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=Nm(r,a,e);Fh(r,v);break e;case 1:o=a;var g=r.type,w=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bn===null||!bn.has(w)))){r.flags|=65536,e&=-e,r.lanes|=e;var N=_m(r,o,e);Fh(r,N);break e}}r=r.return}while(r!==null)}Um(n)}catch(k){e=k,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Vm(){var t=Cl.current;return Cl.current=El,t===null?El:t}function _c(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Me===null||!(Xn&268435455)&&!(Kl&268435455)||dn(Me,ze)}function Rl(t,e){var n=Y;Y|=2;var i=Vm();(Me!==t||ze!==e)&&(qt=null,Bn(t,e));do try{By();break}catch(s){Bm(t,s)}while(!0);if(lc(),Y=n,Cl.current=i,Se!==null)throw Error(P(261));return Me=null,ze=0,Ce}function By(){for(;Se!==null;)Im(Se)}function Vy(){for(;Se!==null&&!dg();)Im(Se)}function Im(t){var e=Hm(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?Um(t):Se=e,xc.current=null}function Um(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zy(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,Se=null;return}}else if(n=Ly(n,e,it),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Ce===0&&(Ce=5)}function On(t,e,n){var i=re,s=pt.transition;try{pt.transition=null,re=1,Iy(t,e,n,i)}finally{pt.transition=s,re=i}return null}function Iy(t,e,n,i){do ji();while(pn!==null);if(Y&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Sg(t,r),t===Me&&(Se=Me=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cr||(Cr=!0,qm(hl,function(){return ji(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=pt.transition,pt.transition=null;var l=re;re=1;var o=Y;Y|=4,xc.current=null,$y(t,n),Fm(n,t),ay(Ia),fl=!!Va,Ia=Va=null,t.current=n,Fy(n),fg(),Y=o,re=l,pt.transition=r}else t.current=n;if(Cr&&(Cr=!1,pn=t,Ml=s),r=t.pendingLanes,r===0&&(bn=null),vg(n.stateNode),Ze(t,ye()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(jl)throw jl=!1,t=au,au=null,t;return Ml&1&&t.tag!==0&&ji(),r=t.pendingLanes,r&1?t===uu?bs++:(bs=0,uu=t):bs=0,Pn(),null}function ji(){if(pn!==null){var t=Np(Ml),e=pt.transition,n=re;try{if(pt.transition=null,re=16>t?16:t,pn===null)var i=!1;else{if(t=pn,pn=null,Ml=0,Y&6)throw Error(P(331));var s=Y;for(Y|=4,$=t.current;$!==null;){var r=$,l=r.child;if($.flags&16){var o=r.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for($=u;$!==null;){var h=$;switch(h.tag){case 0:case 11:case 15:xs(8,h,r)}var d=h.child;if(d!==null)d.return=h,$=d;else for(;$!==null;){h=$;var f=h.sibling,y=h.return;if(zm(h),h===u){$=null;break}if(f!==null){f.return=y,$=f;break}$=y}}}var p=r.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}$=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,$=l;else e:for(;$!==null;){if(r=$,r.flags&2048)switch(r.tag){case 0:case 11:case 15:xs(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,$=v;break e}$=r.return}}var g=t.current;for($=g;$!==null;){l=$;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,$=w;else e:for(l=g;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ql(9,o)}}catch(k){ve(o,o.return,k)}if(o===l){$=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,$=N;break e}$=o.return}}if(Y=s,Pn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Dl,t)}catch{}i=!0}return i}finally{re=n,pt.transition=e}}return!1}function sd(t,e,n){e=Oi(n,e),e=Nm(t,e,1),t=wn(t,e,1),e=We(),t!==null&&(Gs(t,1,e),Ze(t,e))}function ve(t,e,n){if(t.tag===3)sd(t,t,n);else for(;e!==null;){if(e.tag===3){sd(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(bn===null||!bn.has(i))){t=Oi(n,t),t=_m(e,t,1),e=wn(e,t,1),t=We(),e!==null&&(Gs(e,1,t),Ze(e,t));break}}e=e.return}}function Uy(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=We(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(ze&n)===n&&(Ce===4||Ce===3&&(ze&130023424)===ze&&500>ye()-bc?Bn(t,0):wc|=n),Ze(t,e)}function Wm(t,e){e===0&&(t.mode&1?(e=gr,gr<<=1,!(gr&130023424)&&(gr=4194304)):e=1);var n=We();t=tn(t,e),t!==null&&(Gs(t,e,n),Ze(t,n))}function Wy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wm(t,n)}function Hy(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(P(314))}i!==null&&i.delete(e),Wm(t,n)}var Hm;Hm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)Je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Je=!1,Py(t,e,n);Je=!!(t.flags&131072)}else Je=!1,he&&e.flags&1048576&&Qp(e,wl,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Jr(t,e),t=e.pendingProps;var s=Ti(e,Be.current);Ci(e,n),s=pc(null,e,i,t,s,n);var r=mc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ye(i)?(r=!0,yl(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uc(e),s.updater=Hl,e.stateNode=s,s._reactInternals=e,Ga(e,i,t,n),e=eu(null,e,i,!0,r,n)):(e.tag=0,he&&r&&nc(e),Ue(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Jr(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Ky(i),t=bt(i,t),s){case 0:e=Za(null,e,i,t,n);break e;case 1:e=Xh(null,e,i,t,n);break e;case 11:e=qh(null,e,i,t,n);break e;case 14:e=Kh(null,e,i,bt(i.type,t),n);break e}throw Error(P(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:bt(i,s),Za(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:bt(i,s),Xh(t,e,i,s,n);case 3:e:{if(jm(e),t===null)throw Error(P(387));i=e.pendingProps,r=e.memoizedState,s=r.element,tm(t,e),Nl(e,i,null,n);var l=e.memoizedState;if(i=l.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Oi(Error(P(423)),e),e=Qh(t,e,i,n,s);break e}else if(i!==s){s=Oi(Error(P(424)),e),e=Qh(t,e,i,n,s);break e}else for(st=xn(e.stateNode.containerInfo.firstChild),rt=e,he=!0,_t=null,n=Zp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pi(),i===s){e=nn(t,e,n);break e}Ue(t,e,i,n)}e=e.child}return e;case 5:return nm(e),t===null&&Xa(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,l=s.children,Ua(i,s)?l=null:r!==null&&Ua(i,r)&&(e.flags|=32),Cm(t,e),Ue(t,e,l,n),e.child;case 6:return t===null&&Xa(e),null;case 13:return Mm(t,e,n);case 4:return cc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Li(e,null,i,n):Ue(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:bt(i,s),qh(t,e,i,s,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,l=s.value,le(bl,i._currentValue),i._currentValue=l,r!==null)if(Ct(r.value,l)){if(r.children===s.children&&!Ge.current){e=nn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){l=r.child;for(var a=o.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=Yt(-1,n&-n),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Qa(r.return,n,e),o.lanes|=n;break}a=a.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(P(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Qa(l,n,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}Ue(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Ci(e,n),s=mt(s),i=i(s),e.flags|=1,Ue(t,e,i,n),e.child;case 14:return i=e.type,s=bt(i,e.pendingProps),s=bt(i.type,s),Kh(t,e,i,s,n);case 15:return km(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:bt(i,s),Jr(t,e),e.tag=1,Ye(i)?(t=!0,yl(e)):t=!1,Ci(e,n),Sm(e,i,s),Ga(e,i,s,n),eu(null,e,i,!0,t,n);case 19:return Rm(t,e,n);case 22:return Em(t,e,n)}throw Error(P(156,e.tag))};function qm(t,e){return xp(t,e)}function qy(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,e,n,i){return new qy(t,e,n,i)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ky(t){if(typeof t=="function")return kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wu)return 11;if(t===Hu)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zr(t,e,n,i,s,r){var l=2;if(i=t,typeof t=="function")kc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ci:return Vn(n.children,s,r,e);case Uu:l=8,s|=8;break;case ba:return t=ft(12,n,e,s|2),t.elementType=ba,t.lanes=r,t;case Sa:return t=ft(13,n,e,s),t.elementType=Sa,t.lanes=r,t;case Na:return t=ft(19,n,e,s),t.elementType=Na,t.lanes=r,t;case np:return Xl(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ep:l=10;break e;case tp:l=9;break e;case Wu:l=11;break e;case Hu:l=14;break e;case un:l=16,i=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=ft(l,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Vn(t,e,n,i){return t=ft(7,t,i,e),t.lanes=n,t}function Xl(t,e,n,i){return t=ft(22,t,i,e),t.elementType=np,t.lanes=n,t.stateNode={isHidden:!1},t}function Uo(t,e,n){return t=ft(6,t,null,e),t.lanes=n,t}function Wo(t,e,n){return e=ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xy(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ec(t,e,n,i,s,r,l,o,a){return t=new Xy(t,e,n,o,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ft(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(r),t}function Qy(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Km(t){if(!t)return jn;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ye(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ye(n))return Kp(t,n,e)}return e}function Xm(t,e,n,i,s,r,l,o,a){return t=Ec(n,i,!0,t,s,r,l,o,a),t.context=Km(null),n=t.current,i=We(),s=Sn(n),r=Yt(i,s),r.callback=e??null,wn(n,r,s),t.current.lanes=s,Gs(t,s,i),Ze(t,i),t}function Ql(t,e,n,i){var s=e.current,r=We(),l=Sn(s);return n=Km(n),e.context===null?e.context=n:e.pendingContext=n,e=Yt(r,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=wn(s,e,l),t!==null&&(Et(t,s,l,r),Kr(t,s,l)),l}function Tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cc(t,e){rd(t,e),(t=t.alternate)&&rd(t,e)}function Jy(){return null}var Qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function jc(t){this._internalRoot=t}Jl.prototype.render=jc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Ql(t,e,null,null)};Jl.prototype.unmount=jc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qn(function(){Ql(null,t,null,null)}),e[en]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ep();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hn.length&&e!==0&&e<hn[n].priority;n++);hn.splice(n,0,t),n===0&&jp(t)}};function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ld(){}function Gy(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=Tl(l);r.call(u)}}var l=Xm(e,i,t,0,null,!1,!1,"",ld);return t._reactRootContainer=l,t[en]=l.current,zs(t.nodeType===8?t.parentNode:t),Qn(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var o=i;i=function(){var u=Tl(a);o.call(u)}}var a=Ec(t,0,!1,null,null,!1,!1,"",ld);return t._reactRootContainer=a,t[en]=a.current,zs(t.nodeType===8?t.parentNode:t),Qn(function(){Ql(e,a,n,i)}),a}function Yl(t,e,n,i,s){var r=n._reactRootContainer;if(r){var l=r;if(typeof s=="function"){var o=s;s=function(){var a=Tl(l);o.call(a)}}Ql(e,l,t,s)}else l=Gy(n,e,t,s,i);return Tl(l)}_p=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cs(e.pendingLanes);n!==0&&(Xu(e,n|1),Ze(e,ye()),!(Y&6)&&($i=ye()+500,Pn()))}break;case 13:Qn(function(){var i=tn(t,1);if(i!==null){var s=We();Et(i,t,1,s)}}),Cc(t,1)}};Qu=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=We();Et(e,t,134217728,n)}Cc(t,134217728)}};kp=function(t){if(t.tag===13){var e=Sn(t),n=tn(t,e);if(n!==null){var i=We();Et(n,t,e,i)}Cc(t,e)}};Ep=function(){return re};Cp=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};La=function(t,e,n){switch(e){case"input":if(Ea(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Il(i);if(!s)throw Error(P(90));sp(i),Ea(i,s)}}}break;case"textarea":lp(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};fp=Sc;pp=Qn;var Yy={usingClientEntryPoint:!1,Events:[Zs,pi,Il,hp,dp,Sc]},is={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zy={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gp(t),t===null?null:t.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||Jy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jr.isDisabled&&jr.supportsFiber)try{Dl=jr.inject(Zy),Bt=jr}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yy;ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(e))throw Error(P(200));return Qy(t,e,null,n)};ot.createRoot=function(t,e){if(!Mc(t))throw Error(P(299));var n=!1,i="",s=Qm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ec(t,1,!1,null,null,n,!1,i,s),t[en]=e.current,zs(t.nodeType===8?t.parentNode:t),new jc(e)};ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=gp(e),t=t===null?null:t.stateNode,t};ot.flushSync=function(t){return Qn(t)};ot.hydrate=function(t,e,n){if(!Gl(e))throw Error(P(200));return Yl(null,t,e,!0,n)};ot.hydrateRoot=function(t,e,n){if(!Mc(t))throw Error(P(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",l=Qm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Xm(e,null,t,1,n??null,s,!1,r,l),t[en]=e.current,zs(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Jl(e)};ot.render=function(t,e,n){if(!Gl(e))throw Error(P(200));return Yl(null,t,e,!1,n)};ot.unmountComponentAtNode=function(t){if(!Gl(t))throw Error(P(40));return t._reactRootContainer?(Qn(function(){Yl(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};ot.unstable_batchedUpdates=Sc;ot.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Gl(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Yl(t,e,n,!1,i)};ot.version="18.3.1-next-f1338f8080-20240426";function Jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jm)}catch(t){console.error(t)}}Jm(),Jf.exports=ot;var ex=Jf.exports,od=ex;xa.createRoot=od.createRoot,xa.hydrateRoot=od.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Us.apply(this,arguments)}var mn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mn||(mn={}));const ad="popstate";function tx(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:l,hash:o}=i.location;return du("",{pathname:r,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Pl(s)}return ix(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nx(){return Math.random().toString(36).substr(2,8)}function ud(t,e){return{usr:t.state,key:t.key,idx:e}}function du(t,e,n,i){return n===void 0&&(n=null),Us({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:n,key:e&&e.key||i||nx()})}function Pl(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function ix(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,o=mn.Pop,a=null,u=h();u==null&&(u=0,l.replaceState(Us({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function d(){o=mn.Pop;let x=h(),v=x==null?null:x-u;u=x,a&&a({action:o,location:m.location,delta:v})}function f(x,v){o=mn.Push;let g=du(m.location,x,v);u=h()+1;let w=ud(g,u),N=m.createHref(g);try{l.pushState(w,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(N)}r&&a&&a({action:o,location:m.location,delta:1})}function y(x,v){o=mn.Replace;let g=du(m.location,x,v);u=h();let w=ud(g,u),N=m.createHref(g);l.replaceState(w,"",N),r&&a&&a({action:o,location:m.location,delta:0})}function p(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Pl(x);return g=g.replace(/ $/,"%20"),_e(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let m={get action(){return o},get location(){return t(s,l)},listen(x){if(a)throw new Error("A history only accepts one active listener");return s.addEventListener(ad,d),a=x,()=>{s.removeEventListener(ad,d),a=null}},createHref(x){return e(s,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:y,go(x){return l.go(x)}};return m}var cd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(cd||(cd={}));function sx(t,e,n){return n===void 0&&(n="/"),rx(t,e,n)}function rx(t,e,n,i){let s=typeof e=="string"?Wi(e):e,r=Rc(s.pathname||"/",n);if(r==null)return null;let l=Ym(t);lx(l);let o=null;for(let a=0;o==null&&a<l.length;++a){let u=yx(r);o=mx(l[a],u)}return o}function Ym(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,l,o)=>{let a={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let u=_n([i,a.relativePath]),h=n.concat(a);r.children&&r.children.length>0&&(_e(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ym(r.children,e,h,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:fx(u,r.index),routesMeta:h})};return t.forEach((r,l)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,l);else for(let a of Zm(r.path))s(r,l,a)}),e}function Zm(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=Zm(i.join("/")),o=[];return o.push(...l.map(a=>a===""?r:[r,a].join("/"))),s&&o.push(...l),o.map(a=>t.startsWith("/")&&a===""?"/":a)}function lx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:px(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ox=/^:[\w-]+$/,ax=3,ux=2,cx=1,hx=10,dx=-2,hd=t=>t==="*";function fx(t,e){let n=t.split("/"),i=n.length;return n.some(hd)&&(i+=dx),e&&(i+=ux),n.filter(s=>!hd(s)).reduce((s,r)=>s+(ox.test(r)?ax:r===""?cx:hx),i)}function px(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function mx(t,e,n){let{routesMeta:i}=t,s={},r="/",l=[];for(let o=0;o<i.length;++o){let a=i[o],u=o===i.length-1,h=r==="/"?e:e.slice(r.length)||"/",d=vx({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},h),f=a.route;if(!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:_n([r,d.pathname]),pathnameBase:Sx(_n([r,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(r=_n([r,d.pathnameBase]))}return l}function vx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=gx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((u,h,d)=>{let{paramName:f,isOptional:y}=h;if(f==="*"){let m=o[d]||"";l=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const p=o[d];return y&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:l,pattern:t}}function gx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,a)=>(i.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function yx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function xx(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:wx(n,e):e,search:Nx(i),hash:_x(s)}}function wx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ho(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function e0(t,e){let n=bx(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function t0(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=Wi(t):(s=Us({},t),_e(!s.pathname||!s.pathname.includes("?"),Ho("?","pathname","search",s)),_e(!s.pathname||!s.pathname.includes("#"),Ho("#","pathname","hash",s)),_e(!s.search||!s.search.includes("#"),Ho("#","search","hash",s)));let r=t===""||s.pathname==="",l=r?"/":s.pathname,o;if(l==null)o=n;else{let d=e.length-1;if(!i&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let a=xx(s,o),u=l&&l!=="/"&&l.endsWith("/"),h=(r||l===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||h)&&(a.pathname+="/"),a}const _n=t=>t.join("/").replace(/\/\/+/g,"/"),Sx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_x=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const n0=["post","put","patch","delete"];new Set(n0);const Ex=["get",...n0];new Set(Ex);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ws.apply(this,arguments)}const Tc=S.createContext(null),Cx=S.createContext(null),ii=S.createContext(null),Zl=S.createContext(null),si=S.createContext({outlet:null,matches:[],isDataRoute:!1}),i0=S.createContext(null);function jx(t,e){let{relative:n}=e===void 0?{}:e;tr()||_e(!1);let{basename:i,navigator:s}=S.useContext(ii),{hash:r,pathname:l,search:o}=r0(t,{relative:n}),a=l;return i!=="/"&&(a=l==="/"?i:_n([i,l])),s.createHref({pathname:a,search:o,hash:r})}function tr(){return S.useContext(Zl)!=null}function nr(){return tr()||_e(!1),S.useContext(Zl).location}function s0(t){S.useContext(ii).static||S.useLayoutEffect(t)}function ir(){let{isDataRoute:t}=S.useContext(si);return t?Vx():Mx()}function Mx(){tr()||_e(!1);let t=S.useContext(Tc),{basename:e,future:n,navigator:i}=S.useContext(ii),{matches:s}=S.useContext(si),{pathname:r}=nr(),l=JSON.stringify(e0(s,n.v7_relativeSplatPath)),o=S.useRef(!1);return s0(()=>{o.current=!0}),S.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let d=t0(u,JSON.parse(l),r,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_n([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,l,r,t])}function r0(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=S.useContext(ii),{matches:s}=S.useContext(si),{pathname:r}=nr(),l=JSON.stringify(e0(s,i.v7_relativeSplatPath));return S.useMemo(()=>t0(t,JSON.parse(l),r,n==="path"),[t,l,r,n])}function Rx(t,e){return Tx(t,e)}function Tx(t,e,n,i){tr()||_e(!1);let{navigator:s}=S.useContext(ii),{matches:r}=S.useContext(si),l=r[r.length-1],o=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let u=nr(),h;if(e){var d;let x=typeof e=="string"?Wi(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||_e(!1),h=x}else h=u;let f=h.pathname||"/",y=f;if(a!=="/"){let x=a.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=sx(t,{pathname:y}),m=$x(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:_n([a,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:_n([a,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),r,n,i);return e&&m?S.createElement(Zl.Provider,{value:{location:Ws({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:mn.Pop}},m):m}function Px(){let t=Bx(),e=kx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const Lx=S.createElement(Px,null);class zx extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(si.Provider,{value:this.props.routeContext},S.createElement(i0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ox(t){let{routeContext:e,match:n,children:i}=t,s=S.useContext(Tc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(si.Provider,{value:e},i)}function $x(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let h=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||_e(!1),l=l.slice(0,Math.min(l.length,h+1))}let a=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<l.length;h++){let d=l[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:y}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||p){a=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,d,f)=>{let y,p=!1,m=null,x=null;n&&(y=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||Lx,a&&(u<0&&f===0?(Ix("route-fallback"),p=!0,x=null):u===f&&(p=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(l.slice(0,f+1)),g=()=>{let w;return y?w=m:p?w=x:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,S.createElement(Ox,{match:d,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?S.createElement(zx,{location:n.location,revalidation:n.revalidation,component:m,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var l0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(l0||{}),o0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(o0||{});function Fx(t){let e=S.useContext(Tc);return e||_e(!1),e}function Dx(t){let e=S.useContext(Cx);return e||_e(!1),e}function Ax(t){let e=S.useContext(si);return e||_e(!1),e}function a0(t){let e=Ax(),n=e.matches[e.matches.length-1];return n.route.id||_e(!1),n.route.id}function Bx(){var t;let e=S.useContext(i0),n=Dx(),i=a0();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Vx(){let{router:t}=Fx(l0.UseNavigateStable),e=a0(o0.UseNavigateStable),n=S.useRef(!1);return s0(()=>{n.current=!0}),S.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ws({fromRouteId:e},r)))},[t,e])}const dd={};function Ix(t,e,n){dd[t]||(dd[t]=!0)}function Ux(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ht(t){_e(!1)}function Wx(t){let{basename:e="/",children:n=null,location:i,navigationType:s=mn.Pop,navigator:r,static:l=!1,future:o}=t;tr()&&_e(!1);let a=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:a,navigator:r,static:l,future:Ws({v7_relativeSplatPath:!1},o)}),[a,o,r,l]);typeof i=="string"&&(i=Wi(i));let{pathname:h="/",search:d="",hash:f="",state:y=null,key:p="default"}=i,m=S.useMemo(()=>{let x=Rc(h,a);return x==null?null:{location:{pathname:x,search:d,hash:f,state:y,key:p},navigationType:s}},[a,h,d,f,y,p,s]);return m==null?null:S.createElement(ii.Provider,{value:u},S.createElement(Zl.Provider,{children:n,value:m}))}function Hx(t){let{children:e,location:n}=t;return Rx(fu(e),n)}new Promise(()=>{});function fu(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(i,s)=>{if(!S.isValidElement(i))return;let r=[...e,s];if(i.type===S.Fragment){n.push.apply(n,fu(i.props.children,r));return}i.type!==Ht&&_e(!1),!i.props.index||!i.props.children||_e(!1);let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=fu(i.props.children,r)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pu.apply(this,arguments)}function qx(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Kx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xx(t,e){return t.button===0&&(!e||e==="_self")&&!Kx(t)}function mu(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function Qx(t,e){let n=mu(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(r=>{n.append(s,r)})}),n}const Jx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gx="6";try{window.__reactRouterVersion=Gx}catch{}const Yx="startTransition",fd=Uv[Yx];function Zx(t){let{basename:e,children:n,future:i,window:s}=t,r=S.useRef();r.current==null&&(r.current=tx({window:s,v5Compat:!0}));let l=r.current,[o,a]=S.useState({action:l.action,location:l.location}),{v7_startTransition:u}=i||{},h=S.useCallback(d=>{u&&fd?fd(()=>a(d)):a(d)},[a,u]);return S.useLayoutEffect(()=>l.listen(h),[l,h]),S.useEffect(()=>Ux(i),[i]),S.createElement(Wx,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:i})}const ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kn=S.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:l,state:o,target:a,to:u,preventScrollReset:h,viewTransition:d}=e,f=qx(e,Jx),{basename:y}=S.useContext(ii),p,m=!1;if(typeof u=="string"&&tw.test(u)&&(p=u,ew))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),k=Rc(N.pathname,y);N.origin===w.origin&&k!=null?u=k+N.search+N.hash:m=!0}catch{}let x=jx(u,{relative:s}),v=nw(u,{replace:l,state:o,target:a,preventScrollReset:h,relative:s,viewTransition:d});function g(w){i&&i(w),w.defaultPrevented||v(w)}return S.createElement("a",pu({},f,{href:p||x,onClick:m||r?i:g,ref:n,target:a}))});var pd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pd||(pd={}));var md;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(md||(md={}));function nw(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:l,viewTransition:o}=e===void 0?{}:e,a=ir(),u=nr(),h=r0(t,{relative:l});return S.useCallback(d=>{if(Xx(d,n)){d.preventDefault();let f=i!==void 0?i:Pl(u)===Pl(h);a(t,{replace:f,state:s,preventScrollReset:r,relative:l,viewTransition:o})}},[u,a,h,i,s,n,t,r,l,o])}function u0(t){let e=S.useRef(mu(t)),n=S.useRef(!1),i=nr(),s=S.useMemo(()=>Qx(i.search,n.current?null:e.current),[i.search]),r=ir(),l=S.useCallback((o,a)=>{const u=mu(typeof o=="function"?o(s):o);n.current=!0,r("?"+u,a)},[r,s]);return[s,l]}const iw={},vd=t=>{let e;const n=new Set,i=(h,d)=>{const f=typeof h=="function"?h(e):h;if(!Object.is(f,e)){const y=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(p=>p(e,y))}},s=()=>e,a={setState:i,getState:s,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(iw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(i,s,a);return a},sw=t=>t?vd(t):vd;var c0={exports:{}},h0={},d0={exports:{}},f0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi=S;function rw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lw=typeof Object.is=="function"?Object.is:rw,ow=Fi.useState,aw=Fi.useEffect,uw=Fi.useLayoutEffect,cw=Fi.useDebugValue;function hw(t,e){var n=e(),i=ow({inst:{value:n,getSnapshot:e}}),s=i[0].inst,r=i[1];return uw(function(){s.value=n,s.getSnapshot=e,qo(s)&&r({inst:s})},[t,n,e]),aw(function(){return qo(s)&&r({inst:s}),t(function(){qo(s)&&r({inst:s})})},[t]),cw(n),n}function qo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lw(t,n)}catch{return!0}}function dw(t,e){return e()}var fw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dw:hw;f0.useSyncExternalStore=Fi.useSyncExternalStore!==void 0?Fi.useSyncExternalStore:fw;d0.exports=f0;var pw=d0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=S,mw=pw;function vw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gw=typeof Object.is=="function"?Object.is:vw,yw=mw.useSyncExternalStore,xw=eo.useRef,ww=eo.useEffect,bw=eo.useMemo,Sw=eo.useDebugValue;h0.useSyncExternalStoreWithSelector=function(t,e,n,i,s){var r=xw(null);if(r.current===null){var l={hasValue:!1,value:null};r.current=l}else l=r.current;r=bw(function(){function a(y){if(!u){if(u=!0,h=y,y=i(y),s!==void 0&&l.hasValue){var p=l.value;if(s(p,y))return d=p}return d=y}if(p=d,gw(h,y))return p;var m=i(y);return s!==void 0&&s(p,m)?(h=y,p):(h=y,d=m)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return a(e())},f===null?void 0:function(){return a(f())}]},[e,n,i,s]);var o=yw(t,r[0],r[1]);return ww(function(){l.hasValue=!0,l.value=o},[o]),Sw(o),o};c0.exports=h0;var Nw=c0.exports;const _w=Df(Nw),p0={},{useDebugValue:kw}=Au,{useSyncExternalStoreWithSelector:Ew}=_w;let gd=!1;const Cw=t=>t;function jw(t,e=Cw,n){(p0?"production":void 0)!=="production"&&n&&!gd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gd=!0);const i=Ew(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return kw(i),i}const yd=t=>{(p0?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?sw(t):t,n=(i,s)=>jw(e,i,s);return Object.assign(n,e),n},Pc=t=>t?yd(t):yd,In=Pc(t=>({summary:null,setSummary:e=>t({summary:e}),clear:()=>t({summary:null})})),gt=Pc(t=>({token:localStorage.getItem("token")||"",user:JSON.parse(localStorage.getItem("user")||"null"),login:(e,n)=>{localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(n)),In.getState().clear(),t({token:e,user:n})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),In.getState().clear(),t({token:"",user:null})}}));function m0(t,e){return function(){return t.apply(e,arguments)}}const{toString:Mw}=Object.prototype,{getPrototypeOf:Lc}=Object,{iterator:to,toStringTag:v0}=Symbol,no=(t=>e=>{const n=Mw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mt=t=>(t=t.toLowerCase(),e=>no(e)===t),io=t=>e=>typeof e===t,{isArray:Hi}=Array,Di=io("undefined");function sr(t){return t!==null&&!Di(t)&&t.constructor!==null&&!Di(t.constructor)&&et(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const g0=Mt("ArrayBuffer");function Rw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&g0(t.buffer),e}const Tw=io("string"),et=io("function"),y0=io("number"),rr=t=>t!==null&&typeof t=="object",Pw=t=>t===!0||t===!1,el=t=>{if(no(t)!=="object")return!1;const e=Lc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(v0 in t)&&!(to in t)},Lw=t=>{if(!rr(t)||sr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},zw=Mt("Date"),Ow=Mt("File"),$w=Mt("Blob"),Fw=Mt("FileList"),Dw=t=>rr(t)&&et(t.pipe),Aw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||et(t.append)&&((e=no(t))==="formdata"||e==="object"&&et(t.toString)&&t.toString()==="[object FormData]"))},Bw=Mt("URLSearchParams"),[Vw,Iw,Uw,Ww]=["ReadableStream","Request","Response","Headers"].map(Mt),Hw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Hi(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(sr(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),l=r.length;let o;for(i=0;i<l;i++)o=r[i],e.call(null,t[o],o,t)}}function x0(t,e){if(sr(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,w0=t=>!Di(t)&&t!==An;function vu(){const{caseless:t,skipUndefined:e}=w0(this)&&this||{},n={},i=(s,r)=>{const l=t&&x0(n,r)||r;el(n[l])&&el(s)?n[l]=vu(n[l],s):el(s)?n[l]=vu({},s):Hi(s)?n[l]=s.slice():(!e||!Di(s))&&(n[l]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&lr(arguments[s],i);return n}const qw=(t,e,n,{allOwnKeys:i}={})=>(lr(e,(s,r)=>{n&&et(s)?t[r]=m0(s,n):t[r]=s},{allOwnKeys:i}),t),Kw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xw=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Qw=(t,e,n,i)=>{let s,r,l;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)l=s[r],(!i||i(l,t,e))&&!o[l]&&(e[l]=t[l],o[l]=!0);t=n!==!1&&Lc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Jw=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Gw=t=>{if(!t)return null;if(Hi(t))return t;let e=t.length;if(!y0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Yw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lc(Uint8Array)),Zw=(t,e)=>{const i=(t&&t[to]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},e1=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},t1=Mt("HTMLFormElement"),n1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),xd=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),i1=Mt("RegExp"),b0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};lr(n,(s,r)=>{let l;(l=e(s,r,t))!==!1&&(i[r]=l||s)}),Object.defineProperties(t,i)},s1=t=>{b0(t,(e,n)=>{if(et(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(et(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},r1=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Hi(t)?i(t):i(String(t).split(e)),n},l1=()=>{},o1=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function a1(t){return!!(t&&et(t.append)&&t[v0]==="FormData"&&t[to])}const u1=t=>{const e=new Array(10),n=(i,s)=>{if(rr(i)){if(e.indexOf(i)>=0)return;if(sr(i))return i;if(!("toJSON"in i)){e[s]=i;const r=Hi(i)?[]:{};return lr(i,(l,o)=>{const a=n(l,s+1);!Di(a)&&(r[o]=a)}),e[s]=void 0,r}}return i};return n(t,0)},c1=Mt("AsyncFunction"),h1=t=>t&&(rr(t)||et(t))&&et(t.then)&&et(t.catch),S0=((t,e)=>t?setImmediate:e?((n,i)=>(An.addEventListener("message",({source:s,data:r})=>{s===An&&r===n&&i.length&&i.shift()()},!1),s=>{i.push(s),An.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",et(An.postMessage)),d1=typeof queueMicrotask<"u"?queueMicrotask.bind(An):typeof process<"u"&&process.nextTick||S0,f1=t=>t!=null&&et(t[to]),_={isArray:Hi,isArrayBuffer:g0,isBuffer:sr,isFormData:Aw,isArrayBufferView:Rw,isString:Tw,isNumber:y0,isBoolean:Pw,isObject:rr,isPlainObject:el,isEmptyObject:Lw,isReadableStream:Vw,isRequest:Iw,isResponse:Uw,isHeaders:Ww,isUndefined:Di,isDate:zw,isFile:Ow,isBlob:$w,isRegExp:i1,isFunction:et,isStream:Dw,isURLSearchParams:Bw,isTypedArray:Yw,isFileList:Fw,forEach:lr,merge:vu,extend:qw,trim:Hw,stripBOM:Kw,inherits:Xw,toFlatObject:Qw,kindOf:no,kindOfTest:Mt,endsWith:Jw,toArray:Gw,forEachEntry:Zw,matchAll:e1,isHTMLForm:t1,hasOwnProperty:xd,hasOwnProp:xd,reduceDescriptors:b0,freezeMethods:s1,toObjectSet:r1,toCamelCase:n1,noop:l1,toFiniteNumber:o1,findKey:x0,global:An,isContextDefined:w0,isSpecCompliantForm:a1,toJSONObject:u1,isAsyncFn:c1,isThenable:h1,setImmediate:S0,asap:d1,isIterable:f1};function H(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}_.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const N0=H.prototype,_0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_0[t]={value:t}});Object.defineProperties(H,_0);Object.defineProperty(N0,"isAxiosError",{value:!0});H.from=(t,e,n,i,s,r)=>{const l=Object.create(N0);_.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",a=e==null&&t?t.code:e;return H.call(l,o,a,n,i,s),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",r&&Object.assign(l,r),l};const p1=null;function gu(t){return _.isPlainObject(t)||_.isArray(t)}function k0(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function wd(t,e,n){return t?t.concat(e).map(function(s,r){return s=k0(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function m1(t){return _.isArray(t)&&!t.some(gu)}const v1=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function so(t,e,n){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!_.isUndefined(x[m])});const i=n.metaTokens,s=n.visitor||h,r=n.dots,l=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(_.isDate(p))return p.toISOString();if(_.isBoolean(p))return p.toString();if(!a&&_.isBlob(p))throw new H("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(p)||_.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,m,x){let v=p;if(p&&!x&&typeof p=="object"){if(_.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(_.isArray(p)&&m1(p)||(_.isFileList(p)||_.endsWith(m,"[]"))&&(v=_.toArray(p)))return m=k0(m),v.forEach(function(w,N){!(_.isUndefined(w)||w===null)&&e.append(l===!0?wd([m],N,r):l===null?m:m+"[]",u(w))}),!1}return gu(p)?!0:(e.append(wd(x,m,r),u(p)),!1)}const d=[],f=Object.assign(v1,{defaultVisitor:h,convertValue:u,isVisitable:gu});function y(p,m){if(!_.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),_.forEach(p,function(v,g){(!(_.isUndefined(v)||v===null)&&s.call(e,v,_.isString(g)?g.trim():g,m,f))===!0&&y(v,m?m.concat(g):[g])}),d.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return y(t),e}function bd(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function zc(t,e){this._pairs=[],t&&so(t,this,e)}const E0=zc.prototype;E0.append=function(e,n){this._pairs.push([e,n])};E0.toString=function(e){const n=e?function(i){return e.call(this,i,bd)}:bd;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function g1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function C0(t,e,n){if(!e)return t;const i=n&&n.encode||g1;_.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(s?r=s(e,n):r=_.isURLSearchParams(e)?e.toString():new zc(e,n).toString(i),r){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Sd{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(i){i!==null&&e(i)})}}const j0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y1=typeof URLSearchParams<"u"?URLSearchParams:zc,x1=typeof FormData<"u"?FormData:null,w1=typeof Blob<"u"?Blob:null,b1={isBrowser:!0,classes:{URLSearchParams:y1,FormData:x1,Blob:w1},protocols:["http","https","file","blob","url","data"]},Oc=typeof window<"u"&&typeof document<"u",yu=typeof navigator=="object"&&navigator||void 0,S1=Oc&&(!yu||["ReactNative","NativeScript","NS"].indexOf(yu.product)<0),N1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_1=Oc&&window.location.href||"http://localhost",k1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Oc,hasStandardBrowserEnv:S1,hasStandardBrowserWebWorkerEnv:N1,navigator:yu,origin:_1},Symbol.toStringTag,{value:"Module"})),Ae={...k1,...b1};function E1(t,e){return so(t,new Ae.classes.URLSearchParams,{visitor:function(n,i,s,r){return Ae.isNode&&_.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function C1(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function j1(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function M0(t){function e(n,i,s,r){let l=n[r++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=r>=n.length;return l=!l&&_.isArray(s)?s.length:l,a?(_.hasOwnProp(s,l)?s[l]=[s[l],i]:s[l]=i,!o):((!s[l]||!_.isObject(s[l]))&&(s[l]=[]),e(n,i,s[l],r)&&_.isArray(s[l])&&(s[l]=j1(s[l])),!o)}if(_.isFormData(t)&&_.isFunction(t.entries)){const n={};return _.forEachEntry(t,(i,s)=>{e(C1(i),s,n,0)}),n}return null}function M1(t,e,n){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const or={transitional:j0,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=_.isObject(e);if(r&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return s?JSON.stringify(M0(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e)||_.isReadableStream(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return E1(e,this.formSerializer).toString();if((o=_.isFileList(e))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return so(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),M1(e)):e}],transformResponse:[function(e){const n=this.transitional||or.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(_.isResponse(e)||_.isReadableStream(e))return e;if(e&&_.isString(e)&&(i&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?H.from(o,H.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ae.classes.FormData,Blob:Ae.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{or.headers[t]={}});const R1=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T1=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),i=l.substring(s+1).trim(),!(!n||e[n]&&R1[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Nd=Symbol("internals");function ss(t){return t&&String(t).trim().toLowerCase()}function tl(t){return t===!1||t==null?t:_.isArray(t)?t.map(tl):String(t)}function P1(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const L1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ko(t,e,n,i,s){if(_.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!_.isString(e)){if(_.isString(i))return e.indexOf(i)!==-1;if(_.isRegExp(i))return i.test(e)}}function z1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function O1(t,e){const n=_.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,l){return this[i].call(this,e,s,r,l)},configurable:!0})})}let tt=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(o,a,u){const h=ss(a);if(!h)throw new Error("header name must be a non-empty string");const d=_.findKey(s,h);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||a]=tl(o))}const l=(o,a)=>_.forEach(o,(u,h)=>r(u,h,a));if(_.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(_.isString(e)&&(e=e.trim())&&!L1(e))l(T1(e),n);else if(_.isObject(e)&&_.isIterable(e)){let o={},a,u;for(const h of e){if(!_.isArray(h))throw TypeError("Object iterator must return a key-value pair");o[u=h[0]]=(a=o[u])?_.isArray(a)?[...a,h[1]]:[a,h[1]]:h[1]}l(o,n)}else e!=null&&r(n,e,i);return this}get(e,n){if(e=ss(e),e){const i=_.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return P1(s);if(_.isFunction(n))return n.call(this,s,i);if(_.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ss(e),e){const i=_.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Ko(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(l){if(l=ss(l),l){const o=_.findKey(i,l);o&&(!n||Ko(i,i[o],o,n))&&(delete i[o],s=!0)}}return _.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||Ko(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return _.forEach(this,(s,r)=>{const l=_.findKey(i,r);if(l){n[l]=tl(s),delete n[r];return}const o=e?z1(r):String(r).trim();o!==r&&delete n[r],n[o]=tl(s),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&_.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Nd]=this[Nd]={accessors:{}}).accessors,s=this.prototype;function r(l){const o=ss(l);i[o]||(O1(s,l),i[o]=!0)}return _.isArray(e)?e.forEach(r):r(e),this}};tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(tt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});_.freezeMethods(tt);function Xo(t,e){const n=this||or,i=e||n,s=tt.from(i.headers);let r=i.data;return _.forEach(t,function(o){r=o.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function R0(t){return!!(t&&t.__CANCEL__)}function qi(t,e,n){H.call(this,t??"canceled",H.ERR_CANCELED,e,n),this.name="CanceledError"}_.inherits(qi,H,{__CANCEL__:!0});function T0(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new H("Request failed with status code "+n.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $1(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function F1(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,l;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),h=i[r];l||(l=u),n[s]=a,i[s]=u;let d=r,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-l<e)return;const y=h&&u-h;return y?Math.round(f*1e3/y):void 0}}function D1(t,e){let n=0,i=1e3/e,s,r;const l=(u,h=Date.now())=>{n=h,s=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=i?l(u,h):(s=u,r||(r=setTimeout(()=>{r=null,l(s)},i-d)))},()=>s&&l(s)]}const Ll=(t,e,n=3)=>{let i=0;const s=F1(50,250);return D1(r=>{const l=r.loaded,o=r.lengthComputable?r.total:void 0,a=l-i,u=s(a),h=l<=o;i=l;const d={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&h?(o-l)/u:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},n)},_d=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},kd=t=>(...e)=>_.asap(()=>t(...e)),A1=Ae.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ae.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ae.origin),Ae.navigator&&/(msie|trident)/i.test(Ae.navigator.userAgent)):()=>!0,B1=Ae.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const l=[t+"="+encodeURIComponent(e)];_.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),_.isString(i)&&l.push("path="+i),_.isString(s)&&l.push("domain="+s),r===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function V1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function I1(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function P0(t,e,n){let i=!V1(e);return t&&(i||n==!1)?I1(t,e):e}const Ed=t=>t instanceof tt?{...t}:t;function Jn(t,e){e=e||{};const n={};function i(u,h,d,f){return _.isPlainObject(u)&&_.isPlainObject(h)?_.merge.call({caseless:f},u,h):_.isPlainObject(h)?_.merge({},h):_.isArray(h)?h.slice():h}function s(u,h,d,f){if(_.isUndefined(h)){if(!_.isUndefined(u))return i(void 0,u,d,f)}else return i(u,h,d,f)}function r(u,h){if(!_.isUndefined(h))return i(void 0,h)}function l(u,h){if(_.isUndefined(h)){if(!_.isUndefined(u))return i(void 0,u)}else return i(void 0,h)}function o(u,h,d){if(d in e)return i(u,h);if(d in t)return i(void 0,u)}const a={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,h,d)=>s(Ed(u),Ed(h),d,!0)};return _.forEach(Object.keys({...t,...e}),function(h){const d=a[h]||s,f=d(t[h],e[h],h);_.isUndefined(f)&&d!==o||(n[h]=f)}),n}const L0=t=>{const e=Jn({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:l,auth:o}=e;if(e.headers=l=tt.from(l),e.url=C0(P0(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),_.isFormData(n)){if(Ae.hasStandardBrowserEnv||Ae.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_.isFunction(n.getHeaders)){const a=n.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([h,d])=>{u.includes(h.toLowerCase())&&l.set(h,d)})}}if(Ae.hasStandardBrowserEnv&&(i&&_.isFunction(i)&&(i=i(e)),i||i!==!1&&A1(e.url))){const a=s&&r&&B1.read(r);a&&l.set(s,a)}return e},U1=typeof XMLHttpRequest<"u",W1=U1&&function(t){return new Promise(function(n,i){const s=L0(t);let r=s.data;const l=tt.from(s.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:u}=s,h,d,f,y,p;function m(){y&&y(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function v(){if(!x)return;const w=tt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};T0(function(E){n(E),m()},function(E){i(E),m()},k),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(i(new H("Request aborted",H.ECONNABORTED,t,x)),x=null)},x.onerror=function(N){const k=N&&N.message?N.message:"Network Error",M=new H(k,H.ERR_NETWORK,t,x);M.event=N||null,i(M),x=null},x.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||j0;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),i(new H(N,k.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,t,x)),x=null},r===void 0&&l.setContentType(null),"setRequestHeader"in x&&_.forEach(l.toJSON(),function(N,k){x.setRequestHeader(k,N)}),_.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),o&&o!=="json"&&(x.responseType=s.responseType),u&&([f,p]=Ll(u,!0),x.addEventListener("progress",f)),a&&x.upload&&([d,y]=Ll(a),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(h=w=>{x&&(i(!w||w.type?new qi(null,t,x):w),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const g=$1(s.url);if(g&&Ae.protocols.indexOf(g)===-1){i(new H("Unsupported protocol "+g+":",H.ERR_BAD_REQUEST,t));return}x.send(r||null)})},H1=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const r=function(u){if(!s){s=!0,o();const h=u instanceof Error?u:this.reason;i.abort(h instanceof H?h:new qi(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,r(new H(`timeout ${e} of ms exceeded`,H.ETIMEDOUT))},e);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:a}=i;return a.unsubscribe=()=>_.asap(o),a}},q1=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},K1=async function*(t,e){for await(const n of X1(t))yield*q1(n,e)},X1=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Cd=(t,e,n,i)=>{const s=K1(t,e);let r=0,l,o=a=>{l||(l=!0,i&&i(a))};return new ReadableStream({async pull(a){try{const{done:u,value:h}=await s.next();if(u){o(),a.close();return}let d=h.byteLength;if(n){let f=r+=d;n(f)}a.enqueue(new Uint8Array(h))}catch(u){throw o(u),u}},cancel(a){return o(a),s.return()}},{highWaterMark:2})},jd=64*1024,{isFunction:Mr}=_,Q1=(({Request:t,Response:e})=>({Request:t,Response:e}))(_.global),{ReadableStream:Md,TextEncoder:Rd}=_.global,Td=(t,...e)=>{try{return!!t(...e)}catch{return!1}},J1=t=>{t=_.merge.call({skipUndefined:!0},Q1,t);const{fetch:e,Request:n,Response:i}=t,s=e?Mr(e):typeof fetch=="function",r=Mr(n),l=Mr(i);if(!s)return!1;const o=s&&Mr(Md),a=s&&(typeof Rd=="function"?(p=>m=>p.encode(m))(new Rd):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=r&&o&&Td(()=>{let p=!1;const m=new n(Ae.origin,{body:new Md,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),h=l&&o&&Td(()=>_.isReadableStream(new i("").body)),d={stream:h&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(m,x)=>{let v=m&&m[p];if(v)return v.call(m);throw new H(`Response type '${p}' is not supported`,H.ERR_NOT_SUPPORT,x)})});const f=async p=>{if(p==null)return 0;if(_.isBlob(p))return p.size;if(_.isSpecCompliantForm(p))return(await new n(Ae.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(_.isArrayBufferView(p)||_.isArrayBuffer(p))return p.byteLength;if(_.isURLSearchParams(p)&&(p=p+""),_.isString(p))return(await a(p)).byteLength},y=async(p,m)=>{const x=_.toFiniteNumber(p.getContentLength());return x??f(m)};return async p=>{let{url:m,method:x,data:v,signal:g,cancelToken:w,timeout:N,onDownloadProgress:k,onUploadProgress:M,responseType:E,headers:j,withCredentials:I="same-origin",fetchOptions:F}=L0(p),K=e||fetch;E=E?(E+"").toLowerCase():"text";let ne=H1([g,w&&w.toAbortSignal()],N),ie=null;const Q=ne&&ne.unsubscribe&&(()=>{ne.unsubscribe()});let A;try{if(M&&u&&x!=="get"&&x!=="head"&&(A=await y(j,v))!==0){let B=new n(m,{method:"POST",body:v,duplex:"half"}),U;if(_.isFormData(v)&&(U=B.headers.get("content-type"))&&j.setContentType(U),B.body){const[se,q]=_d(A,Ll(kd(M)));v=Cd(B.body,jd,se,q)}}_.isString(I)||(I=I?"include":"omit");const z=r&&"credentials"in n.prototype,ee={...F,signal:ne,method:x.toUpperCase(),headers:j.normalize().toJSON(),body:v,duplex:"half",credentials:z?I:void 0};ie=r&&new n(m,ee);let R=await(r?K(ie,F):K(m,ee));const C=h&&(E==="stream"||E==="response");if(h&&(k||C&&Q)){const B={};["status","statusText","headers"].forEach(oe=>{B[oe]=R[oe]});const U=_.toFiniteNumber(R.headers.get("content-length")),[se,q]=k&&_d(U,Ll(kd(k),!0))||[];R=new i(Cd(R.body,jd,se,()=>{q&&q(),Q&&Q()}),B)}E=E||"text";let O=await d[_.findKey(d,E)||"text"](R,p);return!C&&Q&&Q(),await new Promise((B,U)=>{T0(B,U,{data:O,headers:tt.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:ie})})}catch(z){throw Q&&Q(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,p,ie),{cause:z.cause||z}):H.from(z,z&&z.code,p,ie)}}},G1=new Map,z0=t=>{let e=t?t.env:{};const{fetch:n,Request:i,Response:s}=e,r=[i,s,n];let l=r.length,o=l,a,u,h=G1;for(;o--;)a=r[o],u=h.get(a),u===void 0&&h.set(a,u=o?new Map:J1(e)),h=u;return u};z0();const xu={http:p1,xhr:W1,fetch:{get:z0}};_.forEach(xu,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Pd=t=>`- ${t}`,Y1=t=>_.isFunction(t)||t===null||t===!1,O0={getAdapter:(t,e)=>{t=_.isArray(t)?t:[t];const{length:n}=t;let i,s;const r={};for(let l=0;l<n;l++){i=t[l];let o;if(s=i,!Y1(i)&&(s=xu[(o=String(i)).toLowerCase()],s===void 0))throw new H(`Unknown adapter '${o}'`);if(s&&(_.isFunction(s)||(s=s.get(e))))break;r[o||"#"+l]=s}if(!s){const l=Object.entries(r).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(Pd).join(`
`):" "+Pd(l[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:xu};function Qo(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qi(null,t)}function Ld(t){return Qo(t),t.headers=tt.from(t.headers),t.data=Xo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),O0.getAdapter(t.adapter||or.adapter,t)(t).then(function(i){return Qo(t),i.data=Xo.call(t,t.transformResponse,i),i.headers=tt.from(i.headers),i},function(i){return R0(i)||(Qo(t),i&&i.response&&(i.response.data=Xo.call(t,t.transformResponse,i.response),i.response.headers=tt.from(i.response.headers))),Promise.reject(i)})}const $0="1.12.2",ro={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ro[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const zd={};ro.transitional=function(e,n,i){function s(r,l){return"[Axios v"+$0+"] Transitional option '"+r+"'"+l+(i?". "+i:"")}return(r,l,o)=>{if(e===!1)throw new H(s(l," has been removed"+(n?" in "+n:"")),H.ERR_DEPRECATED);return n&&!zd[l]&&(zd[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,l,o):!0}};ro.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Z1(t,e,n){if(typeof t!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],l=e[r];if(l){const o=t[r],a=o===void 0||l(o,r,t);if(a!==!0)throw new H("option "+r+" must be "+a,H.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new H("Unknown option "+r,H.ERR_BAD_OPTION)}}const nl={assertOptions:Z1,validators:ro},zt=nl.validators;let Un=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Sd,response:new Sd}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Jn(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&nl.assertOptions(i,{silentJSONParsing:zt.transitional(zt.boolean),forcedJSONParsing:zt.transitional(zt.boolean),clarifyTimeoutError:zt.transitional(zt.boolean)},!1),s!=null&&(_.isFunction(s)?n.paramsSerializer={serialize:s}:nl.assertOptions(s,{encode:zt.function,serialize:zt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),nl.assertOptions(n,{baseUrl:zt.spelling("baseURL"),withXsrfToken:zt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=r&&_.merge(r.common,r[n.method]);r&&_.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=tt.concat(l,r);const o=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(a=a&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let h,d=0,f;if(!a){const p=[Ld.bind(this),void 0];for(p.unshift(...o),p.push(...u),f=p.length,h=Promise.resolve(n);d<f;)h=h.then(p[d++],p[d++]);return h}f=o.length;let y=n;for(;d<f;){const p=o[d++],m=o[d++];try{y=p(y)}catch(x){m.call(this,x);break}}try{h=Ld.call(this,y)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)h=h.then(u[d++],u[d++]);return h}getUri(e){e=Jn(this.defaults,e);const n=P0(e.baseURL,e.url,e.allowAbsoluteUrls);return C0(n,e.params,e.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(e){Un.prototype[e]=function(n,i){return this.request(Jn(i||{},{method:e,url:n,data:(i||{}).data}))}});_.forEach(["post","put","patch"],function(e){function n(i){return function(r,l,o){return this.request(Jn(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:l}))}}Un.prototype[e]=n(),Un.prototype[e+"Form"]=n(!0)});let eb=class F0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const l=new Promise(o=>{i.subscribe(o),r=o}).then(s);return l.cancel=function(){i.unsubscribe(r)},l},e(function(r,l,o){i.reason||(i.reason=new qi(r,l,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new F0(function(s){e=s}),cancel:e}}};function tb(t){return function(n){return t.apply(null,n)}}function nb(t){return _.isObject(t)&&t.isAxiosError===!0}const wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wu).forEach(([t,e])=>{wu[e]=t});function D0(t){const e=new Un(t),n=m0(Un.prototype.request,e);return _.extend(n,Un.prototype,e,{allOwnKeys:!0}),_.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return D0(Jn(t,s))},n}const we=D0(or);we.Axios=Un;we.CanceledError=qi;we.CancelToken=eb;we.isCancel=R0;we.VERSION=$0;we.toFormData=so;we.AxiosError=H;we.Cancel=we.CanceledError;we.all=function(e){return Promise.all(e)};we.spread=tb;we.isAxiosError=nb;we.mergeConfig=Jn;we.AxiosHeaders=tt;we.formToJSON=t=>M0(_.isHTMLForm(t)?new FormData(t):t);we.getAdapter=O0.getAdapter;we.HttpStatusCode=wu;we.default=we;const{Axios:ck,AxiosError:hk,CanceledError:dk,isCancel:fk,CancelToken:pk,VERSION:mk,all:vk,Cancel:gk,isAxiosError:yk,spread:xk,toFormData:wk,AxiosHeaders:bk,HttpStatusCode:Sk,formToJSON:Nk,getAdapter:_k,mergeConfig:kk}=we,ib=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),sb=ib;function te(t){return we.create({baseURL:sb,headers:t?{Authorization:`Bearer ${t}`}:{}})}const rs=Pc(t=>({notifications:[],unread:0,setNotifications:(e,n=0)=>t({notifications:e,unread:n}),appendNotification:(e,{read:n=!1}={})=>t(i=>{const s=i.notifications.find(r=>r.id===e.id);return s?{notifications:i.notifications.map(r=>r.id===e.id?{...s,...e}:r)}:{notifications:[{...e,is_read:n?1:0},...i.notifications].slice(0,200),unread:n?i.unread:i.unread+1}}),markAllRead:()=>t(e=>({notifications:e.notifications.map(n=>({...n,is_read:1})),unread:0}))})),Ut=Object.create(null);Ut.open="0";Ut.close="1";Ut.ping="2";Ut.pong="3";Ut.message="4";Ut.upgrade="5";Ut.noop="6";const il=Object.create(null);Object.keys(Ut).forEach(t=>{il[Ut[t]]=t});const bu={type:"error",data:"parser error"},A0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",B0=typeof ArrayBuffer=="function",V0=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,$c=({type:t,data:e},n,i)=>A0&&e instanceof Blob?n?i(e):Od(e,i):B0&&(e instanceof ArrayBuffer||V0(e))?n?i(e):Od(new Blob([e]),i):i(Ut[t]+(e||"")),Od=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function $d(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Jo;function rb(t,e){if(A0&&t.data instanceof Blob)return t.data.arrayBuffer().then($d).then(e);if(B0&&(t.data instanceof ArrayBuffer||V0(t.data)))return e($d(t.data));$c(t,!1,n=>{Jo||(Jo=new TextEncoder),e(Jo.encode(n))})}const Fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ds=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Fd.length;t++)ds[Fd.charCodeAt(t)]=t;const lb=t=>{let e=t.length*.75,n=t.length,i,s=0,r,l,o,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),h=new Uint8Array(u);for(i=0;i<n;i+=4)r=ds[t.charCodeAt(i)],l=ds[t.charCodeAt(i+1)],o=ds[t.charCodeAt(i+2)],a=ds[t.charCodeAt(i+3)],h[s++]=r<<2|l>>4,h[s++]=(l&15)<<4|o>>2,h[s++]=(o&3)<<6|a&63;return u},ob=typeof ArrayBuffer=="function",Fc=(t,e)=>{if(typeof t!="string")return{type:"message",data:I0(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:ab(t.substring(1),e)}:il[n]?t.length>1?{type:il[n],data:t.substring(1)}:{type:il[n]}:bu},ab=(t,e)=>{if(ob){const n=lb(t);return I0(n,e)}else return{base64:!0,data:t}},I0=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},U0="",ub=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,l)=>{$c(r,!1,o=>{i[l]=o,++s===n&&e(i.join(U0))})})},cb=(t,e)=>{const n=t.split(U0),i=[];for(let s=0;s<n.length;s++){const r=Fc(n[s],e);if(i.push(r),r.type==="error")break}return i};function hb(){return new TransformStream({transform(t,e){rb(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Go;function Rr(t){return t.reduce((e,n)=>e+n.length,0)}function Tr(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function db(t,e){Go||(Go=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(l,o){for(n.push(l);;){if(i===0){if(Rr(n)<1)break;const a=Tr(n,1);r=(a[0]&128)===128,s=a[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Rr(n)<2)break;const a=Tr(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),i=3}else if(i===2){if(Rr(n)<8)break;const a=Tr(n,8),u=new DataView(a.buffer,a.byteOffset,a.length),h=u.getUint32(0);if(h>Math.pow(2,21)-1){o.enqueue(bu);break}s=h*Math.pow(2,32)+u.getUint32(4),i=3}else{if(Rr(n)<s)break;const a=Tr(n,s);o.enqueue(Fc(r?a:Go.decode(a),e)),i=0}if(s===0||s>t){o.enqueue(bu);break}}}})}const W0=4;function Ne(t){if(t)return fb(t)}function fb(t){for(var e in Ne.prototype)t[e]=Ne.prototype[e];return t}Ne.prototype.on=Ne.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ne.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ne.prototype.off=Ne.prototype.removeListener=Ne.prototype.removeAllListeners=Ne.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ne.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};Ne.prototype.emitReserved=Ne.prototype.emit;Ne.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ne.prototype.hasListeners=function(t){return!!this.listeners(t).length};const lo=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),dt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),pb="arraybuffer";function H0(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const mb=dt.setTimeout,vb=dt.clearTimeout;function oo(t,e){e.useNativeTimers?(t.setTimeoutFn=mb.bind(dt),t.clearTimeoutFn=vb.bind(dt)):(t.setTimeoutFn=dt.setTimeout.bind(dt),t.clearTimeoutFn=dt.clearTimeout.bind(dt))}const gb=1.33;function yb(t){return typeof t=="string"?xb(t):Math.ceil((t.byteLength||t.size)*gb)}function xb(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function q0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function wb(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function bb(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class Sb extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Dc extends Ne{constructor(e){super(),this.writable=!1,oo(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new Sb(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Fc(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=wb(e);return n.length?"?"+n:""}}class Nb extends Dc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};cb(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ub(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=q0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let K0=!1;try{K0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _b=K0;function kb(){}class Eb extends Nb{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class It extends Ne{constructor(e,n,i){super(),this.createRequest=e,oo(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=H0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=It.requestsCount++,It.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kb,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete It.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}It.requestsCount=0;It.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Dd);else if(typeof addEventListener=="function"){const t="onpagehide"in dt?"pagehide":"unload";addEventListener(t,Dd,!1)}}function Dd(){for(let t in It.requests)It.requests.hasOwnProperty(t)&&It.requests[t].abort()}const Cb=function(){const t=X0({xdomain:!1});return t&&t.responseType!==null}();class jb extends Eb{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=Cb&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new It(X0,this.uri(),e)}}function X0(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||_b))return new XMLHttpRequest}catch{}if(!e)try{return new dt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Q0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Mb extends Dc{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=Q0?{}:H0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;$c(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}s&&lo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=q0()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Yo=dt.WebSocket||dt.MozWebSocket;class Rb extends Mb{createSocket(e,n,i){return Q0?new Yo(e,n,i):n?new Yo(e,n):new Yo(e)}doWrite(e,n){this.ws.send(n)}}class Tb extends Dc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=db(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=hb();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const r=()=>{i.read().then(({done:o,value:a})=>{o||(this.onPacket(a),r())}).catch(o=>{})};r();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this._writer.write(i).then(()=>{s&&lo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Pb={websocket:Rb,webtransport:Tb,polling:jb},Lb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Su(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=Lb.exec(t||""),r={},l=14;for(;l--;)r[zb[l]]=s[l]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Ob(r,r.path),r.queryKey=$b(r,r.query),r}function Ob(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function $b(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}const Nu=typeof addEventListener=="function"&&typeof removeEventListener=="function",sl=[];Nu&&addEventListener("offline",()=>{sl.forEach(t=>t())},!1);class En extends Ne{constructor(e,n){if(super(),this.binaryType=pb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=Su(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=Su(n.host).host);oo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bb(this.opts.query)),Nu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},sl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=W0,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&En.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",En.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=yb(s)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,lo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(En.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Nu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=sl.indexOf(this._offlineEventListener);i!==-1&&sl.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}En.protocol=W0;class Fb extends En{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;En.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!i)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;En.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function r(){i||(i=!0,h(),n.close(),n=null)}const l=d=>{const f=new Error("probe error: "+d);f.transport=n.name,r(),this.emitReserved("upgradeError",f)};function o(){l("transport closed")}function a(){l("socket closed")}function u(d){n&&d.name!==n.name&&r()}const h=()=>{n.removeListener("open",s),n.removeListener("error",l),n.removeListener("close",o),this.off("close",a),this.off("upgrading",u)};n.once("open",s),n.once("error",l),n.once("close",o),this.once("close",a),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let Db=class extends Fb{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>Pb[s]).filter(s=>!!s)),super(e,i)}};function Ab(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Su(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const Bb=typeof ArrayBuffer=="function",Vb=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,J0=Object.prototype.toString,Ib=typeof Blob=="function"||typeof Blob<"u"&&J0.call(Blob)==="[object BlobConstructor]",Ub=typeof File=="function"||typeof File<"u"&&J0.call(File)==="[object FileConstructor]";function Ac(t){return Bb&&(t instanceof ArrayBuffer||Vb(t))||Ib&&t instanceof Blob||Ub&&t instanceof File}function rl(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(rl(t[n]))return!0;return!1}if(Ac(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return rl(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&rl(t[n]))return!0;return!1}function Wb(t){const e=[],n=t.data,i=t;return i.data=_u(n,e),i.attachments=e.length,{packet:i,buffers:e}}function _u(t,e){if(!t)return t;if(Ac(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=_u(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=_u(t[i],e));return n}return t}function Hb(t,e){return t.data=ku(t.data,e),delete t.attachments,t}function ku(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ku(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ku(t[n],e));return t}const qb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Kb=5;var G;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(G||(G={}));class Xb{constructor(e){this.replacer=e}encode(e){return(e.type===G.EVENT||e.type===G.ACK)&&rl(e)?this.encodeAsBinary({type:e.type===G.EVENT?G.BINARY_EVENT:G.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===G.BINARY_EVENT||e.type===G.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Wb(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function Ad(t){return Object.prototype.toString.call(t)==="[object Object]"}class Bc extends Ne{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===G.BINARY_EVENT;i||n.type===G.BINARY_ACK?(n.type=i?G.EVENT:G.ACK,this.reconstructor=new Qb(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ac(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(G[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===G.BINARY_EVENT||i.type===G.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const l=e.substring(r,n);if(l!=Number(l)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(l)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const l=e.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Bc.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case G.CONNECT:return Ad(n);case G.DISCONNECT:return n===void 0;case G.CONNECT_ERROR:return typeof n=="string"||Ad(n);case G.EVENT:case G.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&qb.indexOf(n[0])===-1);case G.ACK:case G.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Qb{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Hb(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Jb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Bc,Encoder:Xb,get PacketType(){return G},protocol:Kb},Symbol.toStringTag,{value:"Module"}));function Nt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Gb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class G0 extends Ne{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Nt(e,"open",this.onopen.bind(this)),Nt(e,"packet",this.onpacket.bind(this)),Nt(e,"error",this.onerror.bind(this)),Nt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,s,r;if(Gb.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const l={type:G.EVENT,data:n};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,d=n.pop();this._registerAckCallback(h,d),l.id=h}const o=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s),l=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,o)};l.withError=!0,this.acks[e]=l}emitWithAck(e,...n){return new Promise((i,s)=>{const r=(l,o)=>l?s(l):i(o);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:G.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case G.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case G.EVENT:case G.BINARY_EVENT:this.onevent(e);break;case G.ACK:case G.BINARY_ACK:this.onack(e);break;case G.DISCONNECT:this.ondisconnect();break;case G.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:G.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:G.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Ki(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ki.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Ki.prototype.reset=function(){this.attempts=0};Ki.prototype.setMin=function(t){this.ms=t};Ki.prototype.setMax=function(t){this.max=t};Ki.prototype.setJitter=function(t){this.jitter=t};class Eu extends Ne{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,oo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Ki({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||Jb;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Db(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Nt(n,"open",function(){i.onopen(),e&&e()}),r=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},l=Nt(n,"error",r);if(this._timeout!==!1){const o=this._timeout,a=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},o);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(l),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Nt(e,"ping",this.onping.bind(this)),Nt(e,"data",this.ondata.bind(this)),Nt(e,"error",this.onerror.bind(this)),Nt(e,"close",this.onclose.bind(this)),Nt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){lo(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new G0(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ls={};function ll(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Ab(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,l=ls[s]&&r in ls[s].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||l;let a;return o?a=new Eu(i,e):(ls[s]||(ls[s]=new Eu(i,e)),a=ls[s]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(ll,{Manager:Eu,Socket:G0,io:ll,connect:ll});const Yb=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),Zb=Yb,zl=ll(Zb,{transports:["websocket"],autoConnect:!0});function eS(){const[t,e]=S.useState(""),[n,i]=S.useState(""),[s,r]=S.useState(!1),[l,o]=S.useState(""),{login:a}=gt(),u=ir();async function h(d){var f,y;d.preventDefault(),r(!0),o("");try{const p=await te().post("/api/auth/login",{email:t,password:n});a(p.data.token,p.data.user),u("/dashboard")}catch(p){o(((y=(f=p==null?void 0:p.response)==null?void 0:f.data)==null?void 0:y.error)||"Login failed")}finally{r(!1)}}return c.jsxs("div",{className:"max-w-md mx-auto card",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sign in"}),l&&c.jsx("div",{className:"text-red-400 mb-2",children:l}),c.jsxs("form",{onSubmit:h,className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Email"}),c.jsx("input",{className:"input",value:t,onChange:d=>e(d.target.value),placeholder:"you@example.com"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Password"}),c.jsx("input",{type:"password",className:"input",value:n,onChange:d=>i(d.target.value),placeholder:""})]}),c.jsx("button",{className:"btn w-full",disabled:s,children:s?"...":"Login"})]}),c.jsx("div",{className:"mt-3 text-sm",children:c.jsx(kn,{className:"link",to:"/reset-password",children:"Forgot password?"})}),c.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["No account? ",c.jsx(kn,{className:"link",to:"/signup",children:"Sign up"})]})]})}function tS(){const[t]=u0(),e=t.get("ref")||"",[n,i]=S.useState(""),[s,r]=S.useState(""),[l,o]=S.useState(""),[a,u]=S.useState(""),[h,d]=S.useState(!1),[f,y]=S.useState(""),{login:p}=gt(),m=ir();S.useEffect(()=>{},[e]);async function x(v){var g,w;v.preventDefault(),d(!0),y("");try{const N=await te().post("/api/auth/signup",{email:n,password:s,name:l,handle:a,ref:e});p(N.data.token,N.data.user),m("/dashboard")}catch(N){y(((w=(g=N==null?void 0:N.response)==null?void 0:g.data)==null?void 0:w.error)||"Signup failed")}finally{d(!1)}}return c.jsxs("div",{className:"max-w-md mx-auto card",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create account"}),e&&c.jsxs("div",{className:"text-xs text-white/60 mb-2",children:["Referred by code: ",c.jsx("span",{className:"text-brand",children:e})]}),f&&c.jsx("div",{className:"text-red-400 mb-2",children:f}),c.jsxs("form",{onSubmit:x,className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Email"}),c.jsx("input",{className:"input",value:n,onChange:v=>i(v.target.value),placeholder:"you@example.com"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Password"}),c.jsx("input",{type:"password",className:"input",value:s,onChange:v=>r(v.target.value),placeholder:""})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Display name"}),c.jsx("input",{className:"input",value:l,onChange:v=>o(v.target.value),placeholder:"Your name"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Handle (unique)"}),c.jsx("input",{className:"input",value:a,onChange:v=>u(v.target.value),placeholder:"e.g. satoshi"})]}),c.jsx("button",{className:"btn w-full",disabled:h,children:h?"...":"Create account"})]}),c.jsxs("div",{className:"mt-2 text-sm text-white/60",children:["Have an account? ",c.jsx(kn,{className:"link",to:"/login",children:"Sign in"})]})]})}function ue(t){var e=t.width,n=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(n<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:n}}function Wn(t,e){return t.width===e.width&&t.height===e.height}var nS=function(){function t(e){var n=this;this._resolutionListener=function(){return n._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var n=this,i={next:e};return this._observers.push(i),{unsubscribe:function(){n._observers=n._observers.filter(function(s){return s!==i})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(n){return n.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function iS(t){return new nS(t)}var sS=function(){function t(e,n,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=ue({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=n??function(r){return r},this._allowResizeObserver=(s=i==null?void 0:i.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,n;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(n=this._devicePixelRatioObservable)===null||n===void 0||n.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return ue({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=ue(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(n){return n!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(n){return n!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var n=this.bitmapSize;Wn(n,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(n,e))},t.prototype._emitBitmapSizeChanged=function(e,n){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,n)})},t.prototype._suggestNewBitmapSize=function(e){var n=this._suggestedBitmapSize,i=ue(this._transformBitmapSize(e,this._canvasElementClientSize)),s=Wn(this.bitmapSize,i)?null:i;n===null&&s===null||n!==null&&s!==null&&Wn(n,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(n,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,n){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,e,n)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}lS().then(function(n){return n?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var n=Bd(this._canvasElement);if(n===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=iS(n),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,n;if(this._canvasElement!==null){var i=Bd(this._canvasElement);if(i!==null){var s=(n=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&n!==void 0?n:i.devicePixelRatio,r=this._canvasElement.getClientRects(),l=r[0]!==void 0?oS(r[0],s):ue({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(l)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(n){var i=n.find(function(l){return l.target===e._canvasElement});if(!(!i||!i.devicePixelContentBoxSize||!i.devicePixelContentBoxSize[0])){var s=i.devicePixelContentBoxSize[0],r=ue({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function rS(t,e){return new sS(t,e.transform,e.options)}function Bd(t){return t.ownerDocument.defaultView}function lS(){return new Promise(function(t){var e=new ResizeObserver(function(n){t(n.every(function(i){return"devicePixelContentBoxSize"in i})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function oS(t,e){return ue({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var aS=function(){function t(e,n,i){if(n.width===0||n.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=n,i.width===0||i.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function Gn(t,e){var n=t.canvasElementClientSize;if(n.width===0||n.height===0)return null;var i=t.bitmapSize;if(i.width===0||i.height===0)return null;var s=t.canvasElement.getContext("2d",e);return s===null?null:new aS(s,n,i)}/*!
 * @license
 * TradingView Lightweight Charts v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const uS={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},cS={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},hS={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},dS={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},fS={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},pS={color:"#26a69a",base:0},Y0={color:"#2196f3"},Z0={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Vd,Cu;function Yn(t,e){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(n)}function ev(t,e,n,i){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(n,e+s),t.lineTo(i,e+s),t.stroke()}function Mn(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function He(t){if(t===void 0)throw new Error("Value is undefined");return t}function T(t){if(t===null)throw new Error("Value is null");return t}function bi(t){return T(He(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(Vd||(Vd={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(Cu||(Cu={}));const Id={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function ut(t){return t<0?0:t>255?255:Math.round(t)||0}function tv(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const mS=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,vS=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,gS=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,yS=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function Hs(t){(t=t.toLowerCase())in Id&&(t=Id[t]);{const e=yS.exec(t)||gS.exec(t);if(e)return[ut(parseInt(e[1],10)),ut(parseInt(e[2],10)),ut(parseInt(e[3],10)),tv(e.length<5?1:parseFloat(e[4]))]}{const e=vS.exec(t);if(e)return[ut(parseInt(e[1],16)),ut(parseInt(e[2],16)),ut(parseInt(e[3],16)),1]}{const e=mS.exec(t);if(e)return[ut(17*parseInt(e[1],16)),ut(17*parseInt(e[2],16)),ut(17*parseInt(e[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function nv(t){return .199*t[0]+.687*t[1]+.114*t[2]}function ao(t){const e=Hs(t);return{t:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,i:nv(e)>160?"black":"white"}}class xe{constructor(){this.h=[]}l(e,n,i){const s={o:e,_:n,u:i===!0};this.h.push(s)}v(e){const n=this.h.findIndex(i=>e===i.o);n>-1&&this.h.splice(n,1)}p(e){this.h=this.h.filter(n=>n._!==e)}m(e,n,i){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(e,n,i))}M(){return this.h.length>0}S(){this.h=[]}}function jt(t,...e){for(const n of e)for(const i in n)n[i]!==void 0&&Object.prototype.hasOwnProperty.call(n,i)&&!["__proto__","constructor","prototype"].includes(i)&&(typeof n[i]!="object"||t[i]===void 0||Array.isArray(n[i])?t[i]=n[i]:jt(t[i],n[i]));return t}function At(t){return typeof t=="number"&&isFinite(t)}function qs(t){return typeof t=="number"&&t%1==0}function ar(t){return typeof t=="string"}function Pr(t){return typeof t=="boolean"}function Jt(t){const e=t;if(!e||typeof e!="object")return e;let n,i,s;for(i in n=Array.isArray(e)?[]:{},e)e.hasOwnProperty(i)&&(s=e[i],n[i]=s&&typeof s=="object"?Jt(s):s);return n}function xS(t){return t!==null}function Ks(t){return t===null?void 0:t}const Vc="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function Ai(t,e,n){return e===void 0&&(e=Vc),`${n=n!==void 0?`${n} `:""}${t}px ${e}`}class wS{constructor(e){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=e}W(){const e=this.k,n=this.j(),i=this.H();return e.P===n&&e.D===i||(e.P=n,e.D=i,e.R=Ai(n,i),e.L=2.5/12*n,e.B=e.L,e.A=n/12*e.T,e.I=n/12*e.T,e.N=0),e.V=this.$(),e.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Ic{constructor(){this.Y=[]}Z(e){this.Y=e}X(e,n,i){this.Y.forEach(s=>{s.X(e,n,i)})}}class Rt{X(e,n,i){e.useBitmapCoordinateSpace(s=>this.K(s,n,i))}}class bS extends Rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,r=this.G,l=Math.max(1,Math.floor(n))%2/2,o=a=>{e.beginPath();for(let u=s.to-1;u>=s.from;--u){const h=r.it[u],d=Math.round(h.nt*n)+l,f=h.st*i,y=a*i+l;e.moveTo(d,f),e.arc(d,f,y,0,2*Math.PI)}e.fill()};r.et>0&&(e.fillStyle=r.rt,o(r.ht+r.et)),e.fillStyle=r.lt,o(r.ht)}}function SS(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const NS={from:0,to:1};class _S{constructor(e,n){this.ut=new Ic,this.ct=[],this.dt=[],this.ft=!0,this.F=e,this.vt=n,this.ut.Z(this.ct)}bt(e){const n=this.F.wt();n.length!==this.ct.length&&(this.dt=n.map(SS),this.ct=this.dt.map(i=>{const s=new bS;return s.J(i),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const e=this.vt.W().mode===2,n=this.F.wt(),i=this.vt.xt(),s=this.F.St();n.forEach((r,l)=>{var o;const a=this.dt[l],u=r.kt(i);if(e||u===null||!r.yt())return void(a.tt=null);const h=T(r.Ct());a.lt=u.Tt,a.ht=u.ht,a.et=u.Pt,a.it[0]._t=u._t,a.it[0].st=r.Dt().Rt(u._t,h.Vt),a.rt=(o=u.Ot)!==null&&o!==void 0?o:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=i,a.it[0].nt=s.It(i),a.tt=NS})}}class kS extends Rt{constructor(e){super(),this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=this.zt.Lt.yt,l=this.zt.Et.yt;if(!r&&!l)return;const o=Math.round(this.zt.nt*i),a=Math.round(this.zt.st*s);e.lineCap="butt",r&&o>=0&&(e.lineWidth=Math.floor(this.zt.Lt.et*i),e.strokeStyle=this.zt.Lt.V,e.fillStyle=this.zt.Lt.V,Yn(e,this.zt.Lt.Nt),function(u,h,d,f){u.beginPath();const y=u.lineWidth%2?.5:0;u.moveTo(h+y,d),u.lineTo(h+y,f),u.stroke()}(e,o,0,n.height)),l&&a>=0&&(e.lineWidth=Math.floor(this.zt.Et.et*s),e.strokeStyle=this.zt.Et.V,e.fillStyle=this.zt.Et.V,Yn(e,this.zt.Et.Nt),ev(e,a,0,n.width))}}class ES{constructor(e){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new kS(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.yt(),n=T(this.jt.Ht()),i=n.$t().W().crosshair,s=this.Ft;if(i.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=e&&this.jt.Ut(n),s.Lt.yt=e&&this.jt.qt(),s.Et.et=i.horzLine.width,s.Et.Nt=i.horzLine.style,s.Et.V=i.horzLine.color,s.Lt.et=i.vertLine.width,s.Lt.Nt=i.vertLine.style,s.Lt.V=i.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function CS(t,e,n,i,s,r){t.fillRect(e+r,n,i-2*r,r),t.fillRect(e+r,n+s-r,i-2*r,r),t.fillRect(e,n,r,s),t.fillRect(e+i-r,n,r,s)}function uo(t,e,n,i,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,n,i,s),t.restore()}function Ud(t,e,n,i,s,r){t.beginPath(),t.roundRect?t.roundRect(e,n,i,s,r):(t.lineTo(e+i-r[1],n),r[1]!==0&&t.arcTo(e+i,n,e+i,n+r[1],r[1]),t.lineTo(e+i,n+s-r[2]),r[2]!==0&&t.arcTo(e+i,n+s,e+i-r[2],n+s,r[2]),t.lineTo(e+r[3],n+s),r[3]!==0&&t.arcTo(e,n+s,e,n+s-r[3],r[3]),t.lineTo(e,n+r[0]),r[0]!==0&&t.arcTo(e,n,e+r[0],n,r[0]))}function Wd(t,e,n,i,s,r,l=0,o=[0,0,0,0],a=""){if(t.save(),!l||!a||a===r)return Ud(t,e,n,i,s,o),t.fillStyle=r,t.fill(),void t.restore();const u=l/2;var h;Ud(t,e+u,n+u,i-l,s-l,(h=-u,o.map(d=>d===0?d:d+h))),r!=="transparent"&&(t.fillStyle=r,t.fill()),a!=="transparent"&&(t.lineWidth=l,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function iv(t,e,n,i,s,r,l){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,s);o.addColorStop(0,r),o.addColorStop(1,l),t.fillStyle=o,t.fillRect(e,n,i,s),t.restore()}class Hd{constructor(e,n){this.J(e,n)}J(e,n){this.zt=e,this.Xt=n}At(e,n){return this.zt.yt?e.P+e.L+e.B:0}X(e,n,i,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,l=this.Xt.t,o=e.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=n.R;const h=this.Gt(a,n,i,s),d=h.Jt;return h.Qt?Wd(u,d.ti,d.ii,d.ni,d.si,l,d.ei,[d.ht,0,0,d.ht],l):Wd(u,d.ri,d.ii,d.ni,d.si,l,d.ei,[0,d.ht,d.ht,0],l),this.zt.hi&&(u.fillStyle=r,u.fillRect(d.ri,d.li,d.ai-d.ri,d.oi)),this.zt._i&&(u.fillStyle=n.O,u.fillRect(h.Qt?d.ui-d.ei:0,d.ii,d.ei,d.ci-d.ii)),h});e.useMediaCoordinateSpace(({context:a})=>{const u=o.di;a.font=n.R,a.textAlign=o.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(e,n,i,s){var r;const{context:l,bitmapSize:o,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=e,d=this.zt.hi||!this.zt.mi?n.T:0,f=this.zt.bi?n.C:0,y=n.L+this.Xt.wi,p=n.B+this.Xt.gi,m=n.A,x=n.I,v=this.zt.Kt,g=n.P,w=i.Mi(l,v),N=Math.ceil(i.xi(l,v)),k=g+y+p,M=n.C+m+x+N+d,E=Math.max(1,Math.floor(h));let j=Math.round(k*h);j%2!=E%2&&(j+=1);const I=f>0?Math.max(1,Math.floor(f*u)):0,F=Math.round(M*u),K=Math.round(d*u),ne=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,ie=Math.round(ne*h)-Math.floor(.5*h),Q=Math.floor(ie+E/2-j/2),A=Q+j,z=s==="right",ee=z?a.width-f:f,R=z?o.width-I:I;let C,O,B;return z?(C=R-F,O=R-K,B=ee-d-m-f):(C=R+F,O=R+K,B=ee+d+m),{Qt:z,Jt:{ii:Q,li:ie,ci:A,ni:F,si:j,ht:2*u,ei:I,ti:C,ri:R,ai:O,oi:E,ui:o.width},di:{ii:Q/h,ci:A/h,fi:B,pi:w}}}}class co{constructor(e){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(e||Hd)(this.Ci,this.yi),this.Ri=new(e||Hd)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(e,n=!1){return Math.max(this.Pi.At(e,n),this.Ri.At(e,n))}Vi(){return this.yi.Si||0}Oi(e){this.yi.Si=e}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(e){return this.Di(),this.Ci.hi=this.Ci.hi&&e.W().ticksVisible,this.Ti.hi=this.Ti.hi&&e.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class jS extends co{constructor(e,n,i){super(),this.jt=e,this.Li=n,this.Ei=i}zi(e,n,i){if(e.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const l=ao(s.labelBackgroundColor);i.t=l.t,e.V=l.i;const o=2/12*this.Li.P();i.wi=o,i.gi=o;const a=this.Ei(this.Li);i.ki=a.ki,e.Kt=this.Li.Fi(a._t,r),e.yt=!0}}const MS=/[1-9]/g;class sv{constructor(){this.zt=null}J(e){this.zt=e}X(e,n){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const i=e.useMediaCoordinateSpace(({context:f})=>(f.font=n.R,Math.round(n.Wi.xi(f,T(this.zt).Kt,MS))));if(i<=0)return;const s=n.ji,r=i+2*s,l=r/2,o=this.zt.Hi;let a=this.zt.ki,u=Math.floor(a-l)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-l)+.5):u+r>o&&(a-=Math.abs(o-(u+r)),u=Math.floor(a-l)+.5);const h=u+r,d=Math.ceil(0+n.C+n.T+n.L+n.P+n.B);e.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:y,verticalPixelRatio:p})=>{const m=T(this.zt);f.fillStyle=m.t;const x=Math.round(u*y),v=Math.round(0*p),g=Math.round(h*y),w=Math.round(d*p),N=Math.round(2*y);if(f.beginPath(),f.moveTo(x,v),f.lineTo(x,w-N),f.arcTo(x,w,x+N,w,N),f.lineTo(g-N,w),f.arcTo(g,w,g,w-N,N),f.lineTo(g,v),f.fill(),m.hi){const k=Math.round(m.ki*y),M=v,E=Math.round((M+n.T)*p);f.fillStyle=m.V;const j=Math.max(1,Math.floor(y)),I=Math.floor(.5*y);f.fillRect(k-I,M,j,E-M)}}),e.useMediaCoordinateSpace(({context:f})=>{const y=T(this.zt),p=0+n.C+n.T+n.L+n.P/2;f.font=n.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=y.V;const m=n.Wi.Mi(f,"Apr0");f.translate(u+s,p+m),f.fillText(y.Kt,0,0)})}}class RS{constructor(e,n,i){this.ft=!0,this.Wt=new sv,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=e,this.$i=n,this.Ei=i}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const e=this.Ft;if(e.yt=!1,this.vt.W().mode===2)return;const n=this.vt.W().vertLine;if(!n.labelVisible)return;const i=this.$i.St();if(i.Ni())return;e.Hi=i.Hi();const s=this.Ei();if(s===null)return;e.ki=s.ki;const r=i.Ui(this.vt.xt());e.Kt=i.qi(T(r)),e.yt=!0;const l=ao(n.labelBackgroundColor);e.t=l.t,e.V=l.i,e.hi=i.W().ticksVisible}}class Uc{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(e){this.Zi=e}Dt(){return this.Yi}Gi(e){this.Yi=e}Ji(e){return[]}Qi(){return[]}yt(){return!0}}var ju;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden"})(ju||(ju={}));class TS extends Uc{constructor(e,n){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=e,this.cn=n,this.dn=new _S(e,this),this.fn=((s,r)=>l=>{const o=r(),a=s();if(l===T(this.tn).vn())return{_t:a,ki:o};{const u=T(l.Ct());return{_t:l.pn(o,u),ki:o}}})(()=>this.nn,()=>this.an);const i=((s,r)=>()=>{const l=this.$i.St().mn(s()),o=r();return l&&Number.isFinite(o)?{ot:l,ki:o}:null})(()=>this.sn,()=>this.Yt());this.bn=new RS(this,e,i),this.wn=new ES(this)}W(){return this.cn}gn(e,n){this._n=e,this.un=n}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(e,n,i){this.hn||(this.hn=!0),this.en=!0,this.yn(e,n,i)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(e){return this.tn!==null?[this.wn,this.dn]:[]}Ut(e){return e===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(e,n){this.en&&this.tn===e||this.rn.clear();const i=[];return this.tn===e&&i.push(this.Dn(this.rn,n,this.fn)),i}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(e=>e.bt()),this.bn.bt(),this.dn.bt()}On(e){return e&&!e.vn().Ni()?e.vn():null}yn(e,n,i){this.Bn(e,n,i)&&this.Vn()}Bn(e,n,i){const s=this.ln,r=this.an,l=this.nn,o=this.sn,a=this.tn,u=this.On(i);this.sn=e,this.ln=isNaN(e)?NaN:this.$i.St().It(e),this.tn=i;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=n,this.an=u.Rt(n,h)):(this.nn=NaN,this.an=NaN),s!==this.ln||r!==this.an||o!==this.sn||l!==this.nn||a!==this.tn}Tn(){const e=this.$i.wt().map(i=>i.In().An()).filter(xS),n=e.length===0?null:Math.max(...e);this.sn=n!==null?n:NaN}Dn(e,n,i){let s=e.get(n);return s===void 0&&(s=new jS(this,n,i),e.set(n,s)),s}}function ho(t){return t==="left"||t==="right"}class Le{constructor(e){this.zn=new Map,this.Ln=[],this.En=e}Nn(e,n){const i=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(e),n);this.zn.set(e,i)}jn(){return this.En}Hn(e){const n=this.zn.get(e);return n===void 0?{Fn:this.En}:{Fn:Math.max(this.En,n.Fn),Wn:n.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(e){this.Un(),this.Ln=[{qn:1,Vt:e}]}Zn(e){this.Xn(),this.Ln.push({qn:5,Vt:e})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(e){this.Un(),this.Ln.push({qn:2,Vt:e})}Jn(e){this.Un(),this.Ln.push({qn:3,Vt:e})}Qn(){return this.Ln}ts(e){for(const n of e.Ln)this.ns(n);this.En=Math.max(this.En,e.En),e.zn.forEach((n,i)=>{this.Nn(i,n)})}static ss(){return new Le(2)}static es(){return new Le(3)}ns(e){switch(e.qn){case 0:this.$n();break;case 1:this.Yn(e.Vt);break;case 2:this.Gn(e.Vt);break;case 3:this.Jn(e.Vt);break;case 4:this.Kn();break;case 5:this.Zn(e.Vt);break;case 6:this.Xn()}}Xn(){const e=this.Ln.findIndex(n=>n.qn===5);e!==-1&&this.Ln.splice(e,1)}}const qd=".";function Gt(t,e){if(!At(t))return"n/a";if(!qs(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class fo{constructor(e,n){if(n||(n=1),At(e)&&qs(e)||(e=100),e<0)throw new TypeError("invalid base");this.Li=e,this.rs=n,this.hs()}format(e){const n=e<0?"":"";return e=Math.abs(e),n+this.ls(e)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let e=this.Li;for(;e>1;)e/=10,this._s++}}ls(e){const n=this.Li/this.rs;let i=Math.floor(e),s="";const r=this._s!==void 0?this._s:NaN;if(n>1){let l=+(Math.round(e*n)-i*n).toFixed(this._s);l>=n&&(l-=n,i+=1),s=qd+Gt(+l.toFixed(this._s)*this.rs,r)}else i=Math.round(i*n)/n,r>0&&(s=qd+Gt(0,r));return i.toFixed(0)+s}}class rv extends fo{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class PS{constructor(e){this.us=e}format(e){let n="";return e<0&&(n="-",e=-e),e<995?n+this.cs(e):e<999995?n+this.cs(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),n+this.cs(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),n+this.cs(e/1e9)+"B")}cs(e){let n;const i=Math.pow(10,this.us);return n=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this.us).replace(/\.?0+$/,""):String(e),n.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function lv(t,e,n,i,s,r,l){if(e.length===0||i.from>=e.length||i.to<=0)return;const{context:o,horizontalPixelRatio:a,verticalPixelRatio:u}=t,h=e[i.from];let d=r(t,h),f=h;if(i.to-i.from<2){const y=s/2;o.beginPath();const p={nt:h.nt-y,st:h.st},m={nt:h.nt+y,st:h.st};o.moveTo(p.nt*a,p.st*u),o.lineTo(m.nt*a,m.st*u),l(t,d,p,m)}else{const y=(m,x)=>{l(t,d,f,x),o.beginPath(),d=m,f=x};let p=f;o.beginPath(),o.moveTo(h.nt*a,h.st*u);for(let m=i.from+1;m<i.to;++m){p=e[m];const x=r(t,p);switch(n){case 0:o.lineTo(p.nt*a,p.st*u);break;case 1:o.lineTo(p.nt*a,e[m-1].st*u),x!==d&&(y(x,p),o.lineTo(p.nt*a,e[m-1].st*u)),o.lineTo(p.nt*a,p.st*u);break;case 2:{const[v,g]=LS(e,m-1,m);o.bezierCurveTo(v.nt*a,v.st*u,g.nt*a,g.st*u,p.nt*a,p.st*u);break}}n!==1&&x!==d&&(y(x,p),o.moveTo(p.nt*a,p.st*u))}(f!==p||f===p&&n===1)&&l(t,d,f,p)}}const Kd=6;function Zo(t,e){return{nt:t.nt-e.nt,st:t.st-e.st}}function Xd(t,e){return{nt:t.nt/e,st:t.st/e}}function LS(t,e,n){const i=Math.max(0,e-1),s=Math.min(t.length-1,n+1);var r,l;return[(r=t[e],l=Xd(Zo(t[n],t[i]),Kd),{nt:r.nt+l.nt,st:r.st+l.st}),Zo(t[n],Xd(Zo(t[s],t[e]),Kd))]}function zS(t,e,n,i,s){const{context:r,horizontalPixelRatio:l,verticalPixelRatio:o}=e;r.lineTo(s.nt*l,t*o),r.lineTo(i.nt*l,t*o),r.closePath(),r.fillStyle=n,r.fill()}class ov extends Rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){var n;if(this.G===null)return;const{it:i,tt:s,ds:r,et:l,Nt:o,fs:a}=this.G,u=(n=this.G.vs)!==null&&n!==void 0?n:this.G.ps?0:e.mediaSize.height;if(s===null)return;const h=e.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=l,Yn(h,o),h.lineWidth=1,lv(e,i,a,s,r,this.bs.bind(this),zS.bind(null,u))}}function Mu(t,e,n){return Math.min(Math.max(t,e),n)}function Lr(t,e,n){return e-t<=n}function av(t){const e=Math.ceil(t);return e%2==0?e-1:e}class Wc{ws(e,n){const i=this.gs,{Ms:s,xs:r,Ss:l,ks:o,ys:a,vs:u}=n;if(this.Cs===void 0||i===void 0||i.Ms!==s||i.xs!==r||i.Ss!==l||i.ks!==o||i.vs!==u||i.ys!==a){const h=e.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,s),u!=null){const d=Mu(u*e.verticalPixelRatio/a,0,1);h.addColorStop(d,r),h.addColorStop(d,l)}h.addColorStop(1,o),this.Cs=h,this.gs=n}return this.Cs}}class OS extends ov{constructor(){super(...arguments),this.Ts=new Wc}bs(e,n){return this.Ts.ws(e,{Ms:n.Ps,xs:"",Ss:"",ks:n.Rs,ys:e.bitmapSize.height})}}function $S(t,e){const n=t.context;n.strokeStyle=e,n.stroke()}class uv extends Rt{constructor(){super(...arguments),this.G=null}J(e){this.G=e}K(e){if(this.G===null)return;const{it:n,tt:i,ds:s,fs:r,et:l,Nt:o,Ds:a}=this.G;if(i===null)return;const u=e.context;u.lineCap="butt",u.lineWidth=l*e.verticalPixelRatio,Yn(u,o),u.lineJoin="round";const h=this.Vs.bind(this);r!==void 0&&lv(e,n,r,i,s,h,$S),a&&function(d,f,y,p,m){const{horizontalPixelRatio:x,verticalPixelRatio:v,context:g}=d;let w=null;const N=Math.max(1,Math.floor(x))%2/2,k=y*v+N;for(let M=p.to-1;M>=p.from;--M){const E=f[M];if(E){const j=m(d,E);j!==w&&(g.beginPath(),w!==null&&g.fill(),g.fillStyle=j,w=j);const I=Math.round(E.nt*x)+N,F=E.st*v;g.moveTo(I,F),g.arc(I,F,k,0,2*Math.PI)}}g.fill()}(e,n,a,i,h)}}class cv extends uv{Vs(e,n){return n.lt}}function hv(t,e,n,i,s=0,r=e.length){let l=r-s;for(;0<l;){const o=l>>1,a=s+o;i(e[a],n)===t?(s=a+1,l-=o+1):l=o}return s}const ur=hv.bind(null,!0),dv=hv.bind(null,!1);function FS(t,e){return t.ot<e}function DS(t,e){return e<t.ot}function fv(t,e,n){const i=e.Os(),s=e.ui(),r=ur(t,i,FS),l=dv(t,s,DS);if(!n)return{from:r,to:l};let o=r,a=l;return r>0&&r<t.length&&t[r].ot>=i&&(o=r-1),l>0&&l<t.length&&t[l-1].ot<=s&&(a=l+1),{from:o,to:a}}class Hc{constructor(e,n,i){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=e,this.Ns=n,this.Fs=i}bt(e){this.Bs=!0,e==="data"&&(this.As=!0),e==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(e=>Object.assign(Object.assign({},e),this.Es.Us().$s(e.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const e=this.Es.Dt(),n=this.Ns.St();if(this.qs(),n.Ni()||e.Ni())return;const i=n.Xs();if(i===null||this.Es.In().Ks()===0)return;const s=this.Es.Ct();s!==null&&(this.Ls=fv(this.zs,i,this.Fs),this.Gs(e,n,s.Vt),this.Js())}}class po extends Hc{constructor(e,n){super(e,n,!0)}Gs(e,n,i){n.Qs(this.zs,Ks(this.Ls)),e.te(this.zs,i,Ks(this.Ls))}ie(e,n){return{ot:e,_t:n,nt:NaN,st:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>{const i=n.Vt[3];return this.se(n.ee,i,e)})}}class AS extends po{constructor(e,n){super(e,n),this.js=new Ic,this.re=new OS,this.he=new cv,this.js.Z([this.re,this.he])}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e=this.Es.W();this.re.J({fs:e.lineType,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,vs:null,ps:e.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:e.lineVisible?e.lineType:void 0,it:this.zs,Nt:e.lineStyle,et:e.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class BS extends Rt{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(e){this.zt=e}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(n),this.ae>=2&&Math.max(1,Math.floor(n))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(n)):this.ae;let s=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*n);for(let l=this.zt.tt.from;l<this.zt.tt.to;++l){const o=this.zt.In[l];s!==o.ce&&(e.fillStyle=o.ce,s=o.ce);const a=Math.floor(.5*this.oe),u=Math.round(o.nt*n),h=u-a,d=this.oe,f=h+d-1,y=Math.min(o.de,o.fe),p=Math.max(o.de,o.fe),m=Math.round(y*i)-a,x=Math.round(p*i)+a,v=Math.max(x-m,this.oe);e.fillRect(h,m,d,v);const g=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const M=u-g;let E=Math.max(m,Math.round(o.pe*i)-a),j=E+d-1;j>m+v-1&&(j=m+v-1,E=j-d+1),e.fillRect(M,E,h-M,j-E+1)}const w=u+g;let N=Math.max(m,Math.round(o.me*i)-a),k=N+d-1;k>m+v-1&&(k=m+v-1,N=k-d+1),e.fillRect(f+1,N,w-f,k-N+1)}}}_e(e){const n=Math.floor(e);return Math.max(n,Math.floor(function(i,s){return Math.floor(.3*i*s)}(T(this.zt).le,e)))}}class pv extends Hc{constructor(e,n){super(e,n,!1)}Gs(e,n,i){n.Qs(this.zs,Ks(this.Ls)),e.be(this.zs,i,Ks(this.Ls))}we(e,n,i){return{ot:e,ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>this.se(n.ee,n,e))}}class VS extends pv{constructor(){super(...arguments),this.js=new BS}se(e,n,i){return Object.assign(Object.assign({},this.we(e,n,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:e.openVisible,ue:e.thinBars,tt:this.Ls})}}class IS extends ov{constructor(){super(...arguments),this.Ts=new Wc}bs(e,n){const i=this.G;return this.Ts.ws(e,{Ms:n.ke,xs:n.ye,Ss:n.Ce,ks:n.Te,ys:e.bitmapSize.height,vs:i.vs})}}class US extends uv{constructor(){super(...arguments),this.Pe=new Wc}Vs(e,n){const i=this.G;return this.Pe.ws(e,{Ms:n.Re,xs:n.Re,Ss:n.De,ks:n.De,ys:e.bitmapSize.height,vs:i.vs})}}class WS extends po{constructor(e,n){super(e,n),this.js=new Ic,this.Ve=new IS,this.Oe=new US,this.js.Z([this.Ve,this.Oe])}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e=this.Es.Ct();if(e===null)return;const n=this.Es.W(),i=this.Es.Dt().Rt(n.baseValue.price,e.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineType,vs:i,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:n.lineWidth,Nt:n.lineStyle,fs:n.lineVisible?n.lineType:void 0,Ds:n.pointMarkersVisible?n.pointMarkersRadius||n.lineWidth/2+2:void 0,vs:i,tt:this.Ls,ds:s})}}class HS extends Rt{constructor(){super(...arguments),this.zt=null,this.ae=0}J(e){this.zt=e}K(e){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:n}=e;this.ae=function(r,l){if(r>=2.5&&r<=4)return Math.floor(3*l);const o=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*o*l),u=Math.floor(r*l),h=Math.min(a,u);return Math.max(Math.floor(l),h)}(this.zt.le,n),this.ae>=2&&Math.floor(n)%2!=this.ae%2&&this.ae--;const i=this.zt.In;this.zt.Be&&this.Ae(e,i,this.zt.tt),this.zt._i&&this.Ie(e,i,this.zt.tt);const s=this.ze(n);(!this.zt._i||this.ae>2*s)&&this.Le(e,i,this.zt.tt)}Ae(e,n,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const u=Math.floor(.5*a);let h=null;for(let d=i.from;d<i.to;d++){const f=n[d];f.Ee!==o&&(s.fillStyle=f.Ee,o=f.Ee);const y=Math.round(Math.min(f.pe,f.me)*l),p=Math.round(Math.max(f.pe,f.me)*l),m=Math.round(f.de*l),x=Math.round(f.fe*l);let v=Math.round(r*f.nt)-u;const g=v+a-1;h!==null&&(v=Math.max(h+1,v),v=Math.min(v,g));const w=g-v+1;s.fillRect(v,m,w,y-m),s.fillRect(v,p+1,w,x-p),h=g}}ze(e){let n=Math.floor(1*e);this.ae<=2*n&&(n=Math.floor(.5*(this.ae-1)));const i=Math.max(Math.floor(e),n);return this.ae<=2*i?Math.max(Math.floor(e),Math.floor(1*e)):i}Ie(e,n,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="";const a=this.ze(r);let u=null;for(let h=i.from;h<i.to;h++){const d=n[h];d.Ne!==o&&(s.fillStyle=d.Ne,o=d.Ne);let f=Math.round(d.nt*r)-Math.floor(.5*this.ae);const y=f+this.ae-1,p=Math.round(Math.min(d.pe,d.me)*l),m=Math.round(Math.max(d.pe,d.me)*l);if(u!==null&&(f=Math.max(u+1,f),f=Math.min(f,y)),this.zt.le*r>2*a)CS(s,f,p,y-f+1,m-p+1,a);else{const x=y-f+1;s.fillRect(f,p,x,m-p+1)}u=y}}Le(e,n,i){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:l}=e;let o="";const a=this.ze(r);for(let u=i.from;u<i.to;u++){const h=n[u];let d=Math.round(Math.min(h.pe,h.me)*l),f=Math.round(Math.max(h.pe,h.me)*l),y=Math.round(h.nt*r)-Math.floor(.5*this.ae),p=y+this.ae-1;if(h.ce!==o){const m=h.ce;s.fillStyle=m,o=m}this.zt._i&&(y+=a,d+=a,p-=a,f-=a),d>f||s.fillRect(y,d,p-y+1,f-d+1)}}}class qS extends pv{constructor(){super(...arguments),this.js=new HS}se(e,n,i){return Object.assign(Object.assign({},this.we(e,n,i)),i.$s(e))}Js(){const e=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:e.wickVisible,_i:e.borderVisible,tt:this.Ls})}}class KS{constructor(e,n){this.Fe=e,this.Li=n}X(e,n,i){this.Fe.draw(e,this.Li,n,i)}}class ea extends Hc{constructor(e,n,i){super(e,n,!1),this.wn=i,this.js=new KS(this.wn.renderer(),s=>{const r=e.Ct();return r===null?null:e.Dt().Rt(s,r.Vt)})}We(e){return this.wn.priceValueBuilder(e)}je(e){return this.wn.isWhitespace(e)}Ys(){const e=this.Es.Us();this.zs=this.Es.In().ne().map(n=>Object.assign(Object.assign({ot:n.ee,nt:NaN},e.$s(n.ee)),{He:n.$e}))}Gs(e,n){n.Qs(this.zs,Ks(this.Ls))}Js(){this.wn.update({bars:this.zs.map(XS),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function XS(t){return{x:t.nt,time:t.ot,originalData:t.He,barColor:t.ce}}class QS extends Rt{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(e){this.zt=e,this.Ue=[]}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(n);const s=Math.max(1,Math.floor(i)),r=Math.round(this.zt.Ye*i)-Math.floor(s/2),l=r+s;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const a=this.zt.it[o],u=this.Ue[o-this.zt.tt.from],h=Math.round(a.st*i);let d,f;e.fillStyle=a.ce,h<=r?(d=h,f=l):(d=r,f=h-Math.floor(s/2)+s),e.fillRect(u.Os,d,u.ui-u.Os+1,f-d)}}qe(e){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const n=Math.ceil(this.zt.le*e)<=1?0:Math.max(1,Math.floor(e)),i=Math.round(this.zt.le*e)-n;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.zt.it[r],o=Math.round(l.nt*e);let a,u;if(i%2){const h=(i-1)/2;a=o-h,u=o+h}else{const h=i/2;a=o-h,u=o+h-1}this.Ue[r-this.zt.tt.from]={Os:a,ui:u,Ze:o,Xe:l.nt*e,ot:l.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from],o=this.Ue[r-this.zt.tt.from-1];l.ot===o.ot+1&&l.Os-o.ui!==n+1&&(o.Ze>o.Xe?o.ui=l.Os-n-1:l.Os=o.ui+n+1)}let s=Math.ceil(this.zt.le*e);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui<l.Os&&(l.ui=l.Os);const o=l.ui-l.Os+1;s=Math.min(o,s)}if(n>0&&s<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const l=this.Ue[r-this.zt.tt.from];l.ui-l.Os+1>s&&(l.Ze>l.Xe?l.ui-=1:l.Os+=1)}}}class JS extends po{constructor(){super(...arguments),this.js=new QS}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,T(this.Es.Ct()).Vt)};this.js.J(e)}}class GS extends po{constructor(){super(...arguments),this.js=new cv}se(e,n,i){return Object.assign(Object.assign({},this.ie(e,n)),i.$s(e))}Js(){const e=this.Es.W(),n={it:this.zs,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,et:e.lineWidth,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(n)}}const YS=/[2-9]/g;class Xs{constructor(e=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=e}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(e,n,i){return this.sr(e,n,i).width}Mi(e,n,i){const s=this.sr(e,n,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(e,n,i){const s=i||YS,r=String(n).replace(s,"0");if(this.tr.has(r))return He(this.tr.get(r)).er;if(this.Ke===this.ir){const o=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(o),this.Je++,this.Ke--}e.save(),e.textBaseline="middle";const l=e.measureText(r);return e.restore(),l.width===0&&n.length||(this.tr.set(r,{er:l,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),l}}class ZS{constructor(e){this.hr=null,this.k=null,this.lr="right",this.ar=e}_r(e,n,i){this.hr=e,this.k=n,this.lr=i}X(e){this.k!==null&&this.hr!==null&&this.hr.X(e,this.k,this.ar,this.lr)}}class mv{constructor(e,n,i){this.ur=e,this.ar=new Xs(50),this.cr=n,this.F=i,this.j=-1,this.Wt=new ZS(this.ar)}gt(){const e=this.F.dr(this.cr);if(e===null)return null;const n=e.vr(this.cr)?e.pr():this.cr.Dt();if(n===null)return null;const i=e.mr(n);if(i==="overlay")return null;const s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,i),this.Wt}}class eN extends Rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}wr(e,n){var i;if(!(!((i=this.zt)===null||i===void 0)&&i.yt))return null;const{st:s,et:r,gr:l}=this.zt;return n>=s-r-7&&n<=s+r+7?{Mr:this.zt,gr:l}:null}K({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*s);r<0||r>n.height||(e.lineCap="butt",e.strokeStyle=this.zt.V,e.lineWidth=Math.floor(this.zt.et*i),Yn(e,this.zt.Nt),ev(e,r,0,n.width))}}class qc{constructor(e){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new eN,this.ft=!0,this.Es=e,this.Ns=e.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class tN extends qc{constructor(e){super(e)}yr(){this.Sr.yt=!1;const e=this.Es.Dt(),n=e.Cr().Cr;if(n!==2&&n!==3)return;const i=this.Es.W();if(!i.baseLineVisible||!this.Es.yt())return;const s=this.Es.Ct();s!==null&&(this.Sr.yt=!0,this.Sr.st=e.Rt(s.Vt,s.Vt),this.Sr.V=i.baseLineColor,this.Sr.et=i.baseLineWidth,this.Sr.Nt=i.baseLineStyle)}}class nN extends Rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}$e(){return this.zt}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i}){const s=this.zt;if(s===null)return;const r=Math.max(1,Math.floor(n)),l=r%2/2,o=Math.round(s.Xe.x*n)+l,a=s.Xe.y*i;e.fillStyle=s.Tr,e.beginPath();const u=Math.max(2,1.5*s.Pr)*n;e.arc(o,a,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.Rr,e.beginPath(),e.arc(o,a,s.ht*n,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.Dr,e.beginPath(),e.arc(o,a,s.ht*n+r/2,0,2*Math.PI,!1),e.stroke()}}const iN=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function Qd(t,e,n,i){return function(s,r){if(s==="transparent")return s;const l=Hs(s),o=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${r*o})`}(t,n+(i-n)*e)}function Jd(t,e){const n=t%2600/2600;let i;for(const a of iN)if(n>=a.Vr&&n<=a.Or){i=a;break}Mn(i!==void 0,"Last price animation internal logic error");const s=(n-i.Vr)/(i.Or-i.Vr);return{Rr:Qd(e,s,i.Ir,i.zr),Dr:Qd(e,s,i.Lr,i.Er),ht:(r=s,l=i.Br,o=i.Ar,l+(o-l)*r)};var r,l,o}class sN{constructor(e){this.Wt=new nN,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=e}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const e=performance.now(),n=this.Wr-e;if(n>0)return void(n<650&&(this.Wr+=2600));this.Fr=e,this.Wr=e+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const e=this.jr.$t().St(),n=e.Xs(),i=this.jr.Ct();if(n===null||i===null)return;const s=this.jr.Zr(!0);if(s.Xr||!n.Kr(s.ee))return;const r={x:e.It(s.ee),y:this.jr.Dt().Rt(s._t,i.Vt)},l=s.V,o=this.jr.W().lineWidth,a=Jd(this.Gr(),l);this.Wt.J({Tr:l,Pr:o,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const e=this.Wt.$e();if(e!==null){const n=Jd(this.Gr(),e.Tr);e.Rr=n.Rr,e.Dr=n.Dr,e.ht=n.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function Ss(t,e){return av(Math.min(Math.max(t,12),30)*e)}function Qs(t,e){switch(t){case"arrowDown":case"arrowUp":return Ss(e,1);case"circle":return Ss(e,.8);case"square":return Ss(e,.7)}}function vv(t){return function(e){const n=Math.ceil(e);return n%2!=0?n-1:n}(Ss(t,1))}function Gd(t){return Math.max(Ss(t,.1),3)}function Yd(t,e,n){return e?t:n?Math.ceil(t/2):0}function gv(t,e,n,i,s){const r=Qs("square",n),l=(r-1)/2,o=t-l,a=e-l;return i>=o&&i<=o+r&&s>=a&&s<=a+r}function Zd(t,e,n,i){const s=(Qs("arrowUp",i)-1)/2*n.Jr,r=(av(i/2)-1)/2*n.Jr;e.beginPath(),t?(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st-s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st+s),e.lineTo(n.nt-r,n.st+s),e.lineTo(n.nt-r,n.st)):(e.moveTo(n.nt-s,n.st),e.lineTo(n.nt,n.st+s),e.lineTo(n.nt+s,n.st),e.lineTo(n.nt+r,n.st),e.lineTo(n.nt+r,n.st-s),e.lineTo(n.nt-r,n.st-s),e.lineTo(n.nt-r,n.st)),e.fill()}function rN(t,e,n,i,s,r){return gv(e,n,i,s,r)}class lN extends Rt{constructor(){super(...arguments),this.zt=null,this.ar=new Xs,this.j=-1,this.H="",this.Qr=""}J(e){this.zt=e}_r(e,n){this.j===e&&this.H===n||(this.j=e,this.H=n,this.Qr=Ai(e,n),this.ar.nr())}wr(e,n){if(this.zt===null||this.zt.tt===null)return null;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const s=this.zt.it[i];if(aN(s,e,n))return{Mr:s.th,gr:s.gr}}return null}K({context:e,horizontalPixelRatio:n,verticalPixelRatio:i},s,r){if(this.zt!==null&&this.zt.tt!==null){e.textBaseline="middle",e.font=this.Qr;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const o=this.zt.it[l];o.Kt!==void 0&&(o.Kt.Hi=this.ar.xi(e,o.Kt.ih),o.Kt.At=this.j,o.Kt.nt=o.nt-o.Kt.Hi/2),oN(o,e,n,i)}}}}function oN(t,e,n,i){e.fillStyle=t.V,t.Kt!==void 0&&function(s,r,l,o,a,u){s.save(),s.scale(a,u),s.fillText(r,l,o),s.restore()}(e,t.Kt.ih,t.Kt.nt,t.Kt.st,n,i),function(s,r,l){if(s.Ks!==0){switch(s.nh){case"arrowDown":return void Zd(!1,r,l,s.Ks);case"arrowUp":return void Zd(!0,r,l,s.Ks);case"circle":return void function(o,a,u){const h=(Qs("circle",u)-1)/2;o.beginPath(),o.arc(a.nt,a.st,h*a.Jr,0,2*Math.PI,!1),o.fill()}(r,l,s.Ks);case"square":return void function(o,a,u){const h=Qs("square",u),d=(h-1)*a.Jr/2,f=a.nt-d,y=a.st-d;o.fillRect(f,y,h*a.Jr,h*a.Jr)}(r,l,s.Ks)}s.nh}}(t,e,function(s,r,l){const o=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(s.nt*r)+o,st:s.st*l,Jr:r}}(t,n,i))}function aN(t,e,n){return!(t.Kt===void 0||!function(i,s,r,l,o,a){const u=l/2;return o>=i&&o<=i+r&&a>=s-u&&a<=s+u}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,e,n))||function(i,s,r){if(i.Ks===0)return!1;switch(i.nh){case"arrowDown":case"arrowUp":return rN(0,i.nt,i.st,i.Ks,s,r);case"circle":return function(l,o,a,u,h){const d=2+Qs("circle",a)/2,f=l-u,y=o-h;return Math.sqrt(f*f+y*y)<=d}(i.nt,i.st,i.Ks,s,r);case"square":return gv(i.nt,i.st,i.Ks,s,r)}}(t,e,n)}function uN(t,e,n,i,s,r,l,o,a){const u=At(n)?n:n.Se,h=At(n)?n:n.Me,d=At(n)?n:n.xe,f=At(e.size)?Math.max(e.size,0):1,y=vv(o.le())*f,p=y/2;switch(t.Ks=y,e.position){case"inBar":return t.st=l.Rt(u,a),void(t.Kt!==void 0&&(t.Kt.st=t.st+p+r+.6*s));case"aboveBar":return t.st=l.Rt(h,a)-p-i.sh,t.Kt!==void 0&&(t.Kt.st=t.st-p-.6*s,i.sh+=1.2*s),void(i.sh+=y+r);case"belowBar":return t.st=l.Rt(d,a)+p+i.eh,t.Kt!==void 0&&(t.Kt.st=t.st+p+r+.6*s,i.eh+=1.2*s),void(i.eh+=y+r)}e.position}class cN{constructor(e,n){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new lN,this.jr=e,this.$i=n,this.zt={it:[],tt:null}}bt(e){this.ft=!0,this.hh=!0,e==="data"&&(this.rh=!0,this.oh=null)}gt(e){if(!this.jr.yt())return null;this.ft&&this._h();const n=this.$i.W().layout;return this.Wt._r(n.fontSize,n.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const e=this.$i.St().le(),n=Gd(e),i=1.5*vv(e)+2*n,s=this.fh();this.ah={above:Yd(i,s.aboveBar,s.inBar),below:Yd(i,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((e,n)=>(e[n.position]||(e[n.position]=!0),e),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const e=this.jr.Dt(),n=this.$i.St(),i=this.jr.dh();this.rh&&(this.zt.it=i.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const s=this.$i.W().layout;this.zt.tt=null;const r=n.Xs();if(r===null)return;const l=this.jr.Ct();if(l===null||this.zt.it.length===0)return;let o=NaN;const a=Gd(n.le()),u={sh:a,eh:a};this.zt.tt=fv(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const d=i[h];d.time!==o&&(u.sh=a,u.eh=a,o=d.time);const f=this.zt.it[h];f.nt=n.It(d.time),d.text!==void 0&&d.text.length>0&&(f.Kt={ih:d.text,nt:0,st:0,Hi:0,At:0});const y=this.jr.ph(d.time);y!==null&&uN(f,d,y,u,s.fontSize,a,e,n,l.Vt)}this.ft=!1}}class hN extends qc{constructor(e){super(e)}yr(){const e=this.Sr;e.yt=!1;const n=this.Es.W();if(!n.priceLineVisible||!this.Es.yt())return;const i=this.Es.Zr(n.priceLineSource===0);i.Xr||(e.yt=!0,e.st=i.ki,e.V=this.Es.mh(i.V),e.et=n.priceLineWidth,e.Nt=n.priceLineStyle)}}class dN extends co{constructor(e){super(),this.jt=e}zi(e,n,i){e.yt=!1,n.yt=!1;const s=this.jt;if(!s.yt())return;const r=s.W(),l=r.lastValueVisible,o=s.bh()!=="",a=r.seriesLastValueMode===0,u=s.Zr(!1);if(u.Xr)return;l&&(e.Kt=this.wh(u,l,a),e.yt=e.Kt.length!==0),(o||a)&&(n.Kt=this.gh(u,l,o,a),n.yt=n.Kt.length>0);const h=s.mh(u.V),d=ao(h);i.t=d.t,i.ki=u.ki,n.Ot=s.$t().Bt(u.ki/s.Dt().At()),e.Ot=h,e.V=d.i,n.V=d.i}gh(e,n,i,s){let r="";const l=this.jt.bh();return i&&l.length!==0&&(r+=`${l} `),n&&s&&(r+=this.jt.Dt().Mh()?e.xh:e.Sh),r.trim()}wh(e,n,i){return n?i?this.jt.Dt().Mh()?e.Sh:e.xh:e.Kt:""}}function ef(t,e,n,i){const s=Number.isFinite(e),r=Number.isFinite(n);return s&&r?t(e,n):s||r?s?e:n:i}class nt{constructor(e,n){this.kh=e,this.yh=n}Ch(e){return e!==null&&this.kh===e.kh&&this.yh===e.yh}Th(){return new nt(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(e){return e===null?this:new nt(ef(Math.min,this.Ph(),e.Ph(),-1/0),ef(Math.max,this.Rh(),e.Rh(),1/0))}Vh(e){if(!At(e)||this.yh-this.kh===0)return;const n=.5*(this.yh+this.kh);let i=this.yh-n,s=this.kh-n;i*=e,s*=e,this.yh=n+i,this.kh=n+s}Oh(e){At(e)&&(this.yh+=e,this.kh+=e)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(e){return e===null?null:new nt(e.minValue,e.maxValue)}}class Ol{constructor(e,n){this.Ih=e,this.zh=n||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(e){return e===null?null:new Ol(nt.Ah(e.priceRange),e.margins)}}class fN extends qc{constructor(e,n){super(e),this.Nh=n}yr(){const e=this.Sr;e.yt=!1;const n=this.Nh.W();if(!this.Es.yt()||!n.lineVisible)return;const i=this.Nh.Fh();i!==null&&(e.yt=!0,e.st=i,e.V=n.color,e.et=n.lineWidth,e.Nt=n.lineStyle,e.gr=this.Nh.W().id)}}class pN extends co{constructor(e,n){super(),this.jr=e,this.Nh=n}zi(e,n,i){e.yt=!1,n.yt=!1;const s=this.Nh.W(),r=s.axisLabelVisible,l=s.title!=="",o=this.jr;if(!r||!o.yt())return;const a=this.Nh.Fh();if(a===null)return;l&&(n.Kt=s.title,n.yt=!0),n.Ot=o.$t().Bt(a/o.Dt().At()),e.Kt=this.Wh(s.price),e.yt=!0;const u=ao(s.axisLabelColor||s.color);i.t=u.t;const h=s.axisLabelTextColor||u.i;e.V=h,n.V=h,i.ki=a}Wh(e){const n=this.jr.Ct();return n===null?"":this.jr.Dt().Fi(e,n.Vt)}}class mN{constructor(e,n){this.jr=e,this.cn=n,this.jh=new fN(e,this),this.ur=new pN(e,this),this.Hh=new mv(this.ur,e,e.$t())}$h(e){jt(this.cn,e),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const e=this.jr,n=e.Dt();if(e.$t().St().Ni()||n.Ni())return null;const i=e.Ct();return i===null?null:n.Rt(this.cn.price,i.Vt)}}class vN extends Uc{constructor(e){super(),this.$i=e}$t(){return this.$i}}const gN={Bar:(t,e,n,i)=>{var s;const r=e.upColor,l=e.downColor,o=T(t(n,i)),a=bi(o.Vt[0])<=bi(o.Vt[3]);return{ce:(s=o.V)!==null&&s!==void 0?s:a?r:l}},Candlestick:(t,e,n,i)=>{var s,r,l;const o=e.upColor,a=e.downColor,u=e.borderUpColor,h=e.borderDownColor,d=e.wickUpColor,f=e.wickDownColor,y=T(t(n,i)),p=bi(y.Vt[0])<=bi(y.Vt[3]);return{ce:(s=y.V)!==null&&s!==void 0?s:p?o:a,Ne:(r=y.Ot)!==null&&r!==void 0?r:p?u:h,Ee:(l=y.Xh)!==null&&l!==void 0?l:p?d:f}},Custom:(t,e,n,i)=>{var s;return{ce:(s=T(t(n,i)).V)!==null&&s!==void 0?s:e.color}},Area:(t,e,n,i)=>{var s,r,l,o;const a=T(t(n,i));return{ce:(s=a.lt)!==null&&s!==void 0?s:e.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:e.lineColor,Ps:(l=a.Ps)!==null&&l!==void 0?l:e.topColor,Rs:(o=a.Rs)!==null&&o!==void 0?o:e.bottomColor}},Baseline:(t,e,n,i)=>{var s,r,l,o,a,u;const h=T(t(n,i));return{ce:h.Vt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,Re:(s=h.Re)!==null&&s!==void 0?s:e.topLineColor,De:(r=h.De)!==null&&r!==void 0?r:e.bottomLineColor,ke:(l=h.ke)!==null&&l!==void 0?l:e.topFillColor1,ye:(o=h.ye)!==null&&o!==void 0?o:e.topFillColor2,Ce:(a=h.Ce)!==null&&a!==void 0?a:e.bottomFillColor1,Te:(u=h.Te)!==null&&u!==void 0?u:e.bottomFillColor2}},Line:(t,e,n,i)=>{var s,r;const l=T(t(n,i));return{ce:(s=l.V)!==null&&s!==void 0?s:e.color,lt:(r=l.V)!==null&&r!==void 0?r:e.color}},Histogram:(t,e,n,i)=>{var s;return{ce:(s=T(t(n,i)).V)!==null&&s!==void 0?s:e.color}}};class yN{constructor(e){this.Kh=(n,i)=>i!==void 0?i.Vt:this.jr.In().Gh(n),this.jr=e,this.Jh=gN[e.Qh()]}$s(e,n){return this.Jh(this.Kh,this.jr.W(),e,n)}}var tf;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(tf||(tf={}));const on=30;class xN{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(e){return this.hl(e,0)!==null}Gh(e){return this.ll(e)}ll(e,n=0){const i=this.hl(e,n);return i===null?null:Object.assign(Object.assign({},this.al(i)),{ee:this.rl(i)})}ne(){return this.tl}ol(e,n,i){if(this.Ni())return null;let s=null;for(const r of i)s=zr(s,this._l(e,n,r));return s}J(e){this.nl.clear(),this.il.clear(),this.tl=e}rl(e){return this.tl[e].ee}al(e){return this.tl[e]}hl(e,n){const i=this.ul(e);if(i===null&&n!==0)switch(n){case-1:return this.cl(e);case 1:return this.dl(e);default:throw new TypeError("Unknown search mode")}return i}cl(e){let n=this.fl(e);return n>0&&(n-=1),n!==this.tl.length&&this.rl(n)<e?n:null}dl(e){const n=this.vl(e);return n!==this.tl.length&&e<this.rl(n)?n:null}ul(e){const n=this.fl(e);return n===this.tl.length||e<this.tl[n].ee?null:n}fl(e){return ur(this.tl,e,(n,i)=>n.ee<i)}vl(e){return dv(this.tl,e,(n,i)=>n.ee>i)}pl(e,n,i){let s=null;for(let r=e;r<n;r++){const l=this.tl[r].Vt[i];Number.isNaN(l)||(s===null?s={ml:l,bl:l}:(l<s.ml&&(s.ml=l),l>s.bl&&(s.bl=l)))}return s}_l(e,n,i){if(this.Ni())return null;let s=null;const r=T(this.el()),l=T(this.An()),o=Math.max(e,r),a=Math.min(n,l),u=Math.ceil(o/on)*on,h=Math.max(u,Math.floor(a/on)*on);{const f=this.fl(o),y=this.vl(Math.min(a,u,n));s=zr(s,this.pl(f,y,i))}let d=this.il.get(i);d===void 0&&(d=new Map,this.il.set(i,d));for(let f=Math.max(u+1,o);f<h;f+=on){const y=Math.floor(f/on);let p=d.get(y);if(p===void 0){const m=this.fl(y*on),x=this.vl((y+1)*on-1);p=this.pl(m,x,i),d.set(y,p)}s=zr(s,p)}{const f=this.fl(h),y=this.vl(a);s=zr(s,this.pl(f,y,i))}return s}}function zr(t,e){return t===null?e:e===null?t:{ml:Math.min(t.ml,e.ml),bl:Math.max(t.bl,e.bl)}}class wN{constructor(e){this.wl=e}X(e,n,i){this.wl.draw(e)}gl(e,n,i){var s,r;(r=(s=this.wl).drawBackground)===null||r===void 0||r.call(s,e)}}class ta{constructor(e){this.tr=null,this.wn=e}gt(){var e;const n=this.wn.renderer();if(n===null)return null;if(((e=this.tr)===null||e===void 0?void 0:e.Ml)===n)return this.tr.xl;const i=new wN(n);return this.tr={Ml:n,xl:i},i}Sl(){var e,n,i;return(i=(n=(e=this.wn).zOrder)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:"normal"}}function yv(t){var e,n,i,s,r;return{Kt:t.text(),ki:t.coordinate(),Si:(e=t.fixedCoordinate)===null||e===void 0?void 0:e.call(t),V:t.textColor(),t:t.backColor(),yt:(i=(n=t.visible)===null||n===void 0?void 0:n.call(t))===null||i===void 0||i,hi:(r=(s=t.tickVisible)===null||s===void 0?void 0:s.call(t))===null||r===void 0||r}}class bN{constructor(e,n){this.Wt=new sv,this.kl=e,this.yl=n}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},yv(this.kl))),this.Wt}}class SN extends co{constructor(e,n){super(),this.kl=e,this.Li=n}zi(e,n,i){const s=yv(this.kl);i.t=s.t,e.V=s.V;const r=2/12*this.Li.P();i.wi=r,i.gi=r,i.ki=s.ki,i.Si=s.Si,e.Kt=s.Kt,e.yt=s.yt,e.hi=s.hi}}class NN{constructor(e,n){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=e,this.jr=n}Ol(){return this.Vl}Vn(){var e,n;(n=(e=this.Vl).updateAllViews)===null||n===void 0||n.call(e)}Pn(){var e,n,i,s;const r=(i=(n=(e=this.Vl).paneViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Cl)===null||s===void 0?void 0:s.Ml)===r)return this.Cl.xl;const l=r.map(o=>new ta(o));return this.Cl={Ml:r,xl:l},l}Qi(){var e,n,i,s;const r=(i=(n=(e=this.Vl).timeAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Tl)===null||s===void 0?void 0:s.Ml)===r)return this.Tl.xl;const l=this.jr.$t().St(),o=r.map(a=>new bN(a,l));return this.Tl={Ml:r,xl:o},o}Rn(){var e,n,i,s;const r=(i=(n=(e=this.Vl).priceAxisViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Pl)===null||s===void 0?void 0:s.Ml)===r)return this.Pl.xl;const l=this.jr.Dt(),o=r.map(a=>new SN(a,l));return this.Pl={Ml:r,xl:o},o}Bl(){var e,n,i,s;const r=(i=(n=(e=this.Vl).priceAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Rl)===null||s===void 0?void 0:s.Ml)===r)return this.Rl.xl;const l=r.map(o=>new ta(o));return this.Rl={Ml:r,xl:l},l}Al(){var e,n,i,s;const r=(i=(n=(e=this.Vl).timeAxisPaneViews)===null||n===void 0?void 0:n.call(e))!==null&&i!==void 0?i:[];if(((s=this.Dl)===null||s===void 0?void 0:s.Ml)===r)return this.Dl.xl;const l=r.map(o=>new ta(o));return this.Dl={Ml:r,xl:l},l}Il(e,n){var i,s,r;return(r=(s=(i=this.Vl).autoscaleInfo)===null||s===void 0?void 0:s.call(i,e,n))!==null&&r!==void 0?r:null}wr(e,n){var i,s,r;return(r=(s=(i=this.Vl).hitTest)===null||s===void 0?void 0:s.call(i,e,n))!==null&&r!==void 0?r:null}}function na(t,e,n,i){t.forEach(s=>{e(s).forEach(r=>{r.Sl()===n&&i.push(r)})})}function ia(t){return t.Pn()}function _N(t){return t.Bl()}function kN(t){return t.Al()}class Kc extends vN{constructor(e,n,i,s,r){super(e),this.zt=new xN,this.jh=new hN(this),this.zl=[],this.Ll=new tN(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=n,this.$l=i;const l=new dN(this);this.rn=[l],this.Hh=new mv(l,this,e),i!=="Area"&&i!=="Line"&&i!=="Baseline"||(this.El=new sN(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(e){return this.cn.priceLineColor||e}Zr(e){const n={Xr:!0},i=this.Dt();if(this.$t().St().Ni()||i.Ni()||this.zt.Ni())return n;const s=this.$t().St().Xs(),r=this.Ct();if(s===null||r===null)return n;let l,o;if(e){const d=this.zt.sl();if(d===null)return n;l=d,o=d.ee}else{const d=this.zt.ll(s.ui(),-1);if(d===null||(l=this.zt.Gh(d.ee),l===null))return n;o=d.ee}const a=l.Vt[3],u=this.Us().$s(o,{Vt:l}),h=i.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:i.Fi(a,r.Vt),xh:i.Yl(a),Sh:i.Zl(a,r.Vt),V:u.ce,ki:h,ee:o}}Us(){return this.Nl!==null||(this.Nl=new yN(this)),this.Nl}W(){return this.cn}$h(e){const n=e.priceScaleId;n!==void 0&&n!==this.cn.priceScaleId&&this.$t().Xl(this,n),jt(this.cn,e),e.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(e,n){this.zt.J(e),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(n&&n.ta?this.El.$r():e.length===0&&this.El.Hr());const i=this.$t().dr(this);this.$t().ia(i),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(e){this.Fl=e,this.Ql();const n=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(e){const n=new mN(this,e);return this.zl.push(n),this.$t().Gl(this),n}ra(e){const n=this.zl.indexOf(e);n!==-1&&this.zl.splice(n,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const e=this.ha();return e===null?null:{Vt:e.Vt[3],la:e.ot}}ha(){const e=this.$t().St().Xs();if(e===null)return null;const n=e.Os();return this.zt.ll(n,1)}In(){return this.zt}ph(e){const n=this.zt.Gh(e);return n===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:n.Vt[0],Me:n.Vt[1],xe:n.Vt[2],Se:n.Vt[3]}:n.Vt[3]}aa(e){const n=[];na(this.Hl,ia,"top",n);const i=this.El;return i!==null&&i.yt()&&(this.jl===null&&i.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),i.Ur(),n.unshift(i)),n}Pn(){const e=[];this._a()||e.push(this.Ll),e.push(this.wn,this.jh,this.dn);const n=this.zl.map(i=>i.qh());return e.push(...n),na(this.Hl,ia,"normal",e),e}ua(){return this.ca(ia,"bottom")}da(e){return this.ca(_N,e)}fa(e){return this.ca(kN,e)}va(e,n){return this.Hl.map(i=>i.wr(e,n)).filter(i=>i!==null)}Ji(e){return[this.Hh,...this.zl.map(n=>n.Yh())]}Rn(e,n){if(n!==this.Yi&&!this._a())return[];const i=[...this.rn];for(const s of this.zl)i.push(s.Zh());return this.Hl.forEach(s=>{i.push(...s.Rn())}),i}Qi(){const e=[];return this.Hl.forEach(n=>{e.push(...n.Qi())}),e}Il(e,n){if(this.cn.autoscaleInfoProvider!==void 0){const i=this.cn.autoscaleInfoProvider(()=>{const s=this.pa(e,n);return s===null?null:s.Bh()});return Ol.Ah(i)}return this.pa(e,n)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var e;this.wn.bt(),this.dn.bt();for(const n of this.rn)n.bt();for(const n of this.zl)n.bt();this.jh.bt(),this.Ll.bt(),(e=this.El)===null||e===void 0||e.bt(),this.Hl.forEach(n=>n.Vn())}Dt(){return T(super.Dt())}kt(e){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const n=this.zt.Gh(e);return n===null?null:{_t:n.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(e)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(e){this.Hl.push(new NN(e,this))}ya(e){this.Hl=this.Hl.filter(n=>n.Ol()!==e)}Ca(){if(this.wn instanceof ea)return e=>this.wn.We(e)}Ta(){if(this.wn instanceof ea)return e=>this.wn.je(e)}_a(){return!ho(this.Dt().Pa())}pa(e,n){if(!qs(e)||!qs(n)||this.zt.Ni())return null;const i=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],s=this.zt.ol(e,n,i);let r=s!==null?new nt(s.ml,s.bl):null;if(this.Qh()==="Histogram"){const o=this.cn.base,a=new nt(o,o);r=r!==null?r.ts(a):a}let l=this.dn.uh();return this.Hl.forEach(o=>{const a=o.Il(e,n);if(a!=null&&a.priceRange){const y=new nt(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(y):y}var u,h,d,f;a!=null&&a.margins&&(u=l,h=a.margins,l={above:Math.max((d=u==null?void 0:u.above)!==null&&d!==void 0?d:0,h.above),below:Math.max((f=u==null?void 0:u.below)!==null&&f!==void 0?f:0,h.below)})}),new Ol(r,l)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(e){switch(this.$l){case"Line":case"Area":case"Baseline":{const n=this.cn.crosshairMarkerBackgroundColor;if(n.length!==0)return n}}return this.Us().$s(e).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new PS(this.cn.priceFormat.precision);break;case"percent":this.wa=new rv(this.cn.priceFormat.precision);break;default:{const e=Math.pow(10,this.cn.priceFormat.precision);this.wa=new fo(e,this.cn.priceFormat.minMove*e)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const e=this.$t().St();if(!e.Da()||this.zt.Ni())return void(this.Wl=[]);const n=T(this.zt.el());this.Wl=this.Fl.map((i,s)=>{const r=T(e.Va(i.time,!0)),l=r<n?1:-1;return{time:T(this.zt.ll(r,l)).ee,position:i.position,shape:i.shape,color:i.color,id:i.id,th:s,text:i.text,size:i.size,originalTime:i.originalTime}})}ql(e){switch(this.dn=new cN(this,this.$t()),this.$l){case"Bar":this.wn=new VS(this,this.$t());break;case"Candlestick":this.wn=new qS(this,this.$t());break;case"Line":this.wn=new GS(this,this.$t());break;case"Custom":this.wn=new ea(this,this.$t(),He(e));break;case"Area":this.wn=new AS(this,this.$t());break;case"Baseline":this.wn=new WS(this,this.$t());break;case"Histogram":this.wn=new JS(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(e,n){const i=[];return na(this.Hl,e,n,i),i}}class EN{constructor(e){this.cn=e}Oa(e,n,i){let s=e;if(this.cn.mode===0)return s;const r=i.vn(),l=r.Ct();if(l===null)return s;const o=r.Rt(e,l),a=i.Ba().filter(h=>h instanceof Kc).reduce((h,d)=>{if(i.vr(d)||!d.yt())return h;const f=d.Dt(),y=d.In();if(f.Ni()||!y.Kr(n))return h;const p=y.Gh(n);if(p===null)return h;const m=bi(d.Ct());return h.concat([f.Rt(p.Vt[3],m.Vt)])},[]);if(a.length===0)return s;a.sort((h,d)=>Math.abs(h-o)-Math.abs(d-o));const u=a[0];return s=r.pn(u,l),s}}class CN extends Rt{constructor(){super(...arguments),this.zt=null}J(e){this.zt=e}K({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(this.zt===null)return;const r=Math.max(1,Math.floor(i));e.lineWidth=r,function(l,o){l.save(),l.lineWidth%2&&l.translate(.5,.5),o(),l.restore()}(e,()=>{const l=T(this.zt);if(l.Aa){e.strokeStyle=l.Ia,Yn(e,l.za),e.beginPath();for(const o of l.La){const a=Math.round(o.Ea*i);e.moveTo(a,-r),e.lineTo(a,n.height+r)}e.stroke()}if(l.Na){e.strokeStyle=l.Fa,Yn(e,l.Wa),e.beginPath();for(const o of l.ja){const a=Math.round(o.Ea*s);e.moveTo(-r,a),e.lineTo(n.width+r,a)}e.stroke()}})}}class jN{constructor(e){this.Wt=new CN,this.ft=!0,this.tn=e}bt(){this.ft=!0}gt(){if(this.ft){const e=this.tn.$t().W().grid,n={Na:e.horzLines.visible,Aa:e.vertLines.visible,Fa:e.horzLines.color,Ia:e.vertLines.color,Wa:e.horzLines.style,za:e.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(i=>({Ea:i.coord}))};this.Wt.J(n),this.ft=!1}return this.Wt}}class MN{constructor(e){this.wn=new jN(e)}qh(){return this.wn}}const sa={$a:4,Ua:1e-4};function Si(t,e){const n=100*(t-e)/e;return e<0?-n:n}function RN(t,e){const n=Si(t.Ph(),e),i=Si(t.Rh(),e);return new nt(n,i)}function Ns(t,e){const n=100*(t-e)/e+100;return e<0?-n:n}function TN(t,e){const n=Ns(t.Ph(),e),i=Ns(t.Rh(),e);return new nt(n,i)}function $l(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const i=Math.log10(n+e.Ua)+e.$a;return t<0?-i:i}function _s(t,e){const n=Math.abs(t);if(n<1e-15)return 0;const i=Math.pow(10,n-e.$a)-e.Ua;return t<0?-i:i}function os(t,e){if(t===null)return null;const n=$l(t.Ph(),e),i=$l(t.Rh(),e);return new nt(n,i)}function Or(t,e){if(t===null)return null;const n=_s(t.Ph(),e),i=_s(t.Rh(),e);return new nt(n,i)}function ra(t){if(t===null)return sa;const e=Math.abs(t.Rh()-t.Ph());if(e>=1||e<1e-15)return sa;const n=Math.ceil(Math.abs(Math.log10(e))),i=sa.$a+n;return{$a:i,Ua:1/Math.pow(10,i)}}class la{constructor(e,n){if(this.qa=e,this.Ya=n,function(i){if(i<0)return!1;for(let s=i;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let i=this.qa;i!==1;){if(i%2==0)this.Za.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),i/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(e,n,i){const s=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-n)))),l=0,o=this.Ya[0];for(;;){const d=Lr(r,s,1e-14)&&r>s+1e-14,f=Lr(r,i*o,1e-14),y=Lr(r,1,1e-14);if(!(d&&f&&y))break;r/=o,o=this.Ya[++l%this.Ya.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Za.length>0&&(a=r,u=1,h=1e-14,Math.abs(a-u)<h))for(l=0,o=this.Za[0];Lr(r,i*o,1e-14)&&r>s+1e-14;)r/=o,o=this.Za[++l%this.Za.length];var a,u,h;return r}}class nf{constructor(e,n,i,s){this.Ka=[],this.Li=e,this.qa=n,this.Ga=i,this.Ja=s}Xa(e,n){if(e<n)throw new Error("high < low");const i=this.Li.At(),s=(e-n)*this.Qa()/i,r=new la(this.qa,[2,2.5,2]),l=new la(this.qa,[2,2,2.5]),o=new la(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(e,n,s),l.Xa(e,n,s),o.Xa(e,n,s)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let d=1;d<u.length;++d)u[d]<h&&(h=u[d]);return h}(a)}io(){const e=this.Li,n=e.Ct();if(n===null)return void(this.Ka=[]);const i=e.At(),s=this.Ga(i-1,n),r=this.Ga(0,n),l=this.Li.W().entireTextOnly?this.no()/2:0,o=l,a=i-1-l,u=Math.max(s,r),h=Math.min(s,r);if(u===h)return void(this.Ka=[]);let d=this.Xa(u,h),f=u%d;f+=f<0?d:0;const y=u>=h?1:-1;let p=null,m=0;for(let x=u-f;x>h;x-=d){const v=this.Ja(x,n,!0);p!==null&&Math.abs(v-p)<this.Qa()||v<o||v>a||(m<this.Ka.length?(this.Ka[m].Ea=v,this.Ka[m].so=e.eo(x)):this.Ka.push({Ea:v,so:e.eo(x)}),m++,p=v,e.ro()&&(d=this.Xa(x*y,h)))}this.Ka.length=m}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function xv(t){return t.slice().sort((e,n)=>T(e.Xi())-T(n.Xi()))}var sf;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(sf||(sf={}));const rf=new rv,lf=new fo(100,1);class PN{constructor(e,n,i,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new xe,this.vo=new xe,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=lf,this.xo=ra(null),this.So=e,this.cn=n,this.ko=i,this.yo=s,this.Co=new nf(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(e){if(jt(this.cn,e),this.Ra(),e.mode!==void 0&&this.Ro({Cr:e.mode}),e.scaleMargins!==void 0){const n=He(e.scaleMargins.top),i=He(e.scaleMargins.bottom);if(n<0||n>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${n}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(n+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${n+i}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(e){const n=this.Cr();let i=null;e.Wn!==void 0&&(this.cn.autoScale=e.Wn),e.Cr!==void 0&&(this.cn.mode=e.Cr,e.Cr!==2&&e.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),n.Cr===1&&e.Cr!==n.Cr&&(function(r,l){if(r===null)return!1;const o=_s(r.Ph(),l),a=_s(r.Rh(),l);return isFinite(o)&&isFinite(a)}(this.Ih,this.xo)?(i=Or(this.Ih,this.xo),i!==null&&this.Ao(i)):this.cn.autoScale=!0),e.Cr===1&&e.Cr!==n.Cr&&(i=os(this.Ih,this.xo),i!==null&&this.Ao(i));const s=n.Cr!==this.cn.mode;s&&(n.Cr===2||this.Mh())&&this.Ra(),s&&(n.Cr===3||this.Oo())&&this.Ra(),e.Bo!==void 0&&n.Bo!==e.Bo&&(this.cn.invertScale=e.Bo,this.Io()),this.vo.m(n,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(e){this.ho!==e&&(this.ho=e,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const e=this.At()-this.No()-this.Fo();return this.lo=e,e}Lh(){return this.Wo(),this.Ih}Ao(e,n){const i=this.Ih;(n||i===null&&e!==null||i!==null&&!i.Ch(e))&&(this.bo=null,this.Ih=e)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(e){return this.Bo()?e:this.At()-1-e}Rt(e,n){return this.Mh()?e=Si(e,n):this.Oo()&&(e=Ns(e,n)),this.Po(e,n)}te(e,n,i){this.Wo();const s=this.Fo(),r=T(this.Lh()),l=r.Ph(),o=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(o-l),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,y=this.Ho();for(let p=d;p<f;p++){const m=e[p],x=m._t;if(isNaN(x))continue;let v=x;y!==null&&(v=y(m._t,n));const g=s+h*(v-l),w=u?g:this.ho-1-g;m.st=w}}be(e,n,i){this.Wo();const s=this.Fo(),r=T(this.Lh()),l=r.Ph(),o=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(o-l),d=i===void 0?0:i.from,f=i===void 0?e.length:i.to,y=this.Ho();for(let p=d;p<f;p++){const m=e[p];let x=m.ge,v=m.Me,g=m.xe,w=m.Se;y!==null&&(x=y(m.ge,n),v=y(m.Me,n),g=y(m.xe,n),w=y(m.Se,n));let N=s+h*(x-l),k=u?N:this.ho-1-N;m.pe=k,N=s+h*(v-l),k=u?N:this.ho-1-N,m.de=k,N=s+h*(g-l),k=u?N:this.ho-1-N,m.fe=k,N=s+h*(w-l),k=u?N:this.ho-1-N,m.me=k}}pn(e,n){const i=this.To(e,n);return this.$o(i,n)}$o(e,n){let i=e;return this.Mh()?i=function(s,r){return r<0&&(s=-s),s/100*r+r}(i,n):this.Oo()&&(i=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(i,n)),i}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let e=[];for(let n=0;n<this.po.length;n++){const i=this.po[n];i.Xi()===null&&i.Ki(n+1),e.push(i)}return e=xv(e),this.mo=e,this.mo}qo(e){this.po.indexOf(e)===-1&&(this.po.push(e),this.Ra(),this.Yo())}Zo(e){const n=this.po.indexOf(e);if(n===-1)throw new Error("source is not attached to scale");this.po.splice(n,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let e=null;for(const n of this.po){const i=n.Ct();i!==null&&(e===null||i.la<e.la)&&(e=i)}return e===null?null:e.Vt}Bo(){return this.cn.invertScale}Ha(){const e=this.Ct()===null;if(this.bo!==null&&(e||this.bo.Xo===e))return this.bo.Ha;this.Co.io();const n=this.Co.Ha();return this.bo={Ha:n,Xo:e},this.fo.m(),n}Ko(){return this.fo}Go(e){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-e,this.ao=T(this.Lh()).Th()))}Jo(e){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(e=this.ho-e)<0&&(e=0);let n=(this.wo+.2*(this.ho-1))/(e+.2*(this.ho-1));const i=T(this.ao).Th();n=Math.max(n,.1),i.Vh(n),this.Ao(i)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(e){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=e,this.ao=T(this.Lh()).Th()))}i_(e){if(this.Vo()||this.Mo===null)return;const n=T(this.Lh()).Dh()/(this.Eo()-1);let i=e-this.Mo;this.Bo()&&(i*=-1);const s=i*n,r=T(this.ao).Th();r.Oh(s),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(e,n){switch(this.cn.mode){case 2:return this.s_(Si(e,n));case 3:return this.ba().format(Ns(e,n));default:return this.Wh(e)}}eo(e){switch(this.cn.mode){case 2:return this.s_(e);case 3:return this.ba().format(e);default:return this.Wh(e)}}Yl(e){return this.Wh(e,T(this.e_()).ba())}Zl(e,n){return e=Si(e,n),this.s_(e,rf)}r_(){return this.po}h_(e){this.oo={uo:e,_o:!1}}Vn(){this.po.forEach(e=>e.Vn())}Ra(){this.bo=null;const e=this.e_();let n=100;e!==null&&(n=Math.round(1/e.ma())),this.wa=lf,this.Mh()?(this.wa=rf,n=100):this.Oo()?(this.wa=new fo(100,1),n=100):e!==null&&(this.wa=e.ba()),this.Co=new nf(this,n,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(e,n){if(this.Wo(),this.Ni())return 0;e=this.ro()&&e?$l(e,this.xo):e;const i=T(this.Lh()),s=this.Fo()+(this.Eo()-1)*(e-i.Ph())/i.Dh();return this.jo(s)}To(e,n){if(this.Wo(),this.Ni())return 0;const i=this.jo(e),s=T(this.Lh()),r=s.Ph()+s.Dh()*((i-this.Fo())/(this.Eo()-1));return this.ro()?_s(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const e=this.oo.uo;if(e===null)return;let n=null;const i=this.r_();let s=0,r=0;for(const a of i){if(!a.yt())continue;const u=a.Ct();if(u===null)continue;const h=a.Il(e.Os(),e.ui());let d=h&&h.Lh();if(d!==null){switch(this.cn.mode){case 1:d=os(d,this.xo);break;case 2:d=RN(d,u.Vt);break;case 3:d=TN(d,u.Vt)}if(n=n===null?d:n.ts(T(d)),h!==null){const f=h.Eh();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(s===this.co&&r===this.do||(this.co=s,this.do=r,this.bo=null,this.Do()),n!==null){if(n.Ph()===n.Rh()){const a=this.e_(),u=5*(a===null||this.Mh()||this.Oo()?1:a.ma());this.ro()&&(n=Or(n,this.xo)),n=new nt(n.Ph()-u,n.Rh()+u),this.ro()&&(n=os(n,this.xo))}if(this.ro()){const a=Or(n,this.xo),u=ra(a);if(l=u,o=this.xo,l.$a!==o.$a||l.Ua!==o.Ua){const h=this.ao!==null?Or(this.ao,this.xo):null;this.xo=u,n=os(a,u),h!==null&&(this.ao=os(h,u))}}this.Ao(n)}else this.Ih===null&&(this.Ao(new nt(-.5,.5)),this.xo=ra(null));var l,o;this.oo._o=!0}Ho(){return this.Mh()?Si:this.Oo()?Ns:this.ro()?e=>$l(e,this.xo):null}a_(e,n,i){return n===void 0?(i===void 0&&(i=this.ba()),i.format(e)):n(e)}Wh(e,n){return this.a_(e,this.yo.priceFormatter,n)}s_(e,n){return this.a_(e,this.yo.percentageFormatter,n)}}class LN{constructor(e,n){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new xe,this.yl=e,this.$i=n,this.d_=new MN(this);const i=n.W();this.f_=this.v_("left",i.leftPriceScale),this.p_=this.v_("right",i.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(i)}b_(e){if(e.leftPriceScale&&this.f_.$h(e.leftPriceScale),e.rightPriceScale&&this.p_.$h(e.rightPriceScale),e.localization&&(this.f_.Ra(),this.p_.Ra()),e.overlayPriceScales){const n=Array.from(this.o_.values());for(const i of n){const s=T(i[0].Dt());s.$h(e.overlayPriceScales),e.localization&&s.Ra()}}}w_(e){switch(e){case"left":return this.f_;case"right":return this.p_}return this.o_.has(e)?He(this.o_.get(e))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(e=>{e.S&&e.S()}),this.c_.m()}M_(){return this.u_}x_(e){this.u_=e}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(e){this.__=e,this.k_()}Lo(e){this.ho=e,this.f_.Lo(e),this.p_.Lo(e),this.po.forEach(n=>{if(this.vr(n)){const i=n.Dt();i!==null&&i.Lo(e)}}),this.k_()}Ba(){return this.po}vr(e){const n=e.Dt();return n===null||this.f_!==n&&this.p_!==n}qo(e,n,i){const s=i!==void 0?i:this.C_().y_+1;this.T_(e,n,s)}Zo(e){const n=this.po.indexOf(e);Mn(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1);const i=T(e.Dt()).Pa();if(this.o_.has(i)){const r=He(this.o_.get(i)),l=r.indexOf(e);l!==-1&&(r.splice(l,1),r.length===0&&this.o_.delete(i))}const s=e.Dt();s&&s.Ba().indexOf(e)>=0&&s.Zo(e),s!==null&&(s.Yo(),this.P_(s)),this.mo=null}mr(e){return e===this.f_?"left":e===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(e,n){e.Go(n)}O_(e,n){e.Jo(n),this.k_()}B_(e){e.Qo()}A_(e,n){e.t_(n)}I_(e,n){e.i_(n),this.k_()}z_(e){e.n_()}k_(){this.po.forEach(e=>{e.Vn()})}vn(){let e=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?e=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?e=this.f_:this.po.length!==0&&(e=this.po[0].Dt()),e===null&&(e=this.p_),e}pr(){let e=null;return this.$i.W().rightPriceScale.visible?e=this.p_:this.$i.W().leftPriceScale.visible&&(e=this.f_),e}P_(e){e!==null&&e.Vo()&&this.L_(e)}E_(e){const n=this.yl.Xs();e.Ro({Wn:!0}),n!==null&&e.h_(n),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(e=>{this.vr(e)&&this.P_(e.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=xv(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(e){const n=e.r_();if(n&&n.length>0&&!this.yl.Ni()){const i=this.yl.Xs();i!==null&&e.h_(i)}e.Vn()}C_(){const e=this.Uo();if(e.length===0)return{H_:0,y_:0};let n=0,i=0;for(let s=0;s<e.length;s++){const r=e[s].Xi();r!==null&&(r<n&&(n=r),r>i&&(i=r))}return{H_:n,y_:i}}T_(e,n,i){let s=this.w_(n);if(s===null&&(s=this.v_(n,this.$i.W().overlayPriceScales)),this.po.push(e),!ho(n)){const r=this.o_.get(n)||[];r.push(e),this.o_.set(n,r)}s.qo(e),e.Gi(s),e.Ki(i),this.P_(s),this.mo=null}m_(e,n,i){n.Cr!==i.Cr&&this.L_(e)}v_(e,n){const i=Object.assign({visible:!0,autoScale:!0},Jt(n)),s=new PN(e,i,this.$i.W().layout,this.$i.W().localization);return s.Lo(this.At()),s}}class zN{constructor(e,n,i=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=e,this.q_=n,this.ir=i}Y_(e){const n=e.time,i=this.q_.cacheKey(n),s=this.tr.get(i);if(s!==void 0)return s.Z_;if(this.Ke===this.ir){const l=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(He(l)),this.Je++,this.Ke--}const r=this.U_(e);return this.tr.set(i,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,i),this.Ke++,this.Ge++,r}}class ks{constructor(e,n){Mn(e<=n,"right should be >= left"),this.X_=e,this.K_=n}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(e){return this.X_<=e&&e<=this.K_}Ch(e){return this.X_===e.Os()&&this.K_===e.ui()}}function of(t,e){return t===null||e===null?t===e:t.Ch(e)}class ON{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(e){this.Q_=e,this.tr=null}iu(e,n){this.nu(n),this.tr=null;for(let i=n;i<e.length;++i){const s=e[i];let r=this.J_.get(s.timeWeight);r===void 0&&(r=[],this.J_.set(s.timeWeight,r)),r.push({index:i,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}su(e,n){const i=Math.ceil(n/e);return this.tr!==null&&this.tr.eu===i||(this.tr={Ha:this.ru(i),eu:i}),this.tr.Ha}nu(e){if(e===0)return void this.J_.clear();const n=[];this.J_.forEach((i,s)=>{e<=i[0].index?n.push(s):i.splice(ur(i,e,r=>r.index<e),1/0)});for(const i of n)this.J_.delete(i)}ru(e){let n=[];for(const i of Array.from(this.J_.keys()).sort((s,r)=>r-s)){if(!this.J_.get(i))continue;const s=n;n=[];const r=s.length;let l=0;const o=He(this.J_.get(i)),a=o.length;let u=1/0,h=-1/0;for(let d=0;d<a;d++){const f=o[d],y=f.index;for(;l<r;){const p=s[l],m=p.index;if(!(m<y)){u=m;break}l++,n.push(p),h=m,u=1/0}if(u-y>=e&&y-h>=e)n.push(f),h=y;else if(this.Q_)return s}for(;l<r;l++)n.push(s[l])}return n}}class Mi{constructor(e){this.hu=e}lu(){return this.hu===null?null:new ks(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Mi(null)}}function $N(t,e){return t.weight>e.weight?t:e}class FN{constructor(e,n,i,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new ON,this.du=new Map,this.fu=Mi.ou(),this.vu=!0,this.pu=new xe,this.mu=new xe,this.bu=new xe,this.wu=null,this.gu=null,this.Mu=[],this.cn=n,this.yo=i,this.xu=n.rightOffset,this.Su=n.barSpacing,this.$i=e,this.q_=s,this.ku(),this.cu.tu(n.uniformDistribution)}W(){return this.cn}yu(e){jt(this.yo,e),this.Cu(),this.ku()}$h(e,n){var i;jt(this.cn,e),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),e.barSpacing!==void 0&&this.$i.Gn(e.barSpacing),e.rightOffset!==void 0&&this.$i.Jn(e.rightOffset),e.minBarSpacing!==void 0&&this.$i.Gn((i=e.barSpacing)!==null&&i!==void 0?i:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(e){var n,i;return(i=(n=this.uu[e])===null||n===void 0?void 0:n.time)!==null&&i!==void 0?i:null}Ui(e){var n;return(n=this.uu[e])!==null&&n!==void 0?n:null}Va(e,n){if(this.uu.length<1)return null;if(this.q_.key(e)>this.q_.key(this.uu[this.uu.length-1].time))return n?this.uu.length-1:null;const i=ur(this.uu,this.q_.key(e),(s,r)=>this.q_.key(s.time)<r);return this.q_.key(e)<this.q_.key(this.uu[i].time)?n?i:null:i}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const e=this.Xs();if(e===null)return null;const n={from:e.Os(),to:e.ui()};return this.Ou(n)}Ou(e){const n=Math.round(e.from),i=Math.round(e.to),s=T(this.Bu()),r=T(this.Au());return{from:T(this.Ui(Math.max(s,n))),to:T(this.Ui(Math.min(r,i)))}}Iu(e){return{from:T(this.Va(e.from,!0)),to:T(this.Va(e.to,!0))}}Hi(){return this.__}S_(e){if(!isFinite(e)||e<=0||this.__===e)return;const n=this.Du(),i=this.__;if(this.__=e,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&i!==0){const s=this.Su*e/i;this.Su=s}if(this.cn.fixLeftEdge&&n!==null&&n.Os()<=0){const s=i-e;this.xu-=Math.round(s/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(e){if(this.Ni()||!qs(e))return 0;const n=this.Eu()+this.xu-e;return this.__-(n+.5)*this.Su-1}Qs(e,n){const i=this.Eu(),s=n===void 0?0:n.from,r=n===void 0?e.length:n.to;for(let l=s;l<r;l++){const o=e[l].ot,a=i+this.xu-o,u=this.__-(a+.5)*this.Su-1;e[l].nt=u}}Nu(e){return Math.ceil(this.Fu(e))}Jn(e){this.vu=!0,this.xu=e,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(e){this.ju(e),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const e=this.Su,n=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),i=Math.round(n/e),s=T(this.Xs()),r=Math.max(s.Os(),s.Os()-i),l=Math.max(s.ui(),s.ui()-i),o=this.cu.su(e,n),a=this.Bu()+i,u=this.Au()-i,h=this.$u(),d=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let y=0;for(const p of o){if(!(r<=p.index&&p.index<=l))continue;let m;y<this.Mu.length?(m=this.Mu[y],m.coord=this.It(p.index),m.label=this.Uu(p),m.weight=p.weight):(m={needAlignCoordinate:!1,coord:this.It(p.index),label:this.Uu(p),weight:p.weight},this.Mu.push(m)),this.Su>n/2&&!h?m.needAlignCoordinate=!1:m.needAlignCoordinate=d&&p.index<=a||f&&p.index>=u,y++}return this.Mu.length=y,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(e){this.vu=!0,this._u=e,this.Lu(),this.Tu()}Zu(e,n){const i=this.Fu(e),s=this.le(),r=s+n*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(i-this.Fu(e)))}Go(e){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=e,this.Xu()))}Jo(e){if(this.wu===null)return;const n=Mu(this.__-e,0,this.__),i=Mu(this.__-T(this.wo),0,this.__);n!==0&&i!==0&&this.Gn(this.wu.le*n/i)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(e){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=e,this.Xu()))}i_(e){if(this.Mo===null)return;const n=(this.Mo-e)/this.le();this.xu=T(this.wu).Hu+n,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(e,n=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(n)||n<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this.xu,s=performance.now();this.$i.Zn({Qu:r=>(r-s)/n>=1,tc:r=>{const l=(r-s)/n;return l>=1?e:i+(e-i)*l}})}bt(e,n){this.vu=!0,this.uu=e,this.cu.iu(e,n),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(e){const n=e.G_();this.ju(this.__/n),this.xu=e.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const e=this.Bu(),n=this.Au();e!==null&&n!==null&&this.rc(new ks(e,n+this.cn.rightOffset))}lc(e){const n=new ks(e.from,e.to);this.rc(n)}qi(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.q_.formatHorzItem(e.time)}$u(){const{handleScroll:e,handleScale:n}=this.$i.W();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||n.axisDoubleClickReset.time||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(e){return(this.__-1-e)/this.Su}Fu(e){const n=this.ac(e),i=this.Eu()+this.xu-n;return Math.round(1e6*i)/1e6}ju(e){const n=this.Su;this.Su=e,this.zu(),n!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Mi.ou());const e=this.Eu(),n=this.__/this.Su,i=this.xu+e,s=new ks(i-n+1,i);this._c(new Mi(s))}zu(){const e=this.uc();if(this.Su<e&&(this.Su=e,this.vu=!0),this.__!==0){const n=.5*this.__;this.Su>n&&(this.Su=n,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const e=this.cc();e!==null&&this.xu<e&&(this.xu=e,this.vu=!0);const n=this.dc();this.xu>n&&(this.xu=n,this.vu=!0)}cc(){const e=this.Bu(),n=this._u;return e===null||n===null?null:e-n-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(e){let n=this.du.get(e.weight);return n===void 0&&(n=new zN(i=>this.fc(i),this.q_),this.du.set(e.weight,n)),n.Y_(e)}fc(e){return this.q_.formatTickmark(e,this.yo)}_c(e){const n=this.fu;this.fu=e,of(n.lu(),this.fu.lu())||this.pu.m(),of(n.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const e=this.Bu();if(e===null)return;const n=this.Xs();if(n===null)return;const i=n.Os()-e;if(i<0){const s=this.xu-i-1;this.Jn(s)}this.zu()}Pu(){this.Lu(),this.zu()}}class DN{X(e,n,i){e.useMediaCoordinateSpace(s=>this.K(s,n,i))}gl(e,n,i){e.useMediaCoordinateSpace(s=>this.vc(s,n,i))}vc(e,n,i){}}class AN extends DN{constructor(e){super(),this.mc=new Map,this.zt=e}K(e){}vc(e){if(!this.zt.yt)return;const{context:n,mediaSize:i}=e;let s=0;for(const l of this.zt.bc){if(l.Kt.length===0)continue;n.font=l.R;const o=this.wc(n,l.Kt);o>i.width?l.Zu=i.width/o:l.Zu=1,s+=l.gc*l.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((i.height-s)/2,0);break;case"bottom":r=Math.max(i.height-s,0)}n.fillStyle=this.zt.V;for(const l of this.zt.bc){n.save();let o=0;switch(this.zt.xc){case"left":n.textAlign="left",o=l.gc/2;break;case"center":n.textAlign="center",o=i.width/2;break;case"right":n.textAlign="right",o=i.width-1-l.gc/2}n.translate(o,r),n.textBaseline="top",n.font=l.R,n.scale(l.Zu,l.Zu),n.fillText(l.Kt,0,l.Sc),n.restore(),r+=l.gc*l.Zu}}wc(e,n){const i=this.kc(e.font);let s=i.get(n);return s===void 0&&(s=e.measureText(n).width,i.set(n,s)),s}kc(e){let n=this.mc.get(e);return n===void 0&&(n=new Map,this.mc.set(e,n)),n}}class BN{constructor(e){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new AN(this.Ft),this.jt=e}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const e=this.jt.W(),n=this.Ft;n.yt=e.visible,n.yt&&(n.V=e.color,n.xc=e.horzAlign,n.Mc=e.vertAlign,n.bc=[{Kt:e.text,R:Ai(e.fontSize,e.fontFamily,e.fontStyle),gc:1.2*e.fontSize,Sc:0,Zu:0}])}}class VN extends Uc{constructor(e,n){super(),this.cn=n,this.wn=new BN(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var af,uf,cf,hf,df;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(af||(af={}));class IN{constructor(e,n,i){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new xe,this.Rc=new xe,this.Dc=null,this.Vc=e,this.cn=n,this.q_=i,this.Oc=new wS(this),this.yl=new FN(this,n.timeScale,this.cn.localization,i),this.vt=new TS(this,n.crosshair),this.Bc=new EN(n.crosshair),this.Ac=new VN(this,n.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Le.es())}Uh(){this.Nc(Le.ss())}oa(){this.Nc(new Le(1))}Gl(e){const n=this.Fc(e);this.Nc(n)}Wc(){return this.Tc}jc(e){const n=this.Tc;this.Tc=e,n!==null&&this.Gl(n.Hc),e!==null&&this.Gl(e.Hc)}W(){return this.cn}$h(e){jt(this.cn,e),this.yc.forEach(n=>n.b_(e)),e.timeScale!==void 0&&this.yl.$h(e.timeScale),e.localization!==void 0&&this.yl.yu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(e,n){if(e==="left")return void this.$h({leftPriceScale:n});if(e==="right")return void this.$h({rightPriceScale:n});const i=this.Uc(e);i!==null&&(i.Dt.$h(n),this.Pc.m())}Uc(e){for(const n of this.yc){const i=n.w_(e);if(i!==null)return{Ht:n,Dt:i}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(e,n){e.Lo(n),this.Wu()}S_(e){this.__=e,this.yl.S_(this.__),this.yc.forEach(n=>n.S_(e)),this.Wu()}Ic(e){const n=new LN(this.yl,this);e!==void 0?this.yc.splice(e,0,n):this.yc.push(n);const i=e===void 0?this.yc.length-1:e,s=Le.es();return s.Nn(i,{Fn:0,Wn:!0}),this.Nc(s),n}V_(e,n,i){e.V_(n,i)}O_(e,n,i){e.O_(n,i),this.Jl(),this.Nc(this.Gc(e,2))}B_(e,n){e.B_(n),this.Nc(this.Gc(e,2))}A_(e,n,i){n.Vo()||e.A_(n,i)}I_(e,n,i){n.Vo()||(e.I_(n,i),this.Jl(),this.Nc(this.Gc(e,2)))}z_(e,n){n.Vo()||(e.z_(n),this.Nc(this.Gc(e,2)))}E_(e,n){e.E_(n),this.Nc(this.Gc(e,2))}Jc(e){this.yl.Go(e)}Qc(e,n){const i=this.St();if(i.Ni()||n===0)return;const s=i.Hi();e=Math.max(1,Math.min(e,s)),i.Zu(e,n),this.Wu()}td(e){this.nd(0),this.sd(e),this.ed()}rd(e){this.yl.Jo(e),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(e){this.yl.t_(e)}sd(e){this.yl.i_(e),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(e,n,i,s,r){this.vt.gn(e,n);let l=NaN,o=this.yl.Nu(e);const a=this.yl.Xs();a!==null&&(o=Math.min(Math.max(a.Os(),o),a.ui()));const u=s.vn(),h=u.Ct();h!==null&&(l=u.pn(n,h)),l=this.Bc.Oa(l,o,s),this.vt.kn(o,l,s),this.oa(),r||this.Rc.m(this.vt.xt(),{x:e,y:n},i)}ad(e,n,i){const s=i.vn(),r=s.Ct(),l=s.Rt(e,T(r)),o=this.yl.Va(n,!0),a=this.yl.It(T(o));this.ld(a,l,null,i,!0)}od(e){this.Zc().Cn(),this.oa(),e||this.Rc.m(null,null,null)}Jl(){const e=this.vt.Ht();if(e!==null){const n=this.vt.xn(),i=this.vt.Sn();this.ld(n,i,null,e)}this.vt.Vn()}_d(e,n,i){const s=this.yl.mn(0);n!==void 0&&i!==void 0&&this.yl.bt(n,i);const r=this.yl.mn(0),l=this.yl.Eu(),o=this.yl.Xs();if(o!==null&&s!==null&&r!==null){const a=o.Kr(l),u=this.q_.key(s)>this.q_.key(r),h=e!==null&&e>l&&!u,d=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(i!==void 0||d)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const y=e-l;this.yl.Jn(this.yl.Hu()-y)}}this.yl.Yu(e)}ia(e){e!==null&&e.F_()}dr(e){const n=this.yc.find(i=>i.Uo().includes(e));return n===void 0?null:n}Wu(){this.Ac.Vn(),this.yc.forEach(e=>e.F_()),this.Jl()}S(){this.yc.forEach(e=>e.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(e,n,i){const s=this.yc[0],r=this.fd(n,e,s,i);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(e){const n=this.dr(e),i=this.Cc.indexOf(e);Mn(i!==-1,"Series not found"),this.Cc.splice(i,1),T(n).Zo(e),e.S&&e.S()}Xl(e,n){const i=T(this.dr(e));i.Zo(e);const s=this.Uc(n);if(s===null){const r=e.Xi();i.qo(e,n,r)}else{const r=s.Ht===i?e.Xi():void 0;s.Ht.qo(e,n,r)}}hc(){const e=Le.ss();e.$n(),this.Nc(e)}pd(e){const n=Le.ss();n.Yn(e),this.Nc(n)}Kn(){const e=Le.ss();e.Kn(),this.Nc(e)}Gn(e){const n=Le.ss();n.Gn(e),this.Nc(n)}Jn(e){const n=Le.ss();n.Jn(e),this.Nc(n)}Zn(e){const n=Le.ss();n.Zn(e),this.Nc(n)}Un(){const e=Le.ss();e.Un(),this.Nc(e)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(e){const n=this.Ec,i=this.zc;if(n===i)return n;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.Dc===null||this.Dc.Ps!==i||this.Dc.Rs!==n)this.Dc={Ps:i,Rs:n,wd:new Map};else{const r=this.Dc.wd.get(e);if(r!==void 0)return r}const s=function(r,l,o){const[a,u,h,d]=Hs(r),[f,y,p,m]=Hs(l),x=[ut(a+o*(f-a)),ut(u+o*(y-u)),ut(h+o*(p-h)),tv(d+o*(m-d))];return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}(i,n,e/100);return this.Dc.wd.set(e,s),s}Gc(e,n){const i=new Le(n);if(e!==null){const s=this.yc.indexOf(e);i.Nn(s,{Fn:n})}return i}Fc(e,n){return n===void 0&&(n=2),this.Gc(this.dr(e),n)}Nc(e){this.Vc&&this.Vc(e),this.yc.forEach(n=>n.j_().qh().bt())}fd(e,n,i,s){const r=new Kc(this,e,n,i,s),l=e.priceScaleId!==void 0?e.priceScaleId:this.md();return i.qo(r,l),ho(l)||r.$h(e),r}Lc(e){const n=this.cn.layout;return n.background.type==="gradient"?e===0?n.background.topColor:n.background.bottomColor:n.background.color}}function Ru(t){return!At(t)&&!ar(t)}function wv(t){return At(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(uf||(uf={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(cf||(cf={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(hf||(hf={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(df||(df={}));const ff=t=>t.getUTCFullYear();function UN(t,e,n){return e.replace(/yyyy/g,(i=>Gt(ff(i),4))(t)).replace(/yy/g,(i=>Gt(ff(i)%100,2))(t)).replace(/MMMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(t,n)).replace(/MMM/g,((i,s)=>new Date(i.getUTCFullYear(),i.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(t,n)).replace(/MM/g,(i=>Gt((s=>s.getUTCMonth()+1)(i),2))(t)).replace(/dd/g,(i=>Gt((s=>s.getUTCDate())(i),2))(t))}class bv{constructor(e="yyyy-MM-dd",n="default"){this.gd=e,this.Md=n}Y_(e){return UN(e,this.gd,this.Md)}}class WN{constructor(e){this.xd=e||"%h:%m:%s"}Y_(e){return this.xd.replace("%h",Gt(e.getUTCHours(),2)).replace("%m",Gt(e.getUTCMinutes(),2)).replace("%s",Gt(e.getUTCSeconds(),2))}}const HN={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class qN{constructor(e={}){const n=Object.assign(Object.assign({},HN),e);this.Td=new bv(n.Sd,n.Cd),this.Pd=new WN(n.kd),this.Rd=n.yd}Y_(e){return`${this.Td.Y_(e)}${this.Rd}${this.Pd.Y_(e)}`}}function $r(t){return 60*t*60*1e3}function oa(t){return 60*t*1e3}const Fr=[{Dd:(pf=1,1e3*pf),Vd:10},{Dd:oa(1),Vd:20},{Dd:oa(5),Vd:21},{Dd:oa(30),Vd:22},{Dd:$r(1),Vd:30},{Dd:$r(3),Vd:31},{Dd:$r(6),Vd:32},{Dd:$r(12),Vd:33}];var pf;function mf(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let n=Fr.length-1;n>=0;--n)if(Math.floor(e.getTime()/Fr[n].Dd)!==Math.floor(t.getTime()/Fr[n].Dd))return Fr[n].Vd;return 0}function aa(t){let e=t;if(ar(t)&&(e=Xc(t)),!Ru(e))throw new Error("time must be of type BusinessDay");const n=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{Od:Math.round(n.getTime()/1e3),Bd:e}}function vf(t){if(!wv(t))throw new Error("time must be of type isUTCTimestamp");return{Od:t}}function Xc(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function gf(t){ar(t.time)&&(t.time=Xc(t.time))}class yf{options(){return this.cn}setOptions(e){this.cn=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(n){n.forEach(gf)}(e):gf(e)}createConverterToInternalObj(e){return T(function(n){return n.length===0?null:Ru(n[0].time)||ar(n[0].time)?aa:vf}(e))}key(e){return typeof e=="object"&&"Od"in e?e.Od:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const n=e;return n.Bd===void 0?new Date(1e3*n.Od).getTime():new Date(Date.UTC(n.Bd.year,n.Bd.month-1,n.Bd.day)).getTime()}convertHorzItemToInternal(e){return wv(n=e)?vf(n):Ru(n)?aa(n):aa(Xc(n));var n}updateFormatter(e){if(!this.cn)return;const n=e.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new qN({Sd:n,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:e.locale}):this.Ad=new bv(n,e.locale)}formatHorzItem(e){const n=e;return this.Ad.Y_(new Date(1e3*n.Od))}formatTickmark(e,n){const i=function(r,l,o){switch(r){case 0:case 10:return l?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return l?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(e.originalTime,i,n.locale);if(r!==null)return r}return function(r,l,o){const a={};switch(l){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(o,a)}(e.time,i,n.locale)}maxTickMarkWeight(e){let n=e.reduce($N,e[0]).weight;return n>30&&n<50&&(n=30),n}fillWeightsForPoints(e,n){(function(i,s=0){if(i.length===0)return;let r=s===0?null:i[s-1].time.Od,l=r!==null?new Date(1e3*r):null,o=0;for(let a=s;a<i.length;++a){const u=i[a],h=new Date(1e3*u.time.Od);l!==null&&(u.timeWeight=mf(h,l)),o+=u.time.Od-(r||u.time.Od),r=u.time.Od,l=h}if(s===0&&i.length>1){const a=Math.ceil(o/(i.length-1)),u=new Date(1e3*(i[0].time.Od-a));i[0].timeWeight=mf(new Date(1e3*i[0].time.Od),u)}})(e,n)}static Id(e){return jt({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Bi=typeof window<"u";function xf(){return!!Bi&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function ua(){return!!Bi&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Tu(t){return t+t%2}function ca(t,e){return t.zd-e.zd}function ha(t,e,n){const i=(t.zd-e.zd)/(t.ot-e.ot);return Math.sign(i)*Math.min(Math.abs(i),n)}class KN{constructor(e,n,i,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=e,this.Ud=n,this.qd=i,this.rs=s}Yd(e,n){if(this.Ld!==null){if(this.Ld.ot===n)return void(this.Ld.zd=e);if(Math.abs(this.Ld.zd-e)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:n,zd:e}}Vr(e,n){if(this.Ld===null||this.Ed===null||n-this.Ld.ot>50)return;let i=0;const s=ha(this.Ld,this.Ed,this.Ud),r=ca(this.Ld,this.Ed),l=[s],o=[r];if(i+=r,this.Nd!==null){const u=ha(this.Ed,this.Nd,this.Ud);if(Math.sign(u)===Math.sign(s)){const h=ca(this.Ed,this.Nd);if(l.push(u),o.push(h),i+=h,this.Fd!==null){const d=ha(this.Nd,this.Fd,this.Ud);if(Math.sign(d)===Math.sign(s)){const f=ca(this.Nd,this.Fd);l.push(d),o.push(f),i+=f}}}}let a=0;for(let u=0;u<l.length;++u)a+=o[u]/i*l[u];Math.abs(a)<this.$d||(this.Wd={zd:e,ot:n},this.Hd=a,this.jd=function(u,h){const d=Math.log(h);return Math.log(1*d/-u)/d}(Math.abs(a),this.qd))}tc(e){const n=T(this.Wd),i=e-n.ot;return n.zd+this.Hd*(Math.pow(this.qd,i)-1)/Math.log(this.qd)}Qu(e){return this.Wd===null||this.Zd(e)===this.jd}Zd(e){const n=e-T(this.Wd).ot;return Math.min(n,this.jd)}}class XN{constructor(e,n){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=e,this.Qd=n,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return nv(Hs(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function Zn(t,e){const n=T(t.ownerDocument).createElement("canvas");t.appendChild(n);const i=rS(n,{options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return i.resizeCanvasElement(e),i}function ei(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))===null||e===void 0||e.clearRect(0,0,1,1)}function Pu(t,e,n,i){t.gl&&t.gl(e,n,i)}function ol(t,e,n,i){t.X(e,n,i)}function Lu(t,e,n,i){const s=t(n,i);for(const r of s){const l=r.gt();l!==null&&e(l)}}function QN(t){Bi&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Qc{constructor(e,n,i){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!ua(),this.Af=s=>{this.If(s)},this.zf=s=>{if(this.Lf(s)){const r=this.Ef(s);if(++this._f,this.uf&&this._f>1){const{Nf:l}=this.Ff(Ot(s),this.cf);l<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(s);if(++this.hf,this.lf&&this.hf>1){const{Nf:l}=this.Ff(Ot(s),this.af);l<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=e,this.Hf=n,this.cn=i,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(e){this.Sf&&this.Sf();const n=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",n)},this.Zf.addEventListener("mousemove",n),this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(e){if(this.Df||this.pf!==null||this.Lf(e))return;const n=this.Ef(e);this.Uf(n,this.Hf.tv),this.Bf=!0}iv(e){const n=da(e.changedTouches,T(this.Of));if(n===null||(this.Vf=Dr(e),this.Cf!==null)||this.Rf)return;this.Pf=!0;const i=this.Ff(Ot(n),T(this.pf)),{nv:s,sv:r,Nf:l}=i;if(this.mf||!(l<5)){if(!this.mf){const o=.5*s,a=r>=o&&!this.cn.ev(),u=o>r&&!this.cn.rv();a||u||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const o=this.Ef(e,n);this.Wf(o,this.Hf.hv),ai(e)}}}lv(e){if(e.button!==0)return;const n=this.Ff(Ot(e),T(this.vf)),{Nf:i}=n;if(i>=5&&(this.bf=!0,this.Yf()),this.bf){const s=this.Ef(e);this.Uf(s,this.Hf.av)}}Ff(e,n){const i=Math.abs(n.nt-e.nt),s=Math.abs(n.st-e.st);return{nv:i,sv:s,Nf:i+s}}ov(e){let n=da(e.changedTouches,T(this.Of));if(n===null&&e.touches.length===0&&(n=e.changedTouches[0]),n===null)return;this.Of=null,this.Vf=Dr(e),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const i=this.Ef(e,n);if(this.Wf(i,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:s}=this.Ff(Ot(n),this.cf);s<30&&!this.wf&&this.Wf(i,this.Hf.jf),this.$f()}else this.wf||(this.Wf(i,this.Hf.uv),this.Hf.uv&&ai(e));this._f===0&&ai(e),e.touches.length===0&&this.ff&&(this.ff=!1,ai(e))}If(e){if(e.button!==0)return;const n=this.Ef(e);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),xf()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(e))if(this.Uf(n,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:i}=this.Ff(Ot(e),this.af);i<5&&!this.bf&&this.Uf(n,this.Hf.qf),this.Yf()}else this.bf||this.Uf(n,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(e){if(this.Of!==null)return;const n=e.changedTouches[0];this.Of=n.identifier,this.Vf=Dr(e);const i=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=Ot(n),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),l=this.ov.bind(this);this.yf=()=>{i.removeEventListener("touchmove",r),i.removeEventListener("touchend",l)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",l,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,e),240)}const s=this.Ef(e,n);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=Ot(n))}mv(e){if(e.button!==0)return;const n=this.Zf.ownerDocument.documentElement;xf()&&n.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=Ot(e),this.kf&&(this.kf(),this.kf=null);{const s=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{n.removeEventListener("mousemove",s),n.removeEventListener("mouseup",r)},n.addEventListener("mousemove",s),n.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(e))return;const i=this.Ef(e);this.Uf(i,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=Ot(e))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const e=this.Zf.ownerDocument,n=i=>{this.Hf.wv&&(i.composed&&this.Zf.contains(i.composedPath()[0])||i.target&&this.Zf.contains(i.target)||this.Hf.wv())};this.Mf=()=>{e.removeEventListener("touchstart",n)},this.gf=()=>{e.removeEventListener("mousedown",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0})}ua()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),QN(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",e=>this.yv(e.touches),{passive:!0}),this.Zf.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const n=wf(e.touches[0],e.touches[1])/this.Tf;this.Hf.Sv(this.Cf,n),ai(e)}},{passive:!1}),this.Zf.addEventListener("touchend",e=>{this.yv(e.touches)}))}yv(e){e.length===1&&(this.Pf=!1),e.length!==2||this.Pf||this.ff?this.Cv():this.Tv(e)}Tv(e){const n=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(e[0].clientX-n.left+(e[1].clientX-n.left))/2,st:(e[0].clientY-n.top+(e[1].clientY-n.top))/2},this.Tf=wf(e[0],e[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(e){if(this.Sf&&this.Sf(),this.Lf(e)||!this.Bf)return;const n=this.Ef(e);this.Uf(n,this.Hf.Pv),this.Bf=!ua()}vv(e){const n=da(e.touches,T(this.Of));if(n===null)return;const i=this.Ef(e,n);this.Wf(i,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Dr(e)<this.Vf+500}Wf(e,n){n&&n.call(this.Hf,e)}Uf(e,n){n&&n.call(this.Hf,e)}Ef(e,n){const i=n||e,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Dv:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Vv:e.type,Ov:i.target,Bv:e.view,Av:()=>{e.type!=="touchstart"&&ai(e)}}}}function wf(t,e){const n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}function ai(t){t.cancelable&&t.preventDefault()}function Ot(t){return{nt:t.pageX,st:t.pageY}}function Dr(t){return t.timeStamp||performance.now()}function da(t,e){for(let n=0;n<t.length;++n)if(t[n].identifier===e)return t[n];return null}function Ar(t){return{Hc:t.Hc,Iv:{gr:t.zv.externalId},Lv:t.zv.cursorStyle}}function JN(t,e,n){for(const i of t){const s=i.gt();if(s!==null&&s.wr){const r=s.wr(e,n);if(r!==null)return{Bv:i,Iv:r}}}return null}function fa(t,e){return n=>{var i,s,r,l;return((s=(i=n.Dt())===null||i===void 0?void 0:i.Pa())!==null&&s!==void 0?s:"")!==e?[]:(l=(r=n.da)===null||r===void 0?void 0:r.call(n,t))!==null&&l!==void 0?l:[]}}function bf(t,e,n,i){if(!t.length)return;let s=0;const r=n/2,l=t[0].At(i,!0);let o=e===1?r-(t[0].Vi()-l/2):t[0].Vi()-l/2-r;o=Math.max(0,o);for(let a=1;a<t.length;a++){const u=t[a],h=t[a-1],d=h.At(i,!1),f=u.Vi(),y=h.Vi();if(e===1?f>y-d:f<y+d){const p=y-d*e;u.Oi(p);const m=p-e*d/2;if((e===1?m<0:m>n)&&o>0){const x=e===1?-1-m:m-n,v=Math.min(x,o);for(let g=s;g<t.length;g++)t[g].Oi(t[g].Vi()+e*v);o-=v}}else s=a,o=e===1?y-d-f:f-(y+d)}}class Sf{constructor(e,n,i,s){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new Xs(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=e,this.cn=n,this.ko=n.layout,this.Oc=i,this.qv=s==="left",this.Yv=fa("normal",s),this.Zv=fa("top",s),this.Xv=fa("bottom",s),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=Zn(this.Kv,ue({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=Zn(this.Kv,ue({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const l=this.Jv.canvasElement;l.style.position="absolute",l.style.zIndex="2",l.style.left="0",l.style.top="0";const o={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new Qc(this.Jv.canvasElement,o,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ei(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ei(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const e=this.Oc.W();return this.Qr!==e.R&&(this.Fv.nr(),this.Qr=e.R),e}op(){if(this.Li===null)return 0;let e=0;const n=this.ap(),i=T(this.Gv.canvasElement.getContext("2d"));i.save();const s=this.Li.Ha();i.font=this._p(),s.length>0&&(e=Math.max(this.Fv.xi(i,s[0].so),this.Fv.xi(i,s[s.length-1].so)));const r=this.up();for(let u=r.length;u--;){const h=this.Fv.xi(i,r[u].Kt());h>e&&(e=h)}const l=this.Li.Ct();if(l!==null&&this.Ev!==null&&(o=this.cn.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const u=this.Li.pn(1,l),h=this.Li.pn(this.Ev.height-2,l);e=Math.max(e,this.Fv.xi(i,this.Li.Fi(Math.floor(Math.min(u,h))+.11111111111111,l)),this.Fv.xi(i,this.Li.Fi(Math.ceil(Math.max(u,h))-.11111111111111,l)))}var o;i.restore();const a=e||34;return Tu(Math.ceil(n.C+n.T+n.A+n.I+5+a))}cp(e){this.Ev!==null&&Wn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`)}dp(){return T(this.Ev).width}Gi(e){this.Li!==e&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=e,e.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const e=this.tn.fp();this.tn.$v().$t().E_(e,T(this.Dt()))}vp(e){if(this.Ev===null)return;if(e!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const i=Gn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)}),this.tn.bp(i,this.Xv),this.wp(i),this.tn.bp(i,this.Yv),this.gp(i))}this.Jv.applySuggestedBitmapSize();const n=Gn(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Mp(n),this.tn.bp(n,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}bt(){var e;(e=this.Li)===null||e===void 0||e.Ha()}Qv(e){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!0,n.V_(i,this.Li,e.localY)}tp(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),i=this.tn.fp(),s=this.Li;n.O_(i,s,e.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),i=this.Li;this.Nv&&(this.Nv=!1,e.B_(n,i))}np(e){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const n=this.tn.$v().$t(),i=this.tn.fp();this.Nv=!1,n.B_(i,this.Li)}sp(e){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(e){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(e){this.kp(0)}up(){const e=[],n=this.Li===null?void 0:this.Li;return(i=>{for(let s=0;s<i.length;++s){const r=i[s].Rn(this.tn.fp(),n);for(let l=0;l<r.length;l++)e.push(r[l])}})(this.tn.fp().Uo()),e}mp({context:e,bitmapSize:n}){const{width:i,height:s}=n,r=this.tn.fp().$t(),l=r.q(),o=r.bd();l===o?uo(e,0,0,i,s,l):iv(e,0,0,i,s,l,o)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:i}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;e.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.ap().C*i));let r;r=this.qv?n.width-s:0,e.fillRect(r,0,s,n.height)}wp(e){if(this.Ev===null||this.Li===null)return;const n=this.Li.Ha(),i=this.Li.W(),s=this.ap(),r=this.qv?this.Ev.width-s.T:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:o,verticalPixelRatio:a})=>{l.fillStyle=i.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),d=Math.round(s.T*o);l.beginPath();for(const f of n)l.rect(Math.floor(r*o),Math.round(f.Ea*a)-h,d,u);l.fill()}),e.useMediaCoordinateSpace(({context:l})=>{var o;l.font=this._p(),l.fillStyle=(o=i.textColor)!==null&&o!==void 0?o:this.ko.textColor,l.textAlign=this.qv?"right":"left",l.textBaseline="middle";const a=this.qv?Math.round(r-s.A):Math.round(r+s.T+s.A),u=n.map(h=>this.Fv.Mi(l,h.so));for(let h=n.length;h--;){const d=n[h];l.fillText(d.so,a,d.Ea+u[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const e=[],n=this.Li.Uo().slice(),i=this.tn.fp(),s=this.ap();this.Li===i.pr()&&this.tn.fp().Uo().forEach(l=>{i.vr(l)&&n.push(l)});const r=this.Li;n.forEach(l=>{l.Rn(i,r).forEach(o=>{o.Oi(null),o.Bi()&&e.push(o)})}),e.forEach(l=>l.Oi(l.ki())),this.Li.W().alignLabels&&this.yp(e,s)}yp(e,n){if(this.Ev===null)return;const i=this.Ev.height/2,s=e.filter(l=>l.ki()<=i),r=e.filter(l=>l.ki()>i);s.sort((l,o)=>o.ki()-l.ki()),r.sort((l,o)=>l.ki()-o.ki());for(const l of e){const o=Math.floor(l.At(n)/2),a=l.ki();a>-o&&a<o&&l.Oi(o),a>this.Ev.height-o&&a<this.Ev.height+o&&l.Oi(this.Ev.height-o)}bf(s,1,this.Ev.height,n),bf(r,-1,this.Ev.height,n)}gp(e){if(this.Ev===null)return;const n=this.up(),i=this.ap(),s=this.qv?"right":"left";n.forEach(r=>{r.Ai()&&r.gt(T(this.Li)).X(e,i,this.Fv,s)})}Mp(e){if(this.Ev===null||this.Li===null)return;const n=this.tn.$v().$t(),i=[],s=this.tn.fp(),r=n.Zc().Rn(s,this.Li);r.length&&i.push(r);const l=this.ap(),o=this.qv?"right":"left";i.forEach(a=>{a.forEach(u=>{u.gt(T(this.Li)).X(e,l,this.Fv,o)})})}kp(e){this.Kv.style.cursor=e===1?"ns-resize":"default"}fo(){const e=this.op();this.Wv<e&&this.tn.$v().$t().Kl(),this.Wv=e}_p(){return Ai(this.ko.fontSize,this.ko.fontFamily)}}function GN(t,e){var n,i;return(i=(n=t.ua)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}function Br(t,e){var n,i;return(i=(n=t.Pn)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}function YN(t,e){var n,i;return(i=(n=t.Ji)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}function ZN(t,e){var n,i;return(i=(n=t.aa)===null||n===void 0?void 0:n.call(t,e))!==null&&i!==void 0?i:[]}class Jc{constructor(e,n){this.Ev=ue({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new xe,this.Op=new xe,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=e,this.Np=n,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(i),this.Gv=Zn(i,ue({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=Zn(i,ue({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new Qc(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ei(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ei(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return T(this.Np)}qp(e){var n,i;this.Np!==null&&this.Np.W_().p(this),this.Np=e,this.Np!==null&&this.Np.W_().l(Jc.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(n=this.Pp)!==null&&n!==void 0?n:new XN(this.Wp,this.Qd),this.Pp.bt()):((i=this.Pp)===null||i===void 0||i.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const e=this.Np.R_();this.Cp.Gi(T(e))}if(this.Tp!==null){const e=this.Np.D_();this.Tp.Gi(T(e))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(e){this.Np&&this.Np.x_(e)}Qf(e){if(!this.Np)return;this.Kp();const n=e.localX,i=e.localY;this.Gp(n,i,e)}bv(e){this.Kp(),this.Jp(),this.Gp(e.localX,e.localY,e)}tv(e){var n;if(!this.Np)return;this.Kp();const i=e.localX,s=e.localY;this.Gp(i,s,e);const r=this.wr(i,s);this.Qd.Qp((n=r==null?void 0:r.Lv)!==null&&n!==void 0?n:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(e){this.Np!==null&&(this.Kp(),this.tm(e))}qf(e){this.Np!==null&&this.im(this.Op,e)}jf(e){this.qf(e)}av(e){this.Kp(),this.nm(e),this.Gp(e.localX,e.localY,e)}cv(e){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(e))}uv(e){this.Np!==null&&this.tm(e)}Rv(e){if(this.Ap=!0,this.Ip===null){const n={x:e.localX,y:e.localY};this.rm(n,n,e)}}Pv(e){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(e,n){if(!this.Qd.W().handleScale.pinch)return;const i=5*(n-this.Bp);this.Bp=n,this.$i().Qc(e.nt,i)}pv(e){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const n=this.$i().Zc();this.Ip!==null&&n.yt()&&(this.Lp={x:n.Yt(),y:n.Zt()},this.Ip={x:e.localX,y:e.localY})}hv(e){if(this.Np===null)return;const n=e.localX,i=e.localY;if(this.Ip===null)this.nm(e);else{this.zp=!1;const s=T(this.Lp),r=s.x+(n-this.Ip.x),l=s.y+(i-this.Ip.y);this.Gp(r,l,e)}}_v(e){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(e)}wr(e,n){const i=this.Np;return i===null?null:function(s,r,l){const o=s.Uo(),a=function(u,h,d){var f,y;let p,m;for(const g of u){const w=(y=(f=g.va)===null||f===void 0?void 0:f.call(g,h,d))!==null&&y!==void 0?y:[];for(const N of w)x=N.zOrder,(!(v=p==null?void 0:p.zOrder)||x==="top"&&v!=="top"||x==="normal"&&v==="bottom")&&(p=N,m=g)}var x,v;return p&&m?{zv:p,Hc:m}:null}(o,r,l);if((a==null?void 0:a.zv.zOrder)==="top")return Ar(a);for(const u of o){if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&!a.zv.isBackground)return Ar(a);const h=JN(u.Pn(s),r,l);if(h!==null)return{Hc:u,Bv:h.Bv,Iv:h.Iv};if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&a.zv.isBackground)return Ar(a)}return a!=null&&a.zv?Ar(a):null}(i,e,n)}_m(e,n){T(n==="left"?this.Cp:this.Tp).cp(ue({width:e,height:this.Ev.height}))}um(){return this.Ev}cp(e){Wn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Wp.style.width=e.width+"px",this.Wp.style.height=e.height+"px")}dm(){const e=T(this.Np);e.P_(e.R_()),e.P_(e.D_());for(const n of e.Ba())if(e.vr(n)){const i=n.Dt();i!==null&&e.P_(i),n.Vn()}}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}vp(e){if(e===0||this.Np===null)return;if(e>1&&this.dm(),this.Cp!==null&&this.Cp.vp(e),this.Tp!==null&&this.Tp.vp(e),e!==1){this.Gv.applySuggestedBitmapSize();const i=Gn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s)}),this.Np&&(this.fm(i,GN),this.vm(i),this.pm(i),this.fm(i,Br),this.fm(i,YN)))}this.Jv.applySuggestedBitmapSize();const n=Gn(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.bm(n),this.fm(n,ZN))}wm(){return this.Cp}gm(){return this.Tp}bp(e,n){this.fm(e,n)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(e){this.im(this.Vp,e)}im(e,n){const i=n.localX,s=n.localY;e.M()&&e.m(this.$i().St().Nu(i),{x:i,y:s},n)}mp({context:e,bitmapSize:n}){const{width:i,height:s}=n,r=this.$i(),l=r.q(),o=r.bd();l===o?uo(e,0,0,i,s,o):iv(e,0,0,i,s,l,o)}vm(e){const n=T(this.Np).j_().qh().gt();n!==null&&n.X(e,!1)}pm(e){const n=this.$i().Yc();this.Mm(e,Br,Pu,n),this.Mm(e,Br,ol,n)}bm(e){this.Mm(e,Br,ol,this.$i().Zc())}fm(e,n){const i=T(this.Np).Uo();for(const s of i)this.Mm(e,n,Pu,s);for(const s of i)this.Mm(e,n,ol,s)}Mm(e,n,i,s){const r=T(this.Np),l=r.$t().Wc(),o=l!==null&&l.Hc===s,a=l!==null&&o&&l.Iv!==void 0?l.Iv.Mr:void 0;Lu(n,u=>i(u,e,o,a),s,r)}Zp(){if(this.Np===null)return;const e=this.Qd,n=this.Np.R_().W().visible,i=this.Np.D_().W().visible;n||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),i||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const s=e.$t().ud();n&&this.Cp===null&&(this.Cp=new Sf(this,e.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),i&&this.Tp===null&&(this.Tp=new Sf(this,e.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(e){return e.Dv&&this.Ap||this.Ip!==null}Sm(e){return Math.max(0,Math.min(e,this.Ev.width-1))}km(e){return Math.max(0,Math.min(e,this.Ev.height-1))}Gp(e,n,i){this.$i().ld(this.Sm(e),this.km(n),i,T(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(e,n,i){this.Ip=e,this.zp=!1,this.Gp(n.x,n.y,i);const s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(e){if(!this.Dp)return;const n=this.$i(),i=this.fp();if(n.z_(i,i.vn()),this.Rp=null,this.Dp=!1,n.ed(),this.Ep!==null){const s=performance.now(),r=n.St();this.Ep.Vr(r.Hu(),s),this.Ep.Qu(s)||n.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)T(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(e){if(this.Np===null)return;const n=this.$i(),i=n.St();if(i.Ni())return;const s=this.Qd.W(),r=s.handleScroll,l=s.kineticScroll;if((!r.pressedMouseMove||e.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Dv))return;const o=this.Np.vn(),a=performance.now();if(this.Rp!==null||this.xm(e)||(this.Rp={x:e.clientX,y:e.clientY,Od:a,ym:e.localX,Cm:e.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==e.clientX||this.Rp.y!==e.clientY)){if(e.Dv&&l.touch||!e.Dv&&l.mouse){const u=i.le();this.Ep=new KN(.2/u,7/u,.997,15/u),this.Ep.Yd(i.Hu(),this.Rp.Od)}else this.Ep=null;o.Ni()||n.A_(this.Np,o,e.localY),n.nd(e.localX),this.Dp=!0}this.Dp&&(o.Ni()||n.I_(this.Np,o,e.localY),n.sd(e.localX),this.Ep!==null&&this.Ep.Yd(i.Hu(),a))}}class Nf{constructor(e,n,i,s,r){this.ft=!0,this.Ev=ue({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=e==="left",this.Oc=i.ud,this.cn=n,this.Tm=s,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=Zn(this.Kv,ue({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ei(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(e){Wn(this.Ev,e)||(this.Ev=e,this.Gv.resizeCanvasElement(e),this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.ft=!0)}vp(e){if(e<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const n=Gn(this.Gv);n!==null&&n.useBitmapCoordinateSpace(i=>{this.mp(i),this.Ie(i)})}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}Ie({context:e,bitmapSize:n,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.Tm())return;e.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*i),l=Math.floor(this.Oc.W().C*s),o=this.qv?n.width-r:0;e.fillRect(o,0,r,l)}mp({context:e,bitmapSize:n}){uo(e,0,0,n.width,n.height,this.Pm())}}function Gc(t){return e=>{var n,i;return(i=(n=e.fa)===null||n===void 0?void 0:n.call(e,t))!==null&&i!==void 0?i:[]}}const e_=Gc("normal"),t_=Gc("top"),n_=Gc("bottom");class i_{constructor(e,n){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=ue({width:0,height:0}),this.Om=new xe,this.Fv=new Xs(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=e,this.q_=n,this.cn=e.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=Zn(this.Im,ue({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const i=this.Gv.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jv=Zn(this.Im,ue({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new Qc(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),ei(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),ei(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(e){if(this.Vm)return;this.Vm=!0;const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.Jc(e.localX)}pv(e){this.bv(e)}wv(){const e=this.Qd.$t();!e.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&e.hd())}av(e){const n=this.Qd.$t();!n.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&n.rd(e.localX)}hv(e){this.av(e)}cv(){this.Vm=!1;const e=this.Qd.$t();e.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||e.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(e,n,i){Wn(this.Ev,e)||(this.Ev=e,this.jv=!0,this.Gv.resizeCanvasElement(e),this.Jv.resizeCanvasElement(e),this.jv=!1,this.Kv.style.width=`${e.width}px`,this.Kv.style.height=`${e.height}px`,this.Om.m(e)),this.Rm!==null&&this.Rm.cp(ue({width:n,height:e.height})),this.Dm!==null&&this.Dm.cp(ue({width:i,height:e.height}))}Wm(){const e=this.jm();return Math.ceil(e.C+e.T+e.P+e.L+e.B+e.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(e,n,i){const s=this.xp();s.width>0&&s.height>0&&e.drawImage(this.Gv.canvasElement,n,i)}vp(e){if(e===0)return;if(e!==1){this.Gv.applySuggestedBitmapSize();const i=Gn(this.Gv);i!==null&&(i.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s),this.$m(i,n_)}),this.wp(i),this.$m(i,e_)),this.Rm!==null&&this.Rm.vp(e),this.Dm!==null&&this.Dm.vp(e)}this.Jv.applySuggestedBitmapSize();const n=Gn(this.Jv);n!==null&&(n.useBitmapCoordinateSpace(({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],n),this.$m(n,t_))}$m(e,n){const i=this.Qd.$t().wt();for(const s of i)Lu(n,r=>Pu(r,e,!1,void 0),s,void 0);for(const s of i)Lu(n,r=>ol(r,e,!1,void 0),s,void 0)}mp({context:e,bitmapSize:n}){uo(e,0,0,n.width,n.height,this.Qd.$t().bd())}Ie({context:e,bitmapSize:n,verticalPixelRatio:i}){if(this.Qd.W().timeScale.borderVisible){e.fillStyle=this.qm();const s=Math.max(1,Math.floor(this.jm().C*i));e.fillRect(0,0,n.width,s)}}wp(e){const n=this.Qd.$t().St(),i=n.Ha();if(!i||i.length===0)return;const s=this.q_.maxTickMarkWeight(i),r=this.jm(),l=n.W();l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:a,verticalPixelRatio:u})=>{o.strokeStyle=this.qm(),o.fillStyle=this.qm();const h=Math.max(1,Math.floor(a)),d=Math.floor(.5*a);o.beginPath();const f=Math.round(r.T*u);for(let y=i.length;y--;){const p=Math.round(i[y].coord*a);o.rect(p-d,0,h,f)}o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{const a=r.C+r.T+r.L+r.P/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.$(),o.font=this._p();for(const u of i)if(u.weight<s){const h=u.needAlignCoordinate?this.Ym(o,u.coord,u.label):u.coord;o.fillText(u.label,h,a)}this.Qd.W().timeScale.allowBoldLabels&&(o.font=this.Zm());for(const u of i)if(u.weight>=s){const h=u.needAlignCoordinate?this.Ym(o,u.coord,u.label):u.coord;o.fillText(u.label,h,a)}})}Ym(e,n,i){const s=this.Fv.xi(e,i),r=s/2,l=Math.floor(n-r)+.5;return l<0?n+=Math.abs(0-l):l+s>this.Ev.width&&(n-=Math.abs(this.Ev.width-(l+s))),n}Um(e,n){const i=this.jm();for(const s of e)for(const r of s.Qi())r.gt().X(n,i)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return Ai(this.j(),this.cn.fontFamily)}Zm(){return Ai(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new Xs,Hm:0});const e=this.k,n=this._p();if(e.R!==n){const i=this.j();e.P=i,e.R=n,e.L=3*i/12,e.B=3*i/12,e.ji=9*i/12,e.N=0,e.Hm=4*i/12,e.Wi.nr()}return this.k}kp(e){this.Kv.style.cursor=e===1?"ew-resize":"default"}zm(){const e=this.Qd.$t(),n=e.W();n.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),n.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const i={ud:this.Qd.$t().ud()},s=()=>n.leftPriceScale.borderVisible&&e.St().W().borderVisible,r=()=>e.bd();n.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Nf("left",n,i,s,r),this.Bm.appendChild(this.Rm.lp())),n.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Nf("right",n,i,s,r),this.Am.appendChild(this.Dm.lp()))}}const s_=!!Bi&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Bi&&(!((pa=navigator==null?void 0:navigator.userAgentData)===null||pa===void 0)&&pa.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var pa;class r_{constructor(e,n,i){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new xe,this.Op=new xe,this.Rc=new xe,this.ib=null,this.nb=null,this.Jd=e,this.cn=n,this.q_=i,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),ma(this.cn)&&this.hb(!0),this.$i=new IN(this.Vc.bind(this),this.cn,i),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new i_(this,this.q_),this.sb.appendChild(this.ab.lp());const r=n.autoSize&&this.ob();let l=this.cn.width,o=this.cn.height;if(r||l===0||o===0){const a=e.getBoundingClientRect();l=l||a.width,o=o||a.height}this._b(l,o),this.ub(),e.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const e of this.Xm)this.sb.removeChild(e.lp()),e.lm().p(this),e.am().p(this),e.S();this.Xm=[],T(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(e,n,i=!1){if(this.ho===n&&this.__===e)return;const s=function(o){const a=Math.floor(o.width),u=Math.floor(o.height);return ue({width:a-a%2,height:u-u%2})}(ue({width:e,height:n}));this.ho=s.height,this.__=s.width;const r=this.ho+"px",l=this.__+"px";T(this.Xd).style.height=r,T(this.Xd).style.width=l,this.sb.style.height=r,this.sb.style.width=l,i?this.mb(Le.es(),performance.now()):this.$i.Kl()}vp(e){e===void 0&&(e=Le.es());for(let n=0;n<this.Xm.length;n++)this.Xm[n].vp(e.Hn(n).Fn);this.cn.timeScale.visible&&this.ab.vp(e.jn())}$h(e){const n=ma(this.cn);this.$i.$h(e);const i=ma(this.cn);i!==n&&this.hb(i),this.cb(),this.bb(e)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const e=this.gb(null),n=document.createElement("canvas");n.width=e.width,n.height=e.height;const i=T(n.getContext("2d"));return this.gb(i),n}Mb(e){return e==="left"&&!this.xb()||e==="right"&&!this.Sb()||this.Xm.length===0?0:T(e==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(e){this.nb=e,this.nb?this.yb().style.setProperty("cursor",e):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return He(this.Xm[0]).um()}bb(e){(e.autoSize!==void 0||!this.ib||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.ib&&this.ob(),e.autoSize===!1&&this.ib!==null&&this.pb(),e.autoSize||e.width===void 0&&e.height===void 0||this._b(e.width||this.__,e.height||this.ho))}gb(e){let n=0,i=0;const s=this.Xm[0],r=(o,a)=>{let u=0;for(let h=0;h<this.Xm.length;h++){const d=this.Xm[h],f=T(o==="left"?d.wm():d.gm()),y=f.xp();e!==null&&f.Sp(e,a,u),u+=y.height}};this.xb()&&(r("left",0),n+=T(s.wm()).xp().width);for(let o=0;o<this.Xm.length;o++){const a=this.Xm[o],u=a.xp();e!==null&&a.Sp(e,n,i),i+=u.height}n+=s.xp().width,this.Sb()&&(r("right",n),n+=T(s.gm()).xp().width);const l=(o,a,u)=>{T(o==="left"?this.ab.Lm():this.ab.Em()).Sp(T(e),a,u)};if(this.cn.timeScale.visible){const o=this.ab.xp();if(e!==null){let a=0;this.xb()&&(l("left",a,i),a=T(s.wm()).xp().width),this.ab.Sp(e,a,i),a+=o.width,this.Sb()&&l("right",a,i)}i+=o.height}return ue({width:n,height:i})}Pb(){let e=0,n=0,i=0;for(const p of this.Xm)this.xb()&&(n=Math.max(n,T(p.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(i=Math.max(i,T(p.gm()).op(),this.cn.rightPriceScale.minimumWidth)),e+=p.M_();n=Tu(n),i=Tu(i);const s=this.__,r=this.ho,l=Math.max(s-n-i,0),o=this.cn.timeScale.visible;let a=o?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;a=(u=a)+u%2;const h=0+a,d=r<h?0:r-h,f=d/e;let y=0;for(let p=0;p<this.Xm.length;++p){const m=this.Xm[p];m.qp(this.$i.qc()[p]);let x=0,v=0;v=p===this.Xm.length-1?d-y:Math.round(m.M_()*f),x=Math.max(v,2),y+=x,m.cp(ue({width:l,height:x})),this.xb()&&m._m(n,"left"),this.Sb()&&m._m(i,"right"),m.fp()&&this.$i.Kc(m.fp(),x)}this.ab.Fm(ue({width:o?l:0,height:a}),o?n:0,o?i:0),this.$i.S_(l),this.Gm!==n&&(this.Gm=n),this.Jm!==i&&(this.Jm=i)}hb(e){e?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return s_?1/window.devicePixelRatio:1}rb(e){if(!(e.deltaX!==0&&this.cn.handleScroll.mouseWheel||e.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const n=this.Rb(e),i=n*e.deltaX/100,s=-n*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),l=e.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(l,r)}i!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*i)}mb(e,n){var i;const s=e.jn();s===3&&this.Db(),s!==3&&s!==2||(this.Vb(e),this.Ob(e,n),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((i=this.Qm)===null||i===void 0?void 0:i.jn())===3&&(this.Qm.ts(e),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,n),e=this.Qm,this.Qm=null)),this.vp(e)}Ob(e,n){for(const i of e.Qn())this.ns(i,n)}Vb(e){const n=this.$i.qc();for(let i=0;i<n.length;i++)e.Hn(i).Wn&&n[i].N_()}ns(e,n){const i=this.$i.St();switch(e.qn){case 0:i.hc();break;case 1:i.lc(e.Vt);break;case 2:i.Gn(e.Vt);break;case 3:i.Jn(e.Vt);break;case 4:i.qu();break;case 5:e.Vt.Qu(n)||i.Jn(e.Vt.tc(n))}}Vc(e){this.Qm!==null?this.Qm.ts(e):this.Qm=e,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(n=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const i=this.Qm;this.Qm=null,this.mb(i,n);for(const s of i.Qn())if(s.qn===5&&!s.Vt.Qu(n)){this.$t().Zn(s.Vt);break}}}))}Db(){this.ub()}ub(){const e=this.$i.qc(),n=e.length,i=this.Xm.length;for(let s=n;s<i;s++){const r=He(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let s=i;s<n;s++){const r=new Jc(this,e[s]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let s=0;s<n;s++){const r=e[s],l=this.Xm[s];l.fp()!==r?l.qp(r):l.Up()}this.cb(),this.Pb()}Ib(e,n,i){var s;const r=new Map;e!==null&&this.$i.wt().forEach(h=>{const d=h.In().ll(e);d!==null&&r.set(h,d)});let l;if(e!==null){const h=(s=this.$i.St().Ui(e))===null||s===void 0?void 0:s.originalTime;h!==void 0&&(l=h)}const o=this.$t().Wc(),a=o!==null&&o.Hc instanceof Kc?o.Hc:void 0,u=o!==null&&o.Iv!==void 0?o.Iv.gr:void 0;return{zb:l,ee:e??void 0,Lb:n??void 0,Eb:a,Nb:r,Fb:u,Wb:i??void 0}}Bb(e,n,i){this.Vp.m(()=>this.Ib(e,n,i))}Ab(e,n,i){this.Op.m(()=>this.Ib(e,n,i))}lb(e,n,i){this.Rc.m(()=>this.Ib(e,n,i))}cb(){const e=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=e}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(e=>{const n=e.find(i=>i.target===this.Jd);n&&this._b(n.contentRect.width,n.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function ma(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function l_(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function Sv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n}function _f(t,e,n,i){const s=n.value,r={ee:e,ot:t,Vt:[s,s,s,s],zb:i};return n.color!==void 0&&(r.V=n.color),r}function o_(t,e,n,i){const s=n.value,r={ee:e,ot:t,Vt:[s,s,s,s],zb:i};return n.lineColor!==void 0&&(r.lt=n.lineColor),n.topColor!==void 0&&(r.Ps=n.topColor),n.bottomColor!==void 0&&(r.Rs=n.bottomColor),r}function a_(t,e,n,i){const s=n.value,r={ee:e,ot:t,Vt:[s,s,s,s],zb:i};return n.topLineColor!==void 0&&(r.Re=n.topLineColor),n.bottomLineColor!==void 0&&(r.De=n.bottomLineColor),n.topFillColor1!==void 0&&(r.ke=n.topFillColor1),n.topFillColor2!==void 0&&(r.ye=n.topFillColor2),n.bottomFillColor1!==void 0&&(r.Ce=n.bottomFillColor1),n.bottomFillColor2!==void 0&&(r.Te=n.bottomFillColor2),r}function u_(t,e,n,i){const s={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:i};return n.color!==void 0&&(s.V=n.color),s}function c_(t,e,n,i){const s={ee:e,ot:t,Vt:[n.open,n.high,n.low,n.close],zb:i};return n.color!==void 0&&(s.V=n.color),n.borderColor!==void 0&&(s.Ot=n.borderColor),n.wickColor!==void 0&&(s.Xh=n.wickColor),s}function h_(t,e,n,i,s){const r=He(s)(n),l=Math.max(...r),o=Math.min(...r),a=r[r.length-1],u=[a,l,o,a],h=n,{time:d,color:f}=h;return{ee:e,ot:t,Vt:u,zb:i,$e:Sv(h,["time","color"]),V:f}}function Vr(t){return t.Vt!==void 0}function kf(t,e){return e.customValues!==void 0&&(t.jb=e.customValues),t}function Ln(t){return(e,n,i,s,r,l)=>function(o,a){return a?a(o):(u=o).open===void 0&&u.value===void 0;var u}(i,l)?kf({ot:e,ee:n,zb:s},i):kf(t(e,n,i,s,r),i)}function Ef(t){return{Candlestick:Ln(c_),Bar:Ln(u_),Area:Ln(o_),Baseline:Ln(a_),Histogram:Ln(_f),Line:Ln(_f),Custom:Ln(h_)}[t]}function Cf(t){return{ee:0,Hb:new Map,la:t}}function jf(t,e){if(t!==void 0&&t.length!==0)return{$b:e.key(t[0].ot),Ub:e.key(t[t.length-1].ot)}}function Mf(t){let e;return t.forEach(n=>{e===void 0&&(e=n.zb)}),He(e)}class d_{constructor(e){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=e}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(e,n){let i=this.qb.size!==0,s=!1;const r=this.Yb.get(e);if(r!==void 0)if(this.Yb.size===1)i=!1,s=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(e)&&(s=!0);let l=[];if(n.length!==0){const a=n.map(y=>y.time),u=this.q_.createConverterToInternalObj(n),h=Ef(e.Qh()),d=e.Ca(),f=e.Ta();l=n.map((y,p)=>{const m=u(y.time),x=this.q_.key(m);let v=this.qb.get(x);v===void 0&&(v=Cf(m),this.qb.set(x,v),s=!0);const g=h(m,v.ee,y,a[p],d,f);return v.Hb.set(e,g),g})}i&&this.Gb(),this.Jb(e,l);let o=-1;if(s){const a=[];this.qb.forEach(u=>{a.push({timeWeight:0,time:u.la,pointData:u,originalTime:Mf(u.Hb)})}),a.sort((u,h)=>this.q_.key(u.time)-this.q_.key(h.time)),o=this.Qb(a)}return this.tw(e,o,function(a,u,h){const d=jf(a,h),f=jf(u,h);if(d!==void 0&&f!==void 0)return{ta:d.Ub>=f.Ub&&d.$b>=f.$b}}(this.Yb.get(e),r,this.q_))}vd(e){return this.Kb(e,[])}iw(e,n){const i=n;(function(m){m.zb===void 0&&(m.zb=m.time)})(i),this.q_.preprocessData(n);const s=this.q_.createConverterToInternalObj([n])(n.time),r=this.Zb.get(e);if(r!==void 0&&this.q_.key(s)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let l=this.qb.get(this.q_.key(s));const o=l===void 0;l===void 0&&(l=Cf(s),this.qb.set(this.q_.key(s),l));const a=Ef(e.Qh()),u=e.Ca(),h=e.Ta(),d=a(s,l.ee,n,i.zb,u,h);l.Hb.set(e,d),this.nw(e,d);const f={ta:Vr(d)};if(!o)return this.tw(e,-1,f);const y={timeWeight:0,time:l.la,pointData:l,originalTime:Mf(l.Hb)},p=ur(this.Xb,this.q_.key(y.time),(m,x)=>this.q_.key(m.time)<x);this.Xb.splice(p,0,y);for(let m=p;m<this.Xb.length;++m)va(this.Xb[m].pointData,m);return this.q_.fillWeightsForPoints(this.Xb,p),this.tw(e,p,f)}nw(e,n){let i=this.Yb.get(e);i===void 0&&(i=[],this.Yb.set(e,i));const s=i.length!==0?i[i.length-1]:null;s===null||this.q_.key(n.ot)>this.q_.key(s.ot)?Vr(n)&&i.push(n):Vr(n)?i[i.length-1]=n:i.splice(-1,1),this.Zb.set(e,n.ot)}Jb(e,n){n.length!==0?(this.Yb.set(e,n.filter(Vr)),this.Zb.set(e,n[n.length-1].ot)):(this.Yb.delete(e),this.Zb.delete(e))}Gb(){for(const e of this.Xb)e.pointData.Hb.size===0&&this.qb.delete(this.q_.key(e.time))}Qb(e){let n=-1;for(let i=0;i<this.Xb.length&&i<e.length;++i){const s=this.Xb[i],r=e[i];if(this.q_.key(s.time)!==this.q_.key(r.time)){n=i;break}r.timeWeight=s.timeWeight,va(r.pointData,i)}if(n===-1&&this.Xb.length!==e.length&&(n=Math.min(this.Xb.length,e.length)),n===-1)return-1;for(let i=n;i<e.length;++i)va(e[i].pointData,i);return this.q_.fillWeightsForPoints(e,n),this.Xb=e,n}sw(){if(this.Yb.size===0)return null;let e=0;return this.Yb.forEach(n=>{n.length!==0&&(e=Math.max(e,n[n.length-1].ee))}),e}tw(e,n,i){const s={ew:new Map,St:{Eu:this.sw()}};if(n!==-1)this.Yb.forEach((r,l)=>{s.ew.set(l,{$e:r,rw:l===e?i:void 0})}),this.Yb.has(e)||s.ew.set(e,{$e:[],rw:i}),s.St.hw=this.Xb,s.St.lw=n;else{const r=this.Yb.get(e);s.ew.set(e,{$e:r||[],rw:i})}return s}}function va(t,e){t.ee=e,t.Hb.forEach(n=>{n.ee=e})}function Yc(t){const e={value:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function Rf(t){const e=Yc(t);return t.V!==void 0&&(e.color=t.V),e}function f_(t){const e=Yc(t);return t.lt!==void 0&&(e.lineColor=t.lt),t.Ps!==void 0&&(e.topColor=t.Ps),t.Rs!==void 0&&(e.bottomColor=t.Rs),e}function p_(t){const e=Yc(t);return t.Re!==void 0&&(e.topLineColor=t.Re),t.De!==void 0&&(e.bottomLineColor=t.De),t.ke!==void 0&&(e.topFillColor1=t.ke),t.ye!==void 0&&(e.topFillColor2=t.ye),t.Ce!==void 0&&(e.bottomFillColor1=t.Ce),t.Te!==void 0&&(e.bottomFillColor2=t.Te),e}function Nv(t){const e={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.zb};return t.jb!==void 0&&(e.customValues=t.jb),e}function m_(t){const e=Nv(t);return t.V!==void 0&&(e.color=t.V),e}function v_(t){const e=Nv(t),{V:n,Ot:i,Xh:s}=t;return n!==void 0&&(e.color=n),i!==void 0&&(e.borderColor=i),s!==void 0&&(e.wickColor=s),e}function zu(t){return{Area:f_,Line:Rf,Baseline:p_,Histogram:Rf,Bar:m_,Candlestick:v_,Custom:g_}[t]}function g_(t){const e=t.zb;return Object.assign(Object.assign({},t.$e),{time:e})}const y_={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},x_={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},w_={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Vc,attributionLogo:!0},ga={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},b_={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},S_={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Vc,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Tf(){return{width:0,height:0,autoSize:!1,layout:w_,crosshair:y_,grid:x_,overlayPriceScales:Object.assign({},ga),leftPriceScale:Object.assign(Object.assign({},ga),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},ga),{visible:!0}),timeScale:b_,watermark:S_,localization:{locale:Bi?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class N_{constructor(e,n){this.aw=e,this.ow=n}applyOptions(e){this.aw.$t().$c(this.ow,e)}options(){return this.Li().W()}width(){return ho(this.ow)?this.aw.Mb(this.ow):0}Li(){return T(this.aw.$t().Uc(this.ow)).Dt}}function Pf(t,e,n){const i=Sv(t,["time","originalTime"]),s=Object.assign({time:e},i);return n!==void 0&&(s.originalTime=n),s}const __={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class k_{constructor(e){this.Nh=e}applyOptions(e){this.Nh.$h(e)}options(){return this.Nh.W()}_w(){return this.Nh}}class E_{constructor(e,n,i,s,r){this.uw=new xe,this.Es=e,this.cw=n,this.dw=i,this.q_=r,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().Rt(e,n.Vt)}coordinateToPrice(e){const n=this.Es.Ct();return n===null?null:this.Es.Dt().pn(e,n.Vt)}barsInLogicalRange(e){if(e===null)return null;const n=new Mi(new ks(e.from,e.to)).lu(),i=this.Es.In();if(i.Ni())return null;const s=i.ll(n.Os(),1),r=i.ll(n.ui(),-1),l=T(i.el()),o=T(i.An());if(s!==null&&r!==null&&s.ee>r.ee)return{barsBefore:e.from-l,barsAfter:o-e.to};const a={barsBefore:s===null||s.ee===l?e.from-l:s.ee-l,barsAfter:r===null||r.ee===o?o-e.to:o-r.ee};return s!==null&&r!==null&&(a.from=s.zb,a.to=r.zb),a}setData(e){this.q_,this.Es.Qh(),this.cw.pw(this.Es,e),this.mw("full")}update(e){this.Es.Qh(),this.cw.bw(this.Es,e),this.mw("update")}dataByIndex(e,n){const i=this.Es.In().ll(e,n);return i===null?null:zu(this.seriesType())(i)}data(){const e=zu(this.seriesType());return this.Es.In().ne().map(n=>e(n))}subscribeDataChanged(e){this.uw.l(e)}unsubscribeDataChanged(e){this.uw.v(e)}setMarkers(e){this.q_;const n=e.map(i=>Pf(i,this.q_.convertHorzItemToInternal(i.time),i.time));this.Es.na(n)}markers(){return this.Es.sa().map(e=>Pf(e,e.originalTime,void 0))}applyOptions(e){this.Es.$h(e)}options(){return Jt(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(e){const n=jt(Jt(__),e),i=this.Es.ea(n);return new k_(i)}removePriceLine(e){this.Es.ra(e._w())}seriesType(){return this.Es.Qh()}attachPrimitive(e){this.Es.ka(e),e.attached&&e.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(e){this.Es.ya(e),e.detached&&e.detached()}mw(e){this.uw.M()&&this.uw.m(e)}}class C_{constructor(e,n,i){this.ww=new xe,this.mu=new xe,this.Om=new xe,this.$i=e,this.yl=e.St(),this.ab=n,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=i}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(e,n){n?this.yl.Ju(e,1e3):this.$i.Jn(e)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const e=this.yl.Vu();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const n={from:this.q_.convertHorzItemToInternal(e.from),to:this.q_.convertHorzItemToInternal(e.to)},i=this.yl.Iu(n);this.$i.pd(i)}getVisibleLogicalRange(){const e=this.yl.Du();return e===null?null:{from:e.Os(),to:e.ui()}}setVisibleLogicalRange(e){Mn(e.from<=e.to,"The from index cannot be after the to index."),this.$i.pd(e)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(e){const n=this.$i.St();return n.Ni()?null:n.It(e)}coordinateToLogical(e){return this.yl.Ni()?null:this.yl.Nu(e)}timeToCoordinate(e){const n=this.q_.convertHorzItemToInternal(e),i=this.yl.Va(n,!1);return i===null?null:this.yl.It(i)}coordinateToTime(e){const n=this.$i.St(),i=n.Nu(e),s=n.Ui(i);return s===null?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(e){this.ww.l(e)}unsubscribeVisibleTimeRangeChange(e){this.ww.v(e)}subscribeVisibleLogicalRangeChange(e){this.mu.l(e)}unsubscribeVisibleLogicalRangeChange(e){this.mu.v(e)}subscribeSizeChange(e){this.Om.l(e)}unsubscribeSizeChange(e){this.Om.v(e)}applyOptions(e){this.yl.$h(e)}options(){return Object.assign(Object.assign({},Jt(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(e){this.Om.m(e.width,e.height)}}function j_(t){if(t===void 0||t.type==="custom")return;const e=t;e.minMove!==void 0&&e.precision===void 0&&(e.precision=function(n){if(n>=1)return 0;let i=0;for(;i<8;i++){const s=Math.round(n);if(Math.abs(s-n)<1e-8)return i;n*=10}return i}(e.minMove))}function Lf(t){return function(e){if(Pr(e.handleScale)){const i=e.handleScale;e.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:i,axisDoubleClickReset:s}=e.handleScale;Pr(i)&&(e.handleScale.axisPressedMouseMove={time:i,price:i}),Pr(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const n=e.handleScroll;Pr(n)&&(e.handleScroll={horzTouchDrag:n,vertTouchDrag:n,mouseWheel:n,pressedMouseMove:n})}(t),t}class M_{constructor(e,n,i){this.Sw=new Map,this.kw=new Map,this.yw=new xe,this.Cw=new xe,this.Tw=new xe,this.Pw=new d_(n);const s=i===void 0?Jt(Tf()):jt(Jt(Tf()),Lf(i));this.q_=n,this.aw=new r_(e,s,n),this.aw.lm().l(l=>{this.yw.M()&&this.yw.m(this.Rw(l()))},this),this.aw.am().l(l=>{this.Cw.M()&&this.Cw.m(this.Rw(l()))},this),this.aw.Xc().l(l=>{this.Tw.M()&&this.Tw.m(this.Rw(l()))},this);const r=this.aw.$t();this.Dw=new C_(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(e,n,i){this.autoSizeActive()||this.aw._b(e,n,i)}addCustomSeries(e,n){const i=bi(e),s=Object.assign(Object.assign({},Y0),i.defaultOptions());return this.Vw("Custom",s,n,i)}addAreaSeries(e){return this.Vw("Area",dS,e)}addBaselineSeries(e){return this.Vw("Baseline",fS,e)}addBarSeries(e){return this.Vw("Bar",cS,e)}addCandlestickSeries(e={}){return function(n){n.borderColor!==void 0&&(n.borderUpColor=n.borderColor,n.borderDownColor=n.borderColor),n.wickColor!==void 0&&(n.wickUpColor=n.wickColor,n.wickDownColor=n.wickColor)}(e),this.Vw("Candlestick",uS,e)}addHistogramSeries(e){return this.Vw("Histogram",pS,e)}addLineSeries(e){return this.Vw("Line",hS,e)}removeSeries(e){const n=He(this.Sw.get(e)),i=this.Pw.vd(n);this.aw.$t().vd(n),this.Ow(i),this.Sw.delete(e),this.kw.delete(n)}pw(e,n){this.Ow(this.Pw.Kb(e,n))}bw(e,n){this.Ow(this.Pw.iw(e,n))}subscribeClick(e){this.yw.l(e)}unsubscribeClick(e){this.yw.v(e)}subscribeCrosshairMove(e){this.Tw.l(e)}unsubscribeCrosshairMove(e){this.Tw.v(e)}subscribeDblClick(e){this.Cw.l(e)}unsubscribeDblClick(e){this.Cw.v(e)}priceScale(e){return new N_(this.aw,e)}timeScale(){return this.Dw}applyOptions(e){this.aw.$h(Lf(e))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const e=this.aw.Tb();return{height:e.height,width:e.width}}setCrosshairPosition(e,n,i){const s=this.Sw.get(i);if(s===void 0)return;const r=this.aw.$t().dr(s);r!==null&&this.aw.$t().ad(e,n,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(e,n,i={},s){j_(i.priceFormat);const r=jt(Jt(Z0),Jt(n),i),l=this.aw.$t().dd(e,r,s),o=new E_(l,this,this,this,this.q_);return this.Sw.set(o,l),this.kw.set(l,o),o}Ow(e){const n=this.aw.$t();n._d(e.St.Eu,e.St.hw,e.St.lw),e.ew.forEach((i,s)=>s.J(i.$e,i.rw)),n.Wu()}Bw(e){return He(this.kw.get(e))}Rw(e){const n=new Map;e.Nb.forEach((s,r)=>{const l=r.Qh(),o=zu(l)(s);if(l!=="Custom")Mn(l_(o));else{const a=r.Ta();Mn(!a||a(o)===!1)}n.set(this.Bw(r),o)});const i=e.Eb!==void 0&&this.kw.has(e.Eb)?this.Bw(e.Eb):void 0;return{time:e.zb,logical:e.ee,point:e.Lb,hoveredSeries:i,hoveredObjectId:e.Fb,seriesData:n,sourceEvent:e.Wb}}}function R_(t,e,n){let i;if(ar(t)){const r=document.getElementById(t);Mn(r!==null,`Cannot find element in DOM with id=${t}`),i=r}else i=t;const s=new M_(i,e,n);return e.setOptions(s.options()),s}function T_(t,e){return R_(t,new yf,yf.Id(e))}Object.assign(Object.assign({},Z0),Y0);const P_=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),L_=P_,ya=500,z_=["15s","30s","1m","5m","10m"];function O_(t){const e=String(t).match(/^(\d+)(s|m)$/);if(!e)return 60;const n=Number(e[1]);return!Number.isFinite(n)||n<=0?60:e[2]==="m"?n*60:n}function _v({symbol:t="BTCUSDT",trades:e=[],onPriceUpdate:n,timeframe:i="1m",onTimeframeChange:s,summary:r=[]}){const l=S.useRef(null),o=S.useRef(null),a=S.useRef(null),u=S.useRef([]),h=S.useRef([]),d=S.useRef(n),f=O_(i),y=70,p=S.useCallback(()=>{const m=o.current,x=u.current;if(!m||!x||x.length===0)return;const v=x.length,g=v+3,w=Math.max(0,v-y);m.timeScale().setVisibleLogicalRange({from:w,to:g})},[y]);return S.useEffect(()=>{d.current=n},[n]),S.useEffect(()=>{if(!l.current)return;const m=T_(l.current,{autoSize:!0,layout:{background:{color:"#ffffff"},textColor:"#0f172a"},grid:{vertLines:{color:"rgba(148,163,184,0.18)"},horzLines:{color:"rgba(148,163,184,0.18)"}},timeScale:{timeVisible:!0,secondsVisible:f<60,borderVisible:!1,barSpacing:12,rightOffset:8},rightPriceScale:{borderVisible:!1},crosshair:{mode:ju.Magnet}}),x=m.addCandlestickSeries({upColor:"#0ddf9a",borderUpColor:"#0ddf9a",wickUpColor:"#0ddf9a",downColor:"#f87171",borderDownColor:"#f87171",wickDownColor:"#f87171"});o.current=m,a.current=x,u.current=[];let v=!1;async function g(){try{const k=await(await fetch(`${L_}/api/market/candles?symbol=${t}&limit=${ya}&tf=${i}`)).json();if(v)return;const M=k.map(E=>({time:E.time??E.ts,open:E.open,high:E.high,low:E.low,close:E.close}));u.current=M,x.setData(M),p()}catch(N){console.error("Failed to load candles",N)}}g();const w=N=>{var I;if(N.symbol!==t)return;const k=Number(N.price);if(!Number.isFinite(k))return;(I=d.current)==null||I.call(d,k);const M=Math.floor(N.ts/f)*f;let E=u.current.slice(),j=E[E.length-1];if(!j){E=[{time:M,open:k,high:k,low:k,close:k}],u.current=E,x.setData(E),p();return}if(j.time===M){j={...j,high:Math.max(j.high,k),low:Math.min(j.low,k),close:k},E[E.length-1]=j,u.current=E,x.update(j),p();return}if(M>j.time){const F={time:M,open:j.close??k,high:k,low:k,close:k};E.push(F),E.length>ya&&(E=E.slice(-ya)),u.current=E,x.update(F),p()}};return zl.on("tick",w),()=>{v=!0,zl.off("tick",w),m.remove(),a.current=null,o.current=null,u.current=[],h.current=[]}},[t,i,f,p]),S.useEffect(()=>{if(!a.current)return;h.current.forEach(x=>a.current.removePriceLine(x));const m=(e||[]).filter(x=>Number.isFinite(x==null?void 0:x.price)&&((x==null?void 0:x.remaining_qty)??(x==null?void 0:x.qty)??0)>1e-8).map(x=>{const v=Number(x.pip_value??x.stake_amount??0),g=x.side==="sell"?"Sell":"Buy",w=Number.isFinite(v)?`$${v.toFixed(2)}`:"";return a.current.createPriceLine({price:x.price,color:x.side==="sell"?"#f97316":"#00df9a",lineStyle:Cu.Dashed,lineWidth:1,axisLabelVisible:!0,title:`${g}${w?` ${w}`:""} @ ${x.price.toFixed(2)}`})});h.current=m},[e]),c.jsxs("div",{className:"rounded-3xl bg-white text-slate-900 p-3 sm:p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px] uppercase tracking-[0.14em] text-slate-400",children:[c.jsx("span",{children:"Time Unit"}),c.jsx("select",{value:i,onChange:m=>s==null?void 0:s(m.target.value),className:"rounded-xl border border-emerald-400/70 bg-emerald-50/30 px-3 py-1.5 text-[11px] font-medium text-slate-800 focus:outline-none focus:ring-2 focus:ring-brand",children:z_.map(m=>c.jsx("option",{value:m,className:"text-slate-900",children:m.toUpperCase()},m))})]}),r.length>0&&c.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3 text-[9px] uppercase tracking-[0.12em] text-slate-400",children:r.map(m=>{let x="text-slate-600";m.tone==="primary"&&(x="text-slate-900"),m.tone==="success"&&(x="text-emerald-500"),m.tone==="danger"&&(x="text-rose-500"),m.tone==="muted"&&(x="text-slate-500");const v=m.monospace?"font-mono":"font-semibold";return c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{children:m.label}),c.jsx("div",{className:`text-[12px] tracking-normal ${x} ${v}`,children:m.value})]},m.label)})}),c.jsx("div",{className:"w-full h-[360px] sm:h-[480px]",ref:l})]})}function $_({onPlaced:t,className:e="",variant:n="standalone"}){const{token:i}=gt(),[s,r]=S.useState(100),[l,o]=S.useState(null),[a,u]=S.useState("");async function h(f){var p,m,x;if(!i){u("Login required");return}const y=Number(s);if(!Number.isFinite(y)||y<=0){u("Enter a valid amount");return}o(f),u("");try{const v=await te(i).post("/api/trades",{side:f,amount:y}),g=Number((p=v.data)==null?void 0:p.price);if(!Number.isFinite(g))throw new Error("Invalid fill price");u(`${f==="buy"?"Bought":"Sold"} $${y.toFixed(2)} @ ${g.toFixed(2)}`),t&&t(v.data)}catch(v){u(((x=(m=v==null?void 0:v.response)==null?void 0:m.data)==null?void 0:x.error)||"Failed")}finally{o(null)}}const d=["space-y-3",n==="embedded"?"":"md:space-y-4",e].filter(Boolean).join(" ");return c.jsxs("div",{className:d,children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.16em] text-white/45",children:"Amount (USD)"}),c.jsx("input",{className:"input text-sm",type:"number",min:"0",step:"0.01",value:s,onChange:f=>r(f.target.value)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{className:"trade-btn trade-btn-buy text-sm",onClick:()=>h("buy"),disabled:l==="buy",children:l==="buy"?"Buying":"Buy @ Market"}),c.jsx("button",{className:"trade-btn trade-btn-sell text-sm",onClick:()=>h("sell"),disabled:l==="sell",children:l==="sell"?"Selling":"Sell @ Market"})]}),a&&c.jsx("div",{className:"text-[11px] text-white/60",children:a})]})}const F_=[30,60,120,300],D_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function Wt(t){const e=Number(t);return Number.isFinite(e)?D_.format(e):"$0.00"}function A_(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),i=e%60;return n<=0?`${i}s`:`${n}m ${i.toString().padStart(2,"0")}s`}function B_({summary:t,timeframe:e,onTimeframeChange:n,onAccountRefresh:i,symbol:s="BTCUSDT",onPriceUpdate:r,onBalanceSnapshot:l}){var Q;const{token:o}=gt(),[a,u]=S.useState(25),[h,d]=S.useState(60),[f,y]=S.useState(null),[p,m]=S.useState("Loading binary overview"),[x,v]=S.useState(null),[g,w]=S.useState(!1),[N,k]=S.useState(()=>Math.floor(Date.now()/1e3));S.useEffect(()=>{const A=setInterval(()=>k(Math.floor(Date.now()/1e3)),1e3);return()=>clearInterval(A)},[]);const M=(Q=x==null?void 0:x.durations)!=null&&Q.length?x.durations:F_,E=(x==null?void 0:x.payoutRate)??.8,j=S.useCallback(async()=>{var A,z,ee,R,C,O,B,U,se;if(!o){v(null),m("Sign in to trade binary options");return}try{w(!0);const q=await te(o).get("/api/binary-trades/overview",{params:{limit:20}});v(q.data),(z=(A=q.data)==null?void 0:A.open)!=null&&z.length||(R=(ee=q.data)==null?void 0:ee.history)!=null&&R.length?m(""):m("No binary trades yet  place your first position to see results here."),(O=(C=q.data)==null?void 0:C.durations)!=null&&O.length&&!q.data.durations.includes(h)&&d(q.data.durations[0]),(B=q.data)!=null&&B.balance&&(l==null||l(q.data.balance))}catch(q){m(((se=(U=q==null?void 0:q.response)==null?void 0:U.data)==null?void 0:se.error)||"Failed to load binary trades")}finally{w(!1)}},[o,h,l]);S.useEffect(()=>{j();const A=setInterval(()=>j(),5e3);return()=>clearInterval(A)},[j]);const I=S.useMemo(()=>{const A=N;return((x==null?void 0:x.open)||[]).map(z=>({...z,time_left:Math.max(0,Number(z.expiry_ts)-A)}))},[x==null?void 0:x.open,N]),F=S.useMemo(()=>(x==null?void 0:x.history)||[],[x==null?void 0:x.history]),K=(x==null?void 0:x.stats)||{total:0,win:0,lose:0,push:0,net:0},ne=(x==null?void 0:x.balance)||null;if(!o)return c.jsxs("div",{className:"rounded-3xl bg-white text-slate-900 p-4 sm:p-5 space-y-3",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-emerald-500",children:"Binary Options"}),c.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-3 py-2 text-[12px] text-amber-600",children:"Sign in to trade binary options."})]});async function ie(A){var ee,R;if(!o){m("Sign in to trade binary options");return}const z=Number(a);if(!Number.isFinite(z)||z<=0){m("Enter a valid stake");return}y(A),m("");try{await te(o).post("/api/binary-trades",{direction:A,amount:z,duration:h}),await j(),i==null||i()}catch(C){m(((R=(ee=C==null?void 0:C.response)==null?void 0:ee.data)==null?void 0:R.error)||"Unable to place binary trade")}finally{y(null)}}return c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,320px)] items-start",children:[c.jsx(_v,{symbol:s,summary:t,timeframe:e,onTimeframeChange:n,onPriceUpdate:r}),c.jsxs("div",{className:"rounded-3xl bg-white text-slate-900 p-4 sm:p-5 space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-emerald-500",children:"Binary Options"}),c.jsxs("div",{className:"text-sm text-slate-500",children:["Fixed payout ",Math.round(E*100),"%  Instant expiry settlement"]})]}),p&&c.jsx("div",{className:`rounded-2xl border px-3 py-2 text-[12px] ${p.includes("Failed")?"border-rose-200 bg-rose-50 text-rose-600":p.includes("Sign in")?"border-amber-200 bg-amber-50 text-amber-600":p.includes("No binary trades")?"border-slate-200 bg-slate-50 text-slate-600":"border-emerald-200 bg-emerald-50 text-emerald-600"}`,children:p}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(A=>c.jsx("button",{onClick:()=>d(A),className:`rounded-full border px-3 py-1.5 text-[11px] font-semibold transition ${h===A?"border-emerald-500 bg-emerald-100 text-emerald-700":"border-slate-200 bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:A>=60?`${A/60}m`:`${A}s`},A))}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.14em] text-slate-500",children:"Stake (USD)"}),c.jsx("input",{type:"number",min:"1",step:"1",value:a,onChange:A=>u(A.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-400",disabled:!o})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{onClick:()=>ie("call"),disabled:f==="call"||!o,className:"rounded-2xl bg-emerald-500 hover:bg-emerald-400 text-white font-semibold py-2 transition disabled:opacity-70",children:f==="call"?"Placing":"Call ()"}),c.jsx("button",{onClick:()=>ie("put"),disabled:f==="put"||!o,className:"rounded-2xl bg-rose-500 hover:bg-rose-400 text-white font-semibold py-2 transition disabled:opacity-70",children:f==="put"?"Placing":"Put ()"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[12px] rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.14em] text-slate-500",children:"Available"}),c.jsx("div",{className:"font-semibold",children:ne?Wt(ne.available):"--"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.14em] text-slate-500",children:"Locked"}),c.jsx("div",{className:"font-semibold",children:ne?Wt(ne.locked):"--"})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-[12px] text-slate-600",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Trades"}),c.jsx("span",{children:K.total})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Wins"}),c.jsx("span",{className:"text-emerald-500 font-semibold",children:K.win})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Losses"}),c.jsx("span",{className:"text-rose-500 font-semibold",children:K.lose})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Push"}),c.jsx("span",{children:K.push})]}),c.jsxs("div",{className:"mt-2 border-t border-slate-200 pt-2 flex justify-between font-semibold",children:[c.jsx("span",{children:"Net Payout"}),c.jsx("span",{className:K.net>=0?"text-emerald-500":"text-rose-500",children:Wt(K.net)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-500",children:"Open positions"}),c.jsxs("div",{className:"space-y-2",children:[I.length===0&&c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-[12px] text-slate-500",children:"No open positions."}),I.map(A=>c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-[12px] flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:A.direction==="call"?c.jsx("span",{className:"text-emerald-500",children:"Call "}):c.jsx("span",{className:"text-rose-500",children:"Put "})}),c.jsxs("div",{className:"text-slate-500",children:["Stake ",Wt(A.stake)]}),c.jsxs("div",{className:"text-slate-500",children:["Potential ",Wt(A.potential_return)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-400",children:"Time Left"}),c.jsx("div",{className:"font-semibold text-slate-700",children:A_(A.time_left)}),c.jsxs("div",{className:"text-[11px] text-slate-400",children:["Entry ",Wt(A.entry_price)]})]})]},A.id))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.16em] text-slate-500",children:"Recent results"}),c.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-1",children:[F.length===0&&c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2 text-[12px] text-slate-500",children:"No settlements yet."}),F.map(A=>c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-[12px] flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-slate-700",children:new Date((A.settled_ts||A.expiry_ts)*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),c.jsx("div",{className:"text-slate-500 capitalize",children:A.direction})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`font-semibold ${A.result==="win"?"text-emerald-500":A.result==="lose"?"text-rose-500":A.result==="push"?"text-slate-500":"text-slate-400"}`,children:A.result==="win"?`+${Wt(A.payout)}`:A.result==="lose"?`-${Wt(A.stake)}`:A.result==="push"?"Push":"Pending"}),c.jsxs("div",{className:"text-[11px] text-slate-400",children:["Close ",Wt(A.settlement_price??A.entry_price)]})]})]},A.id))]})]}),g&&c.jsx("div",{className:"text-[11px] text-slate-400 text-right",children:"Refreshing"})]})]})}const V_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function zf(t){const e=Number(t);return Number.isFinite(e)?V_.format(e):"$0.00"}function Of(t){const e=Number(t);return Number.isFinite(e)?Math.abs(e)>=1?e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):e.toFixed(6):"0.0000"}function I_({onSelectPrice:t}){const{token:e}=gt(),[n,i]=S.useState([]),[s,r]=S.useState(""),[l,o]=S.useState(!1),[a,u]=S.useState(""),[h,d]=S.useState("buy"),[f,y]=S.useState("limit"),[p,m]=S.useState(""),[x,v]=S.useState(""),[g,w]=S.useState(0),[N,k]=S.useState(!1),[M,E]=S.useState(!1),[j,I]=S.useState("orders"),[F,K]=S.useState(!1),ne=[25,50,75,100],ie=S.useRef(0),Q=S.useMemo(()=>[{key:"orders",label:"Open Orders (0)",headers:["Pair","Type","Price","Amount","Filled","Status"],description:"No open orders yet. Submit a trade to see it appear here instantly."},{key:"holdings",label:"Holdings",headers:["Asset","Balance","Available","Value (USDT)"],description:"Connect your spot wallet to track balances and mark-to-market values."},{key:"grid",label:"Spot Grid",headers:[],description:"Grid trading unlocks soon. Configure price bands and auto-orders once released."}],[]),A=S.useMemo(()=>["Convert","Spot","Margin","Bots","Copy","Buy","P2P"],[]);S.useEffect(()=>{async function L(){var Re,ke,be;try{o(!0);const yt=((Re=(await te(e).get("/api/spot/markets")).data)==null?void 0:Re.markets)||[];i(yt),yt.length&&r(ri=>ri||yt[0].symbol),u("")}catch(ge){u(((be=(ke=ge==null?void 0:ge.response)==null?void 0:ke.data)==null?void 0:be.error)||"Failed to load spot markets")}finally{o(!1)}}L();const J=setInterval(L,45e3);return()=>clearInterval(J)},[e]),S.useEffect(()=>{const L=n.find(J=>J.symbol===s);L&&(m(String(L.price)),t==null||t(L),ie.current>0&&v(ee(ie.current,L)))},[s,n,t]),S.useEffect(()=>{ie.current=g},[g]);const z=S.useMemo(()=>n.find(L=>L.symbol===s)||null,[n,s]);function ee(L,J=z){if(!J)return"0.0000";const Re=Number(J.price);if(!Number.isFinite(Re)||Re<=0)return(L/100).toFixed(4);const ke=L/100*(1/Re);return!Number.isFinite(ke)||ke<=0?"0.0000":ke>=1?ke.toFixed(4):ke.toFixed(6)}const R=S.useMemo(()=>({background:`linear-gradient(90deg, rgba(16,185,129,0.8) 0%, rgba(16,185,129,0.8) ${g}%, rgba(226,232,240,0.8) ${g}%, rgba(226,232,240,0.8) 100%)`}),[g]);function C(L){const J=Math.min(100,Math.max(0,L));w(J),v(ee(J))}function O(L){C(L)}function B(L){r(L),K(!1)}const U=S.useMemo(()=>{if(!z)return{asks:[],bids:[]};const L=Number(z.price)||0,J=Array.from({length:12}).map((ke,be)=>{const ge=L*(1+(be+1)*8e-4),yt=Math.max(5e-4,L/ge)*(1+be*.2);return{price:ge,amount:yt}}),Re=Array.from({length:12}).map((ke,be)=>{const ge=L*(1-(be+1)*8e-4),yt=Math.max(5e-4,L/ge)*(1+be*.2);return{price:ge,amount:yt}});return{asks:J.reverse(),bids:Re}},[z]),se=z&&Number(z.change_24h)>=0?"text-emerald-500":"text-rose-500",q=S.useMemo(()=>{const L=Number(p),J=Number(x||g/100*1);return!Number.isFinite(L)||!Number.isFinite(J)?"0.00":(L*J).toFixed(2)},[p,x,g]),oe=S.useMemo(()=>Q.find(L=>L.key===j)||Q[0],[Q,j]);function Ve(){if(!oe)return null;if(oe.key==="grid")return c.jsx("div",{className:"rounded-2xl border border-dashed border-emerald-200 bg-emerald-50 px-6 py-8 text-center text-sm text-emerald-600 shadow-inner",children:oe.description});const L=oe.headers.length||1;return c.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full table-auto text-sm text-slate-600",children:[c.jsx("thead",{className:"bg-slate-100 text-[11px] uppercase tracking-[0.12em] text-slate-400",children:c.jsx("tr",{children:oe.headers.map(J=>c.jsx("th",{className:`px-4 py-3 font-semibold ${J==="Pair"||J==="Asset"?"text-left":"text-right"}`,children:J},J))})}),c.jsx("tbody",{children:c.jsx("tr",{children:c.jsx("td",{colSpan:L,className:"px-4 py-10 text-center text-sm text-slate-400",children:oe.description})})})]})})})}return c.jsxs("div",{className:"space-y-6 text-slate-900 max-w-full overflow-x-hidden",children:[c.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 space-y-5",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-[11px] uppercase tracking-[0.14em] text-slate-400",children:[c.jsx("nav",{className:"flex w-full flex-wrap items-center justify-center gap-x-3 gap-y-2 sm:w-auto sm:justify-start",children:A.map(L=>c.jsx("span",{className:`cursor-pointer transition ${L==="Spot"?"text-emerald-500 font-semibold":"hover:text-slate-700"}`,children:L},L))}),l&&c.jsx("div",{className:"text-[11px] text-slate-500",children:"Refreshing"})]}),c.jsx("div",{className:"text-sm text-slate-500",children:"Top 100 Binance pairs mirrored for demo trading."}),a&&c.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-3 py-2 text-[12px] text-rose-600",children:a}),c.jsxs("div",{className:"grid w-full gap-4 lg:grid-cols-1 xl:grid-cols-[minmax(0,1fr)_minmax(0,320px)] items-start",children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white w-full overflow-hidden min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 text-[11px] uppercase tracking-[0.16em] text-slate-500 border-b border-slate-200",children:[c.jsx("span",{children:"Order Book"}),c.jsx("div",{className:"text-[10px] text-slate-400",children:"Depth  Demo"})]}),c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsx("div",{className:"space-y-1",children:U.asks.map((L,J)=>c.jsxs("div",{className:"flex items-center justify-between text-[12px] text-rose-500",children:[c.jsx("span",{className:"font-semibold",children:L.price.toFixed(2)}),c.jsx("span",{children:Of(L.amount)})]},`ask-${J}`))}),c.jsxs("div",{className:"py-3 border-y border-slate-200 text-center space-y-1",children:[c.jsx("div",{className:"text-xl font-bold tracking-tight text-slate-900",children:z?z.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"--"}),c.jsx("div",{className:`text-[12px] font-semibold ${se}`,children:z?`${Number(z.change_24h)>=0?"+":""}${Number(z.change_24h).toFixed(2)}%`:"--"})]}),c.jsx("div",{className:"space-y-1",children:U.bids.map((L,J)=>c.jsxs("div",{className:"flex items-center justify-between text-[12px] text-emerald-500",children:[c.jsx("span",{className:"font-semibold",children:L.price.toFixed(2)}),c.jsx("span",{children:Of(L.amount)})]},`bid-${J}`))})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 space-y-4 w-full overflow-hidden min-w-0",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-start sm:justify-between",children:[c.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-auto sm:min-w-[220px]",children:[c.jsxs("button",{type:"button",onClick:()=>K(!0),className:"inline-flex w-full items-center justify-between gap-3 rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 outline-none transition hover:border-emerald-300 focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200 sm:w-56",children:[c.jsx("span",{children:s||"Select pair"}),c.jsx("span",{className:"text-xs text-slate-400",children:""})]}),z&&c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:["24h Change",c.jsxs("span",{className:`font-semibold ${se}`,children:[Number(z.change_24h)>=0?"+":"",Number(z.change_24h).toFixed(2),"%"]})]}),c.jsxs("span",{className:"flex items-center gap-1",children:["Volume",c.jsx("span",{className:"font-semibold text-slate-700",children:zf(z.volume_24h)})]})]})]}),z&&c.jsxs("div",{className:"order-3 w-full space-y-1 text-left sm:order-none sm:w-auto sm:text-right sm:min-w-[160px]",children:[c.jsx("div",{className:"text-2xl font-semibold text-slate-900",children:z.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}),c.jsxs("div",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:["Last Price (",z.quote_asset,")"]})]})]}),c.jsxs("div",{className:"flex w-full rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] uppercase tracking-[0.12em] font-semibold",children:[c.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 transition ${h==="buy"?"bg-emerald-500 text-white shadow":"text-slate-600 hover:text-emerald-500"}`,onClick:()=>d("buy"),children:"Buy"}),c.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 transition ${h==="sell"?"bg-rose-500 text-white shadow":"text-slate-600 hover:text-rose-500"}`,onClick:()=>d("sell"),children:"Sell"})]}),c.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-slate-200 bg-slate-50 p-1 text-[11px] uppercase tracking-[0.12em] text-slate-500",children:[c.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 font-semibold transition ${f==="limit"?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:text-slate-900"}`,onClick:()=>y("limit"),children:"Limit"}),c.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 font-semibold transition ${f==="market"?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:text-slate-900"}`,onClick:()=>y("market"),children:"Market"}),c.jsx("button",{type:"button",className:`flex-1 rounded-full px-3 py-1.5 font-semibold transition ${f==="stop"?"bg-slate-900 text-white shadow-sm":"text-slate-600 hover:text-slate-900"}`,onClick:()=>y("stop"),children:"Stop"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-xs text-slate-500 uppercase tracking-[0.12em]",children:["Price (",(z==null?void 0:z.quote_asset)||"USDT",")"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{value:p,onChange:L=>m(L.target.value),className:"flex-1 rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 text-sm font-medium text-slate-700 outline-none transition focus:border-emerald-400 focus:bg-white focus:ring-2 focus:ring-emerald-200",placeholder:"0.00"}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("button",{type:"button",className:"rounded-full border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-500 transition hover:border-emerald-300 hover:text-emerald-600",onClick:()=>m(L=>String(Number(L||(z==null?void 0:z.price)||0)+1)),children:"+"}),c.jsx("button",{type:"button",className:"rounded-full border border-slate-200 bg-white px-2 py-1 text-xs font-semibold text-slate-500 transition hover:border-rose-300 hover:text-rose-500",onClick:()=>m(L=>String(Math.max(0,Number(L||(z==null?void 0:z.price)||0)-1))),children:"-"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-xs text-slate-500 uppercase tracking-[0.12em]",children:["Amount (",(z==null?void 0:z.base_asset)||"BTC",")"]}),c.jsx("input",{value:x,onChange:L=>v(L.target.value),className:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-3 py-2.5 text-sm font-medium text-slate-700 outline-none transition focus:border-emerald-400 focus:bg-white focus:ring-2 focus:ring-emerald-200",placeholder:"0.00"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[c.jsx("span",{children:"Amount Slider"}),c.jsxs("span",{children:[g,"%"]})]}),c.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:g,onChange:L=>C(Number(L.target.value)),style:R,className:"w-full h-2 cursor-pointer rounded-full border-none bg-slate-200 outline-none transition focus:ring-2 focus:ring-emerald-300"}),c.jsx("div",{className:"flex items-center justify-between gap-2",children:ne.map(L=>c.jsxs("button",{type:"button",onClick:()=>O(L),className:`flex-1 rounded-full border text-xs font-semibold transition ${g===L?"border-emerald-400 bg-emerald-50 text-emerald-600 shadow-sm":"border-slate-200 bg-white text-slate-500 hover:border-emerald-300 hover:text-emerald-500"}`,children:[L,"%"]},L))})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-xs text-slate-500 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-semibold uppercase tracking-[0.12em] text-slate-400",children:[c.jsx("span",{children:"Order Settings"}),c.jsx("span",{children:f==="market"?"Market":"Limit"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("label",{className:"inline-flex items-center gap-2 font-semibold text-slate-600",children:[c.jsx("input",{type:"checkbox",checked:N,onChange:L=>k(L.target.checked)})," TP/SL"]}),c.jsxs("label",{className:"inline-flex items-center gap-2 font-semibold text-slate-600",children:[c.jsx("input",{type:"checkbox",checked:M,onChange:L=>E(L.target.checked)})," Iceberg"]})]}),c.jsxs("dl",{className:"grid grid-cols-2 gap-x-6 gap-y-2 text-[13px] text-slate-600",children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:"Available"}),c.jsx("dd",{className:"font-semibold text-slate-700",children:""})]}),c.jsxs("div",{className:"space-y-0.5 text-right",children:[c.jsx("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:h==="buy"?"Max Buy":"Max Sell"}),c.jsx("dd",{className:"font-semibold text-slate-700",children:""})]}),c.jsxs("div",{className:"space-y-0.5",children:[c.jsx("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:"Est. Fee"}),c.jsx("dd",{className:"font-semibold text-slate-700",children:""})]}),c.jsxs("div",{className:"space-y-0.5 text-right",children:[c.jsxs("dt",{className:"text-[11px] uppercase tracking-[0.12em] text-slate-400",children:["Total (",(z==null?void 0:z.quote_asset)||"USDT",")"]}),c.jsx("dd",{className:"text-sm font-bold text-slate-900",children:q})]})]})]}),c.jsx("button",{type:"button",className:`w-full rounded-2xl py-3 text-sm font-semibold text-white transition ${h==="buy"?"bg-gradient-to-r from-emerald-500 to-emerald-400 hover:brightness-110":"bg-gradient-to-r from-rose-500 to-rose-400 hover:brightness-110"}`,onClick:()=>alert("Spot trading engine is under development. This action will be enabled in a later step."),children:h==="buy"?`Buy ${(z==null?void 0:z.base_asset)||""}`:`Sell ${(z==null?void 0:z.base_asset)||""}`})]})]})]}),c.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white text-slate-900 p-4 sm:p-5 space-y-4 w-full overflow-hidden",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-b border-slate-200 pb-1",children:[c.jsx("nav",{className:"flex w-full flex-wrap items-center justify-center gap-3 text-sm font-semibold sm:w-auto sm:justify-start",children:Q.map(L=>c.jsxs("button",{type:"button",onClick:()=>I(L.key),className:`relative pb-3 transition ${j===L.key?"text-emerald-500":"text-slate-500 hover:text-slate-700"}`,children:[L.label,j===L.key&&c.jsx("span",{className:"absolute inset-x-0 -bottom-px h-[2px] rounded-full bg-emerald-500"})]},L.key))}),c.jsx("button",{type:"button",className:"text-xs font-semibold uppercase tracking-[0.16em] text-slate-400 hover:text-emerald-500",children:"Export CSV"})]}),Ve()]}),F&&c.jsx("div",{className:"fixed inset-0 z-50 flex flex-col bg-slate-900/50 backdrop-blur-sm",children:c.jsxs("div",{className:"mt-auto rounded-t-3xl border-t border-slate-200 bg-white shadow-xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-5 py-4 text-slate-900",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold",children:"Markets"}),c.jsx("div",{className:"text-[12px] text-slate-500",children:"Select from the full pair list"})]}),c.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-full border border-slate-200 p-2 text-slate-400 hover:text-slate-600",children:""})]}),c.jsx("div",{className:"max-h-[65vh] overflow-y-auto px-5 pb-6 space-y-2",children:n.map(L=>{const J=Number(L.change_24h),Re=Number.isFinite(J)?J>=0?"text-emerald-500":"text-rose-500":"text-slate-400",ke=s===L.symbol;return c.jsxs("button",{onClick:()=>B(L.symbol),className:`flex w-full items-center justify-between rounded-2xl border px-4 py-3 text-left text-sm transition ${ke?"border-emerald-300 bg-emerald-50 text-emerald-700 shadow-sm":"border-slate-200 bg-white text-slate-700 hover:border-emerald-200"}`,children:[c.jsxs("span",{className:"flex items-center gap-3",children:[c.jsx("img",{src:L.logo_url,alt:L.base_asset,className:"h-8 w-8 rounded-full border border-slate-100 bg-white object-contain",onError:be=>{be.currentTarget.style.visibility="hidden"}}),c.jsxs("span",{className:"flex flex-col",children:[c.jsx("span",{className:"font-semibold",children:L.symbol}),c.jsx("span",{className:"text-[12px] text-slate-400",children:zf(L.price)})]})]}),c.jsx("span",{className:`text-sm font-semibold ${Re}`,children:Number.isFinite(J)?`${J>=0?"+":""}${J.toFixed(2)}%`:"--"})]},L.symbol)})})]})})]})}function U_(){const{token:t}=gt(),[e,n]=S.useState(null),[i,s]=S.useState(!1);if(S.useEffect(()=>{if(!t){n(null);return}let o=!0;return te(t).get("/api/referrals").then(a=>{o&&n(a.data)}).catch(a=>{console.error("Failed to load referrals",a)}),()=>{o=!1}},[t]),!e)return null;const r=typeof window<"u"?`${window.location.origin}/signup?ref=${e.referral_code}`:e.referral_code,l=async()=>{if(!(typeof navigator>"u"||!navigator.clipboard))try{await navigator.clipboard.writeText(r),s(!0),setTimeout(()=>s(!1),2e3)}catch(o){console.error("Failed to copy referral link",o)}};return c.jsxs("div",{className:"card space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.2em] text-white/45",children:"Referral"}),c.jsx("div",{className:"text-lg font-semibold",children:"Share & earn"})]}),c.jsx("p",{className:"text-[12px] text-white/60",children:"Invite friends and receive bonuses when they start trading."}),c.jsx("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-2 text-[12px] font-mono break-all",children:r}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[12px]",children:[c.jsxs("span",{className:"text-white/60",children:["Total referred: ",c.jsx("span",{className:"text-brand font-semibold",children:e.referred_count})]}),c.jsx("button",{type:"button",onClick:l,className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/10 transition",children:i?"Copied!":"Copy link"})]})]})}const W_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function H_(){const[t,e]=S.useState([]);return S.useEffect(()=>{te().get("/api/trades/leaderboard").then(n=>e(n.data||[])).catch(n=>console.error("Failed to load leaderboard",n))},[]),c.jsxs("div",{className:"card space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.2em] text-white/45",children:"Top Traders"}),c.jsx("div",{className:"text-lg font-semibold",children:"Leaderboard"})]}),c.jsxs("span",{className:"text-[11px] text-white/50",children:[t.length," entries"]})]}),t.length===0?c.jsx("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-4 text-center text-[12px] text-white/55",children:"No leaderboard entries yet."}):c.jsx("div",{className:"space-y-2",children:t.map((n,i)=>{const s=Number(n.realized_pnl||0),r=s>=0?"text-emerald-400":"text-rose-400";return c.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/5 bg-black/15 px-3 py-2.5 text-[13px]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"w-6 text-[12px] text-white/45 font-medium",children:["#",i+1]}),c.jsx("span",{className:"font-semibold text-white/80",children:n.handle||n.email||"anon"})]}),c.jsx("div",{className:`font-mono ${r}`,children:W_.format(s)})]},n.user_id??i)})})]})}const q_=(()=>{if(typeof window<"u"){const{protocol:t,hostname:e}=window.location;return`${t}//${e}:4000`}return"http://localhost:4000"})(),K_=q_,X_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function $t(t){const e=Number(t);if(!Number.isFinite(e))return"$0.00";const n=Math.abs(e);return n>0&&n<.01?`${e<0?"-":""}$${n.toFixed(4)}`:X_.format(e)}function Q_(){const{token:t}=gt(),[e,n]=S.useState(null),[i,s]=S.useState(null),[r,l]=S.useState([]),[o,a]=S.useState([]),[u,h]=S.useState({available:0,locked:0,total:0}),[d,f]=S.useState(0),[y,p]=S.useState(0),[m,x]=S.useState(0),[v,g]=S.useState(1e4),[w,N]=S.useState(!1),[k,M]=S.useState(1e-4),[E,j]=S.useState(!1),[I,F]=S.useState([]),[K,ne]=S.useState(0),[ie,Q]=S.useState(0),[A,z]=S.useState(null),ee=In(b=>b.setSummary),R=In(b=>b.clear),[C,O]=S.useState("1m"),[B,U]=S.useState("forex");S.useEffect(()=>{async function b(){try{const D=await(await fetch(`${K_}/api/market/state`)).json();n(D),s((D==null?void 0:D.currentPrice)??null)}catch(V){console.error("Failed to load market state",V)}}b()},[]);const se=S.useCallback(b=>{b&&(b.currentPrice!=null&&s(b.currentPrice),b.openTrades&&l(b.openTrades),b.recentTrades&&a(b.recentTrades),b.balance&&h({available:Number(b.balance.available??0),locked:Number(b.balance.locked??0),total:Number(b.balance.total??Number(b.balance.available??0)+Number(b.balance.locked??0))}),b.equity!=null&&f(Number(b.equity)),b.openPnl!=null&&p(Number(b.openPnl)),b.openPips!=null&&x(Number(b.openPips)),b.initialBalance!=null&&g(Number(b.initialBalance)),b.pipSize!=null&&M(Number(b.pipSize)),b.marginUsed!=null&&ne(Number(b.marginUsed)),b.freeMargin!=null&&Q(Number(b.freeMargin)),b.marginLevel!=null&&z(Number(b.marginLevel)),ee(b))},[ee]),q=S.useCallback(async()=>{if(!t){l([]),a([]),h({available:0,locked:0,total:0}),f(0),p(0),x(0),ne(0),Q(0),z(null),R();return}N(!0);try{const b=await te(t).get("/api/trades/overview",{params:{limit:10}});se(b.data)}catch(b){console.error("Failed to load trades",b)}finally{N(!1)}},[t,se,R]),oe=S.useCallback(b=>{if(!b)return;const V=Number(b.available??0),D=Number(b.locked??0),W=b.total!=null?Number(b.total):V+D,Z=Math.round(W*100)/100,de=Math.round((Z-D)*100)/100,Te=D>0?Math.round(Z/D*100*100)/100:null;h({available:V,locked:D,total:Z}),f(Z),ne(Math.round(D*100)/100),Q(de),z(Te);const xt=In.getState().summary||{};ee({...xt,balance:{available:V,locked:D,total:Z},equity:Z,marginUsed:Math.round(D*100)/100,freeMargin:de,marginLevel:Te})},[ee]);S.useEffect(()=>{t&&q()},[t,q]),S.useEffect(()=>{if(!Number.isFinite(i)){p(0),x(0),f(Number((u.available+u.locked).toFixed(2)));return}let b=0,V=0;for(const W of r){const Z=Number(W.qty||0),de=Number(W.remaining_qty??Z);if(!Z||!de)continue;const Te=Number(W.price||0),xt=W.side==="sell"?-1:1,Xe=Number(W.pip_size??k),Tt=Xe>0?(i-Te)/Xe*xt:0,Ie=Number(W.pip_value??de/Z),Pt=Tt*Ie;V+=Pt,b+=Pt}const D=u.available+u.locked+b;p(Number(b.toFixed(2))),x(Number(V.toFixed(2))),f(Number(D.toFixed(2)))},[i,r,u,k]);const Ve=i??(e==null?void 0:e.currentPrice),L=Number(Ve),J=Number((e==null?void 0:e.volatility)??0),Re=!!(e!=null&&e.paused),ke=e!=null&&e.updated_at?new Date(e.updated_at):null,be=Number.isFinite(J)?`${(J*100).toFixed(1)}%`:"--",ge=ke?`${ke.toLocaleDateString()} ${ke.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"--",yt=Re?"Paused":"Live",ri=[{label:"Pair",value:`${(e==null?void 0:e.symbol)||"BTCUSDT"}  Spot`,tone:"muted"},{label:"Price",value:Number.isFinite(L)?L.toFixed(2):"--",tone:"primary",monospace:!0},{label:"Market",value:yt,tone:Re?"danger":"success"},{label:"Updated",value:ge,tone:"muted"}],li=S.useMemo(()=>(o||[]).map(b=>{const V=Number(b.qty||0),D=Number(b.remaining_qty??V),W=b.status==="open"&&D>1e-8,Z=Number(b.price||0),de=Number(b.exit_price||b.price||0),Te=Number(b.pip_size??k),xt=Number(b.notional??Z*V),Xe=Number(b.stake_amount??xt),Tt=Number(b.pip_value??(W?Xe:0)),Ie=W&&Number.isFinite(i)?i:de,Pt=b.side==="sell"?-1:1,rn=Te>0?(Ie-Z)/Te*Pt:0,Qi=W?rn:Number(b.pips_realized??rn),kv=W?rn*Tt:Number(b.pnl??Qi*Xe),Ev=Number(b.pips_realized??0);return{...b,qty:V,remaining:D,isOpen:W,stakeAmount:Xe,remainingStake:Tt,totalNotional:xt,pipValue:Tt,realizedPips:Ev,displayPrice:Number.isFinite(Ie)?Ie:null,livePnl:kv,livePips:Qi}}),[o,i,k]),Xi=S.useMemo(()=>new Set(I),[I]),cr=r.some(b=>Number(b.remaining_qty||0)>1e-8),mo=Number.isFinite(m)?`${m>=0?"+":""}${m.toFixed(2)} pips`:"--",vo=[{label:"Balance",value:u.total,accentClass:"text-white"},{label:"Available",value:u.available,accentClass:"text-emerald-400"},{label:"Equity",value:d,accentClass:"text-white"},{label:"Margin Used",value:K,accentClass:"text-sky-300"},{label:"Free Margin",value:ie,accentClass:"text-emerald-400"},{label:"Open P/L",value:y,accentClass:y>=0?"text-emerald-400":"text-rose-400",secondary:mo},{label:"Margin Level",value:A,formatter:b=>b==null?"":`${Number(b).toFixed(2)}%`}];function go({label:b,value:V,accentClass:D="",secondary:W,formatter:Z=$t}){const de=Z?Z(V):V;return c.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/20 px-3 py-3 sm:px-4 sm:py-4 flex flex-col gap-1.5",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:b}),c.jsx("div",{className:`text-sm sm:text-base font-mono leading-tight ${D}`,children:de??"--"}),W!=null&&c.jsx("div",{className:"text-[11px] text-white/55 leading-tight",children:W})]},b)}async function hr(b){if(!(!t||Xi.has(b))){F(V=>[...V,b]);try{const V=await te(t).post(`/api/trades/${b}/close`);se(V.data)}catch(V){console.error("Failed to close trade",V)}finally{F(V=>V.filter(D=>D!==b))}}}async function yo(){if(!(!t||!cr)){j(!0);try{const b=await te(t).post("/api/trades/close-all");se(b.data),F([])}catch(b){console.error("Failed to close all trades",b)}finally{j(!1)}}}return c.jsxs("div",{className:"grid gap-4 lg:gap-5 xl:grid-cols-[minmax(0,1.85fr)_minmax(0,1fr)]",children:[c.jsxs("div",{className:"space-y-4 lg:space-y-5",children:[c.jsxs("section",{className:"space-y-4 md:space-y-5",children:[c.jsx("div",{className:"flex items-center gap-1.5 text-xs font-semibold uppercase tracking-[0.22em] text-white/50",children:[{key:"forex",label:"Forex"},{key:"binary",label:"Binary"},{key:"spot",label:"Spot"},{key:"web3",label:"Web3"}].map(({key:b,label:V})=>c.jsx("button",{onClick:()=>U(b),className:`rounded-full border px-3 py-1.5 transition ${B===b?"border-brand/80 bg-brand text-black shadow-[0_12px_24px_rgba(0,223,154,0.35)]":"border-white/15 bg-white/5 text-white/70 hover:bg-white/10"}`,children:V},b))}),B==="forex"&&c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,320px)] items-start",children:[c.jsx(_v,{symbol:(e==null?void 0:e.symbol)||"BTCUSDT",trades:r,onPriceUpdate:s,timeframe:C,onTimeframeChange:O,summary:ri}),c.jsxs("div",{className:"rounded-3xl border border-white/10 bg-black/20 p-4 sm:p-5",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-white/60 mb-3",children:"Forex Order"}),c.jsx($_,{variant:"embedded",onPlaced:b=>{se(b)}})]})]}),B==="binary"&&c.jsx(B_,{summary:ri,timeframe:C,onTimeframeChange:O,onAccountRefresh:q,symbol:(e==null?void 0:e.symbol)||"BTCUSDT",onPriceUpdate:s,onBalanceSnapshot:oe}),B==="spot"&&c.jsx(I_,{onSelectPrice:b=>{s((b==null?void 0:b.price)??i)}}),B==="web3"&&c.jsx("div",{className:"rounded-3xl border border-white/10 bg-black/20 p-6 text-sm text-white/60",children:"Web3 trading module is on the way."})]}),c.jsxs("section",{className:"card space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:"Account"}),c.jsx("div",{className:"text-lg font-semibold text-white/90",children:"Demo Balance"}),c.jsxs("div",{className:"text-[11px] text-white/55",children:["Initial deposit ",$t(v)]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px] sm:text-xs sm:min-w-[240px]",children:[c.jsxs("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-[0.16em] text-white/45",children:"Pip Size"}),c.jsx("div",{className:"font-mono text-sm",children:k})]}),c.jsxs("div",{className:"rounded-xl border border-white/5 bg-black/15 px-3 py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-[0.16em] text-white/45",children:"Volatility"}),c.jsx("div",{className:"font-mono text-sm",children:be})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 xl:grid-cols-4",children:vo.map(go)})]}),c.jsxs("section",{className:"card space-y-4",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:"Current Orders"}),c.jsx("div",{className:"text-lg font-semibold",children:"Recent Trades"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[w&&c.jsx("span",{className:"text-white/50",children:"Updating"}),cr&&c.jsx("button",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 font-medium hover:bg-white/10 transition disabled:opacity-60",onClick:yo,disabled:E,children:E?"Closing":"Close All"})]})]}),c.jsx("div",{className:"hidden md:block overflow-auto",children:c.jsxs("table",{className:"w-full text-[12px]",children:[c.jsx("thead",{className:"text-white/55 uppercase tracking-[0.12em] text-[10px]",children:c.jsxs("tr",{className:"text-left",children:[c.jsx("th",{className:"p-2",children:"Time"}),c.jsx("th",{className:"p-2",children:"Side"}),c.jsx("th",{className:"p-2 text-right",children:"Amount"}),c.jsx("th",{className:"p-2 text-right",children:"Size"}),c.jsx("th",{className:"p-2 text-right",children:"Entry"}),c.jsx("th",{className:"p-2 text-right",children:"Current"}),c.jsx("th",{className:"p-2 text-right",children:"P/L"}),c.jsx("th",{className:"p-2 text-right",children:"Status"}),c.jsx("th",{className:"p-2 text-right",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-white/5",children:[li.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:9,className:"p-4 text-center text-white/50",children:"No trades yet."})}),li.map(b=>{var Ie,Pt,rn,Qi;const V=b.created_at?new Date(b.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",D=Number.isFinite(b.remaining)&&b.isOpen?`${b.remaining.toFixed(6)} / ${b.qty.toFixed(6)}`:b.qty.toFixed(6),W=b.displayPrice!=null?b.displayPrice.toFixed(2):"--",Z=Number.isFinite(b.livePnl)?b.livePnl:0,de=b.isOpen?b.livePips:b.realizedPips,Te=Number.isFinite(de)?de:0,xt=Z>=0?"text-emerald-400":"text-rose-400",Xe=Xi.has(b.id),Tt=b.isOpen&&b.stakeAmount?`${$t(b.remainingStake)} / ${$t(b.stakeAmount)}`:$t(b.stakeAmount||b.remainingStake);return c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 text-white/70",children:V}),c.jsx("td",{className:`p-2 font-semibold ${b.side==="buy"?"text-emerald-400":"text-rose-400"}`,children:((Pt=(Ie=b.side)==null?void 0:Ie.toUpperCase)==null?void 0:Pt.call(Ie))||b.side}),c.jsx("td",{className:"p-2 text-right font-mono",children:Tt}),c.jsx("td",{className:"p-2 text-right font-mono",children:D}),c.jsx("td",{className:"p-2 text-right font-mono",children:((Qi=(rn=b.price)==null?void 0:rn.toFixed)==null?void 0:Qi.call(rn,2))??"--"}),c.jsx("td",{className:"p-2 text-right font-mono",children:W}),c.jsxs("td",{className:`p-2 text-right font-mono ${xt}`,children:[c.jsx("div",{children:$t(Z)}),c.jsxs("div",{className:"text-[10px] text-white/55",children:[Te>=0?"+":"",Te.toFixed(2)," pips"]})]}),c.jsx("td",{className:"p-2 text-right text-white/50",children:b.isOpen?"Open":"Closed"}),c.jsx("td",{className:"p-2 text-right",children:b.isOpen?c.jsx("button",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-[11px] font-medium hover:bg-white/10 transition disabled:opacity-60",onClick:()=>hr(b.id),disabled:Xe,children:Xe?"Closing":"Close"}):c.jsx("span",{className:"text-white/35 text-[11px]",children:""})})]},b.id)})]})]})}),c.jsxs("div",{className:"space-y-3 md:hidden",children:[li.length===0&&c.jsx("div",{className:"text-center text-white/50 text-[12px]",children:"No trades yet."}),li.map(b=>{var Xe,Tt,Ie,Pt;const V=b.created_at?new Date(b.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--",D=Number.isFinite(b.remaining)&&b.isOpen?`${b.remaining.toFixed(5)} / ${b.qty.toFixed(5)}`:b.qty.toFixed(5),W=Number.isFinite(b.livePnl)?b.livePnl:0,Z=b.isOpen?b.livePips:b.realizedPips,de=Number.isFinite(Z)?Z:0,Te=W>=0?"text-emerald-400":"text-rose-400",xt=Xi.has(b.id);return c.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/15 p-3 space-y-2 text-[11px]",children:[c.jsxs("div",{className:"flex justify-between text-white/50 text-[10px] uppercase tracking-[0.12em]",children:[c.jsx("span",{children:V}),c.jsx("span",{children:b.isOpen?"Open":"Closed"})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:`font-semibold ${b.side==="buy"?"text-emerald-400":"text-rose-400"}`,children:((Tt=(Xe=b.side)==null?void 0:Xe.toUpperCase)==null?void 0:Tt.call(Xe))||b.side}),c.jsx("div",{className:"text-white/60 text-[11px]",children:D})]}),c.jsxs("div",{className:"text-white/55 text-[10px]",children:["Entry ",((Pt=(Ie=b.price)==null?void 0:Ie.toFixed)==null?void 0:Pt.call(Ie,2))??"--","  Current ",b.displayPrice!=null?b.displayPrice.toFixed(2):"--"]}),c.jsxs("div",{className:"flex items-end justify-between gap-3",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-white/45 text-[9px] uppercase tracking-[0.14em]",children:"Amount"}),c.jsx("div",{className:"font-mono text-[11px]",children:b.isOpen&&b.stakeAmount?`${$t(b.remainingStake)} / ${$t(b.stakeAmount)}`:$t(b.stakeAmount||b.remainingStake)})]}),c.jsxs("div",{className:`font-mono text-right ${Te}`,children:[c.jsx("div",{children:$t(W)}),c.jsxs("div",{className:"text-[9px] text-white/55",children:[de>=0?"+":"",de.toFixed(2)," pips"]})]}),b.isOpen?c.jsx("button",{className:"inline-flex items-center rounded-full border border-white/10 bg-white/5 px-3 py-1.5 text-[10px] font-medium hover:bg-white/10 transition disabled:opacity-60",onClick:()=>hr(b.id),disabled:xt,children:xt?"...":"Close"}):c.jsx("span",{className:"text-white/35 text-[10px]",children:""})]})]},b.id)})]})]})]}),c.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[c.jsx(H_,{}),c.jsx(U_,{}),c.jsxs("div",{className:"card space-y-2 text-[11px] text-white/65",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-white/45",children:"Notes"}),c.jsx("p",{children:"Market is simulated and may be paused or moved by Admin. This build is for demo/testing."})]})]})]})}function J_(){const{token:t,user:e,login:n}=gt(),[i,s]=S.useState((e==null?void 0:e.name)||""),[r,l]=S.useState((e==null?void 0:e.handle)||""),[o,a]=S.useState("");async function u(){var h,d;a("");try{const f=await te(t).put("/api/me",{name:i,handle:r}),y={...e,...f.data};n(localStorage.getItem("token"),y),a("Saved")}catch(f){a(((d=(h=f==null?void 0:f.response)==null?void 0:h.data)==null?void 0:d.error)||"Failed")}}return c.jsxs("div",{className:"card space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Display name"}),c.jsx("input",{className:"input",value:i,onChange:h=>s(h.target.value)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Handle"}),c.jsx("input",{className:"input",value:r,onChange:h=>l(h.target.value)})]}),c.jsx("button",{className:"btn",onClick:u,children:"Save changes"}),o&&c.jsx("div",{className:"text-xs text-white/60",children:o})]})}function G_(){const{user:t}=gt();return c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsx(J_,{}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"font-bold mb-2",children:"Your account"}),c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("div",{children:["Email: ",c.jsx("span",{className:"text-white/70",children:t==null?void 0:t.email})]}),c.jsxs("div",{children:["Role: ",c.jsx("span",{className:"text-white/70",children:t==null?void 0:t.role})]}),c.jsxs("div",{children:["Referral code: ",c.jsx("span",{className:"text-brand",children:t==null?void 0:t.referral_code})]})]})]})]})}const Y_=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function $f(t){const e=Number(t);return Number.isFinite(e)?Y_.format(e):"$0.00"}function Z_(){const{token:t}=gt(),[e,n]=S.useState([]);return S.useEffect(()=>{te(t).get("/api/trades").then(i=>n(i.data))},[t]),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"text-lg font-bold mb-2",children:"Your trades"}),c.jsx("div",{className:"overflow-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"text-white/60",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-2",children:"Time"}),c.jsx("th",{className:"text-right p-2",children:"Side"}),c.jsx("th",{className:"text-right p-2",children:"Amount ($)"}),c.jsx("th",{className:"text-right p-2",children:"Size"}),c.jsx("th",{className:"text-right p-2",children:"Entry"}),c.jsx("th",{className:"text-right p-2",children:"Exit"}),c.jsx("th",{className:"text-right p-2",children:"Pips"}),c.jsx("th",{className:"text-right p-2",children:"PnL"})]})}),c.jsx("tbody",{children:e.map(i=>{const s=Number(i.qty||0),r=Number(i.stake_amount??i.notional??i.price*s),l=Number(i.pip_size??1e-4),o=Number(i.pip_value??s*l),a=Number(i.pnl??0),u=Number(i.pips_realized??(o>0?a/o:0));return c.jsxs("tr",{className:"border-t border-white/10",children:[c.jsx("td",{className:"p-2",children:new Date(i.created_at).toLocaleString()}),c.jsx("td",{className:"p-2 text-right",children:i.side}),c.jsx("td",{className:"p-2 text-right font-mono",children:$f(r)}),c.jsx("td",{className:"p-2 text-right font-mono",children:s.toFixed(6)}),c.jsx("td",{className:"p-2 text-right font-mono",children:Number(i.price||0).toFixed(2)}),c.jsx("td",{className:"p-2 text-right font-mono",children:Number(i.exit_price??i.price??0).toFixed(2)}),c.jsx("td",{className:"p-2 text-right font-mono",children:`${u>=0?"+":""}${u.toFixed(2)}`}),c.jsx("td",{className:"p-2 text-right font-mono",children:$f(a)})]},i.id)})})]})})]})}function ek(){const{token:t,user:e}=gt(),[n,i]=S.useState(null),[s,r]=S.useState(""),[l,o]=S.useState(""),[a,u]=S.useState(""),[h,d]=S.useState(""),[f,y]=S.useState(""),[p,m]=S.useState(""),[x,v]=S.useState(""),[g,w]=S.useState(""),[N,k]=S.useState(""),[M,E]=S.useState(""),[j,I]=S.useState(""),[F,K]=S.useState(""),[ne,ie]=S.useState(""),[Q,A]=S.useState(""),[z,ee]=S.useState(""),[R,C]=S.useState(!1),[O,B]=S.useState([]),[U,se]=S.useState(""),[q,oe]=S.useState(""),[Ve,L]=S.useState(""),[J,Re]=S.useState(""),[ke,be]=S.useState("");async function ge(){var V,D,W;const b=await te(t).get("/api/admin/market");i(b.data);try{const de=((V=(await te(t).get("/api/spot/markets")).data)==null?void 0:V.markets)||[];if(B(de),de.length){const Te=de[0];se(Te.symbol),oe(String(Te.price)),L(String(Te.change_24h??"")),Re(String(Te.volume_24h??""))}}catch(Z){be(((W=(D=Z==null?void 0:Z.response)==null?void 0:D.data)==null?void 0:W.error)||"Failed to load spot markets")}}S.useEffect(()=>{ge()},[]);async function yt(){var b,V;d("");try{await te(t).post("/api/admin/market/set-price",{price:Number(s)}),d("Price updated"),ge()}catch(D){d(((V=(b=D==null?void 0:D.response)==null?void 0:b.data)==null?void 0:V.error)||"Failed")}}async function ri(){var b,V;d("");try{await te(t).post("/api/admin/market/set-volatility",{volatility:Number(l)}),d("Volatility updated"),ge()}catch(D){d(((V=(b=D==null?void 0:D.response)==null?void 0:b.data)==null?void 0:V.error)||"Failed")}}async function li(){var b,V;d("");try{await te(t).post("/api/admin/market/pump",{percentage:Number(a)}),d("Pump/Dump applied"),ge()}catch(D){d(((V=(b=D==null?void 0:D.response)==null?void 0:b.data)==null?void 0:V.error)||"Failed")}}async function Xi(){await te(t).post("/api/admin/market/pause"),ge()}async function cr(){await te(t).post("/api/admin/market/resume"),ge()}async function mo(){var b,V;v("");try{await te(t).post("/api/admin/users/set-balance",{email:f||void 0,amount:Number(p)}),v("Balance updated"),m("")}catch(D){v(((V=(b=D==null?void 0:D.response)==null?void 0:b.data)==null?void 0:V.error)||"Failed to update balance")}}async function vo(){var b,V;I("");try{await te(t).post("/api/admin/notifications",{title:g,message:N,email:M||void 0}),I("Notification sent"),w(""),k(""),E("")}catch(D){I(((V=(b=D==null?void 0:D.response)==null?void 0:b.data)==null?void 0:V.error)||"Failed to send notification")}}async function go(){var b,V;d(""),C(!0);try{const D={},W=Number(F);F&&Number.isFinite(W)&&W>0&&(D.base_price=W);const Z=Number(ne);ne&&Number.isFinite(Z)&&Z>=0&&Z<=1&&(D.volatility=Z),Q&&Q.trim()&&(D.symbol=Q.trim());const de=Number(z);z&&Number.isFinite(de)&&de>0&&(D.pip_size=de),await te(t).post("/api/admin/market/reset",D),d("Market reset"),K(""),ie(""),A(""),ee(""),ge()}catch(D){d(((V=(b=D==null?void 0:D.response)==null?void 0:b.data)==null?void 0:V.error)||"Failed to reset market")}finally{C(!1)}}async function hr(){var V,D;if(!U)return;be("");const b={};if(q!==""){const W=Number(q);if(!Number.isFinite(W)||W<=0){be("Enter a valid price override or leave blank to reset");return}b.price=W}if(Ve!==""){const W=Number(Ve);if(!Number.isFinite(W)){be("Invalid 24h change override");return}b.change_24h=W}if(J!==""){const W=Number(J);if(!Number.isFinite(W)||W<0){be("Invalid volume override");return}b.volume_24h=W}try{await te(t).post(`/api/spot/markets/${U}/price`,b),be("Spot market updated"),ge()}catch(W){be(((D=(V=W==null?void 0:W.response)==null?void 0:V.data)==null?void 0:D.error)||"Failed to update spot market")}}function yo(b){se(b);const V=O.find(D=>D.symbol===b);V&&(oe(String(V.price)),L(String(V.change_24h??"")),Re(String(V.volume_24h??"")))}return!e||e.role!=="admin"?c.jsx("div",{className:"card",children:"You must be an admin."}):c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"card space-y-3",children:[c.jsx("div",{className:"text-lg font-bold",children:"Market Controls"}),c.jsxs("div",{className:"text-sm text-white/70",children:["Symbol: ",c.jsx("span",{className:"text-white",children:n==null?void 0:n.symbol})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Set Price"}),c.jsx("input",{className:"input",value:s,onChange:b=>r(b.target.value),placeholder:String((n==null?void 0:n.base_price)||"")})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{className:"btn w-full",onClick:yt,children:"Apply"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Set Volatility (0..1)"}),c.jsx("input",{className:"input",value:l,onChange:b=>o(b.target.value),placeholder:String((n==null?void 0:n.volatility)||"")})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{className:"btn w-full",onClick:ri,children:"Apply"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Pump/Dump % (e.g. 5 or -5)"}),c.jsx("input",{className:"input",value:a,onChange:b=>u(b.target.value),placeholder:"%"})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{className:"btn w-full",onClick:li,children:"Execute"})})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{className:"btn bg-white/10 text-white",onClick:Xi,children:"Pause"}),c.jsx("button",{className:"btn",onClick:cr,children:"Resume"})]}),c.jsxs("div",{className:"border-t border-white/10 pt-3 space-y-3",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Reset Market"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Base Price"}),c.jsx("input",{className:"input",value:F,onChange:b=>K(b.target.value),placeholder:String((n==null?void 0:n.base_price)||"")})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Volatility (0..1)"}),c.jsx("input",{className:"input",value:ne,onChange:b=>ie(b.target.value),placeholder:String((n==null?void 0:n.volatility)||"")})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Symbol"}),c.jsx("input",{className:"input",value:Q,onChange:b=>A(b.target.value),placeholder:(n==null?void 0:n.symbol)||"BTCUSDT"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Pip Size"}),c.jsx("input",{className:"input",value:z,onChange:b=>ee(b.target.value),placeholder:String((n==null?void 0:n.pip_size)||1e-4)})]})]}),c.jsx("button",{className:"btn bg-rose-500 text-white",onClick:go,disabled:R,children:R?"Resetting":"Reset Market"})]}),h&&c.jsx("div",{className:"text-xs text-white/60",children:h}),c.jsxs("div",{className:"border-t border-white/10 pt-3 space-y-3",children:[c.jsx("div",{className:"text-lg font-bold",children:"Set User Balance"}),c.jsx("div",{className:"text-xs text-white/50",children:"Provide user email and new demo balance."}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"User Email"}),c.jsx("input",{className:"input",value:f,onChange:b=>y(b.target.value),placeholder:"user@example.com"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Balance (USD)"}),c.jsx("input",{className:"input",value:p,onChange:b=>m(b.target.value),placeholder:"10000"})]})]}),c.jsx("button",{className:"btn",onClick:mo,children:"Apply Balance"}),x&&c.jsx("div",{className:"text-xs text-white/60",children:x})]}),c.jsxs("div",{className:"border-t border-white/10 pt-3 space-y-3",children:[c.jsx("div",{className:"text-lg font-bold",children:"Send Notification"}),c.jsx("div",{className:"text-xs text-white/50",children:"Leave email empty to broadcast to all users."}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Title"}),c.jsx("input",{className:"input",value:g,onChange:b=>w(b.target.value),placeholder:"Announcement"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Message"}),c.jsx("textarea",{className:"input min-h-[100px]",value:N,onChange:b=>k(b.target.value),placeholder:"Details..."})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Target Email (optional)"}),c.jsx("input",{className:"input",value:M,onChange:b=>E(b.target.value),placeholder:"user@example.com"})]}),c.jsx("button",{className:"btn bg-brand text-black",onClick:vo,children:"Send Notification"}),j&&c.jsx("div",{className:"text-xs text-white/60",children:j})]})]}),c.jsxs("div",{className:"card space-y-3",children:[c.jsx("div",{className:"text-lg font-bold",children:"Spot Markets"}),c.jsx("div",{className:"text-xs text-white/60",children:"Update spot pair prices controlled by admin."}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Select Pair"}),c.jsx("select",{className:"input",value:U,onChange:b=>yo(b.target.value),children:O.map(b=>c.jsx("option",{value:b.symbol,children:b.symbol},b.symbol))})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Price"}),c.jsx("input",{className:"input",value:q,onChange:b=>oe(b.target.value),placeholder:"0"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"24h Change %"}),c.jsx("input",{className:"input",value:Ve,onChange:b=>L(b.target.value),placeholder:"0"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"24h Volume"}),c.jsx("input",{className:"input",value:J,onChange:b=>Re(b.target.value),placeholder:"0"})]})]}),c.jsx("button",{className:"btn",onClick:hr,children:"Apply Spot Update"}),ke&&c.jsx("div",{className:"text-xs text-white/60",children:ke}),c.jsx("div",{className:"border-t border-white/10 pt-3",children:c.jsxs("div",{className:"text-xs text-white/50",children:["Tracked markets: ",O.length]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"font-bold mb-2",children:"Current State"}),c.jsx("pre",{className:"text-xs bg-black/40 rounded-xl p-3 overflow-auto",children:JSON.stringify(n,null,2)})]})]})}function tk(){const[t]=u0(),e=t.get("token")||"",[n,i]=S.useState(""),[s,r]=S.useState(""),[l,o]=S.useState(!1),[a,u]=S.useState(!1),[h,d]=S.useState("");async function f(){d("");try{await te().post("/api/auth/request-password-reset",{email:n}),o(!0)}catch{d("Failed to request reset")}}async function y(){var p,m;d("");try{await te().post("/api/auth/reset-password",{token:e,new_password:s}),u(!0)}catch(x){d(((m=(p=x==null?void 0:x.response)==null?void 0:p.data)==null?void 0:m.error)||"Failed to reset")}}return e?c.jsxs("div",{className:"max-w-md mx-auto card",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Set a new password"}),a?c.jsx("div",{className:"text-green-400",children:"Password updated. You can now log in."}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"New password"}),c.jsx("input",{className:"input",type:"password",value:s,onChange:p=>r(p.target.value)})]}),c.jsx("button",{className:"btn w-full",onClick:y,children:"Update password"}),h&&c.jsx("div",{className:"text-red-400",children:h})]})]}):c.jsxs("div",{className:"max-w-md mx-auto card",children:[c.jsx("h2",{className:"text-xl font-bold mb-2",children:"Reset your password"}),c.jsx("p",{className:"text-white/70 mb-4 text-sm",children:"Enter your email. A reset link (for dev) is printed in the server logs."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"label",children:"Email"}),c.jsx("input",{className:"input",value:n,onChange:p=>i(p.target.value),placeholder:"you@example.com"})]}),c.jsx("button",{className:"btn w-full",onClick:f,children:"Send reset link"}),l&&c.jsx("div",{className:"text-green-400 text-sm",children:"If that email exists, a link has been generated (see server logs)."}),h&&c.jsx("div",{className:"text-red-400",children:h})]})]})}const nk=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2});function Ff({className:t}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),c.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]})}function ik({className:t}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"4"}),c.jsx("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}function sk({className:t}){return c.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function an({children:t}){var ne,ie,Q,A,z,ee,R;const{user:e,token:n,logout:i}=gt(),s=In(C=>C.summary),r=In(C=>C.setSummary),l=rs(C=>C.notifications),o=rs(C=>C.unread),a=rs(C=>C.setNotifications),u=rs(C=>C.appendNotification),h=rs(C=>C.markAllRead),[d,f]=S.useState(!1),[y,p]=S.useState(!1),[m,x]=S.useState(()=>localStorage.getItem("balance_hidden")==="1"),[v,g]=S.useState(()=>localStorage.getItem("theme")||"dark"),w=ir(),N=S.useRef(null),k=S.useRef(null);S.useEffect(()=>{const C=document.documentElement,O=document.body,B=v==="light"?"theme-light":"theme-dark";C.classList.remove("theme-light","theme-dark"),O.classList.remove("theme-light","theme-dark"),C.classList.add(B),O.classList.add(B),localStorage.setItem("theme",v)},[v]),S.useEffect(()=>{n&&(s||te(n).get("/api/trades/overview",{params:{limit:1}}).then(C=>r(C.data)).catch(C=>console.error("Failed to load account summary",C)))},[n,s,r]),S.useEffect(()=>{function C(O){N.current&&!N.current.contains(O.target)&&f(!1),k.current&&!k.current.contains(O.target)&&p(!1)}return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),S.useEffect(()=>{n&&te(n).get("/api/notifications").then(C=>a(C.data.notifications||[],C.data.unread||0)).catch(C=>console.error("Failed to load notifications",C))},[n,a]),S.useEffect(()=>{if(!n)return;const C=()=>{if(typeof window>"u")return;const B=window.AudioContext||window.webkitAudioContext;if(B)try{const U=new B,se=U.createOscillator(),q=U.createGain();se.type="sine",se.frequency.value=880,se.connect(q),q.connect(U.destination);const oe=U.currentTime;q.gain.setValueAtTime(1e-4,oe),q.gain.exponentialRampToValueAtTime(.1,oe+.02),q.gain.exponentialRampToValueAtTime(1e-4,oe+.4),se.start(oe),se.stop(oe+.4),setTimeout(()=>U.close(),500)}catch{}},O=({notification:B})=>{if(!B||B.user_id&&(e!=null&&e.id)&&B.user_id!==e.id)return;const U=y;u(B,{read:U}),U?te(n).post("/api/notifications/read",{ids:[B.id]}).catch(()=>{}):C()};return zl.on("notification",O),()=>{zl.off("notification",O)}},[n,e==null?void 0:e.id,u,y]);const M=((ne=s==null?void 0:s.balance)==null?void 0:ne.total)??0,E=m?"":nk.format(M),j=()=>{x(C=>{const O=!C;return localStorage.setItem("balance_hidden",O?"1":"0"),O})},I=C=>{f(!1),w(C)},F=()=>{g(C=>C==="light"?"dark":"light")},K=[];return e&&(K.push({label:"Trade",path:"/dashboard"}),K.push({label:"History",path:"/history"}),K.push({label:"Profile",path:"/profile"}),e.role==="admin"&&K.push({label:"Admin",path:"/admin"})),c.jsxs("div",{className:"min-h-screen grid grid-rows-[auto,1fr]",children:[c.jsx("header",{className:"sticky top-0 z-50 bg-black/50 backdrop-blur-md border-b border-white/10",children:c.jsxs("div",{className:"max-w-6xl mx-auto flex flex-wrap items-center justify-between gap-2 px-3 py-2.5 sm:px-4 sm:py-3",children:[c.jsx(kn,{to:"/",className:"flex items-center gap-2",children:c.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-br from-brand via-emerald-400 to-sky-500 flex items-center justify-center font-black text-black text-sm shadow-soft",children:"FX"})}),c.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-end flex-1",children:[e&&c.jsxs("div",{className:"balance-chip flex items-center gap-2 bg-black/30 border border-white/10 rounded-full px-4 py-1.5 text-xs sm:text-sm font-mono",children:[c.jsx("span",{className:"tracking-tight",children:E}),c.jsx("button",{onClick:j,className:"text-brand hover:text-brand-dark transition-colors",children:m?c.jsx(ok,{className:"w-4 h-4"}):c.jsx(lk,{className:"w-4 h-4"})})]}),!e&&c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(kn,{to:"/login",className:"btn",children:"Login"}),c.jsx(kn,{to:"/signup",className:"btn bg-white text-black",children:"Sign up"})]}),e&&c.jsxs("div",{className:"relative",ref:k,children:[c.jsxs("button",{className:"nav-icon relative flex items-center justify-center w-9 h-9 rounded-full bg-black/30 border border-white/10 text-white/80 hover:text-white transition-colors",onClick:()=>{const C=!y;p(C),C&&o>0&&te(n).post("/api/notifications/read-all").then(()=>h()).catch(()=>{})},"aria-label":"Toggle notifications",children:[c.jsx(Ff,{className:"w-4 h-4"}),o>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-brand text-black text-[10px] font-semibold rounded-full px-1 min-w-[16px] h-4 flex items-center justify-center",children:o>9?"9+":o})]}),y&&c.jsxs("div",{className:"fixed inset-0 z-[75] flex items-start justify-center sm:absolute sm:inset-auto sm:top-full sm:right-0 sm:z-50 sm:block sm:flex-none",children:[c.jsx("button",{type:"button",className:"absolute inset-0 bg-black/60 backdrop-blur-sm sm:hidden",onClick:()=>p(!1),"aria-label":"Close notifications overlay"}),c.jsxs("div",{className:"notification-panel relative mt-16 w-[min(420px,calc(100%-2rem))] sm:mt-2 mx-auto sm:mx-0 sm:w-72 md:w-80 max-h-[70vh] sm:max-h-[55vh] overflow-hidden rounded-3xl sm:rounded-2xl border border-white/10 bg-[#0b0f13]/95 shadow-soft backdrop-blur text-[11px]",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-white/10 font-semibold flex items-center justify-between sticky top-0 bg-[#0b0f13]/95 z-10 text-[10px] uppercase tracking-wide",children:[c.jsx("span",{className:"truncate",children:"Notifications"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-[9px] text-white/45 flex-shrink-0",children:[l.length," total"]}),c.jsx("button",{type:"button",onClick:()=>p(!1),className:"text-[10px] text-white/60 hover:text-white transition-colors sm:hidden",children:"Close"})]})]}),c.jsxs("div",{className:"divide-y divide-white/5 max-h-[calc(70vh-72px)] sm:max-h-[calc(55vh-56px)] overflow-y-auto px-1",children:[l.length===0&&c.jsxs("div",{className:"px-4 py-8 text-white/50 text-[11px] text-center space-y-2",children:[c.jsx("div",{className:"w-10 h-10 mx-auto mb-2 rounded-full bg-white/5 flex items-center justify-center",children:c.jsx(Ff,{className:"w-5 h-5 text-white/30"})}),"No notifications yet"]}),l.map(C=>c.jsx("div",{className:`px-2 py-2.5 hover:bg-white/5 transition-colors ${C.is_read?"bg-transparent":"bg-brand/10 border-l-[3px] border-brand/70"}`,children:c.jsxs("div",{className:"w-full space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] text-white/40 font-mono",children:[c.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${C.is_read?"bg-white/20":"bg-brand"}`}),c.jsxs("span",{children:[new Date(C.created_at).toLocaleDateString()," ",new Date(C.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),c.jsx("div",{className:"font-semibold text-white leading-tight text-[11px] notification-content break-words whitespace-pre-wrap",children:C.title}),c.jsx("div",{className:"text-white/65 text-[10px] leading-snug notification-message break-words whitespace-pre-wrap",children:C.message})]})},C.id))]}),l.length>0&&c.jsx("div",{className:"px-4 py-3 border-t border-white/10",children:c.jsx("button",{onClick:()=>{te(n).post("/api/notifications/read-all").then(()=>h()).catch(()=>{})},className:"text-[10px] text-brand hover:text-brand-dark transition-colors notification-content",children:"Mark all as read"})})]})]})]}),e&&c.jsxs("div",{className:"relative",ref:N,children:[c.jsxs("button",{className:"nav-icon flex items-center gap-2 bg-black/30 border border-white/10 rounded-full px-3 py-1 text-sm",onClick:()=>f(C=>!C),children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-brand/20 flex items-center justify-center text-brand font-semibold",children:((A=(Q=(ie=e.name)==null?void 0:ie[0])==null?void 0:Q.toUpperCase)==null?void 0:A.call(Q))||((R=(ee=(z=e.email)==null?void 0:z[0])==null?void 0:ee.toUpperCase)==null?void 0:R.call(ee))||"U"}),c.jsx("span",{className:"hidden sm:block",children:e.name||e.email})]}),d&&c.jsxs("div",{className:"absolute right-0 mt-2 w-52 rounded-xl border border-white/10 bg-[#0b0f13] shadow-soft p-2 space-y-1 text-sm",children:[K.map(C=>c.jsx("button",{onClick:()=>I(C.path),className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10",children:C.label},C.path)),c.jsxs("button",{onClick:F,className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 flex items-center gap-2",children:[c.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-white text-slate-900",children:v==="light"?c.jsx(sk,{className:"w-3.5 h-3.5"}):c.jsx(ik,{className:"w-3.5 h-3.5"})}),c.jsx("span",{children:v==="light"?"Night mode":"Day mode"})]}),c.jsx("button",{onClick:()=>{f(!1),i(),w("/")},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-white/10 text-rose-400",children:"Log out"})]})]})]})]})}),c.jsx("main",{className:"max-w-6xl mx-auto w-full p-4",children:t}),c.jsxs("footer",{className:"border-t border-white/10 p-4 text-center text-xs text-white/50",children:[" ",new Date().getFullYear()," OTC Market  Demo build"]})]})}function rk(){return c.jsxs(Hx,{children:[c.jsx(Ht,{path:"/",element:c.jsx(an,{children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h1",{className:"text-3xl md:text-5xl font-extrabold leading-tight",children:["Trade a simulated ",c.jsx("span",{className:"text-brand",children:"AdminControlled"})," OTC Market"]}),c.jsx("p",{className:"text-white/70",children:"Live candlesticks, manual trading, referrals, and a full admin dashboard to orchestrate the market."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(kn,{to:"/signup",className:"btn",children:"Get started"}),c.jsx(kn,{to:"/login",className:"btn bg-white text-black",children:"Sign in"})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("p",{className:"text-white/70",children:"Login as admin to control price, volatility and more."}),c.jsx("div",{className:"mt-3 p-3 bg-black/30 rounded-xl text-xs",children:"Admin (dev): admin@example.com / Admin#12345"})]})]})})}),c.jsx(Ht,{path:"/login",element:c.jsx(an,{children:c.jsx(eS,{})})}),c.jsx(Ht,{path:"/signup",element:c.jsx(an,{children:c.jsx(tS,{})})}),c.jsx(Ht,{path:"/reset-password",element:c.jsx(an,{children:c.jsx(tk,{})})}),c.jsx(Ht,{path:"/dashboard",element:c.jsx(an,{children:c.jsx(Q_,{})})}),c.jsx(Ht,{path:"/profile",element:c.jsx(an,{children:c.jsx(G_,{})})}),c.jsx(Ht,{path:"/history",element:c.jsx(an,{children:c.jsx(Z_,{})})}),c.jsx(Ht,{path:"/admin",element:c.jsx(an,{children:c.jsx(ek,{})})})]})}function lk({className:t}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"}),c.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function ok({className:t}){return c.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 19c-7 0-11-7-11-7a18.45 18.45 0 0 1 5.06-5.94"}),c.jsx("path",{d:"M3 3l18 18"}),c.jsx("path",{d:"M9.88 9.88A3 3 0 0 0 12 15a3 3 0 0 0 2.12-.88"})]})}xa.createRoot(document.getElementById("root")).render(c.jsx(Au.StrictMode,{children:c.jsx(Zx,{children:c.jsx(rk,{})})}));
